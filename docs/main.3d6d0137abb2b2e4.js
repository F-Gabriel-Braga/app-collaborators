"use strict";(self.webpackChunkapp_collaborators=self.webpackChunkapp_collaborators||[]).push([[179],{2011:(ht,Se,F)=>{F.d(Se,{Dh:()=>fe,GT:()=>ge,cc:()=>ke,hO:()=>Ue,on:()=>Z,pX:()=>ue,xv:()=>ye});var l=F(4650),j=F(127),O=F(5813);ht=F.hmd(ht);const oe=["ngOnDestroy"],ue=(me,et,Ke,Oe={})=>new Proxy(me,{get:(Re,Ce)=>Ke.runOutsideAngular(()=>{var Ge;if(me[Ce])return!(null===(Ge=Oe?.spy)||void 0===Ge)&&Ge.get&&Oe.spy.get(Ce,me[Ce]),me[Ce];if(oe.indexOf(Ce)>-1)return()=>{};const se=et.toPromise().then(de=>{const ve=de&&de[Ce];return"function"==typeof ve?ve.bind(de):ve&&ve.then?ve.then(K=>Ke.run(()=>K)):Ke.run(()=>ve)});return new Proxy(()=>{},{get:(de,ve)=>se[ve],apply:(de,ve,K)=>se.then(ee=>{var pe;const le=ee&&ee(...K);return!(null===(pe=Oe?.spy)||void 0===pe)&&pe.apply&&Oe.spy.apply(Ce,K,le),le})})})}),ge=(me,et)=>{et.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Oe=>{Object.defineProperty(me.prototype,Oe,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Oe))})})};class ae{constructor(et){return et}}const fe=new l.OlP("angularfire2.app.options"),ye=new l.OlP("angularfire2.app.name");function Z(me,et,Ke){const Re="object"==typeof Ke&&Ke||{};Re.name=Re.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Ge=j.Z.apps.filter(se=>se&&se.name===Re.name)[0]||et.runOutsideAngular(()=>j.Z.initializeApp(me,Re));try{JSON.stringify(me)!==JSON.stringify(Ge.options)&&z("error",`${Ge.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(Ge)}const z=(me,...et)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...et)},X={provide:ae,useFactory:Z,deps:[fe,l.R0b,[new l.FiY,ye]]};let Ue=(()=>{class me{constructor(Ke){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,Ke.toString())}static initializeApp(Ke,Oe){return{ngModule:me,providers:[{provide:fe,useValue:Ke},{provide:ye,useValue:Oe}]}}}return me.\u0275fac=function(Ke){return new(Ke||me)(l.LFG(l.Lbi))},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[X]}),me})();function ke(me,et,Ke,Oe,Re){const[,Ce,Ge]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===me)||[];if(Ce)return function De(me,et){try{return me.toString()===et.toString()}catch{return me===et}}(Re,Ge)||(be("error",`${et} was already initialized on the ${Ke} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Re,was:Ge})),Ce;{const se=Oe();return globalThis.\u0275AngularfireInstanceCache.push([me,se,Re]),se}}const it=!!ht.hot,be=(me,...et)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Se,F)=>{F.d(Se,{q4:()=>Mn,iC:()=>Yi,fc:()=>Gu,HU:()=>Qo,vb:()=>Dl,JM:()=>La});var l=F(4650),j=F(5867),O=F(5861),oe=F(9681),ue=F(2090),ge=F(4859),ae=F(1877),fe=F(8766);const ye="@firebase/installations",Z="0.5.16",X=`w:${Z}`,Ue="FIS_v2",et=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function Oe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:ee(I.expiresIn),creationTime:Date.now()}}function Ce(I,S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(I,S){const U=(yield S.json()).error;return et.create("request-failed",{requestName:I,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function se({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function de(I,{refreshToken:S}){const x=se(I);return x.append("Authorization",function pe(I){return`${Ue} ${I}`}(S)),x}function ve(I){return K.apply(this,arguments)}function K(){return(K=(0,O.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function ee(I){return Number(I.replace("s","000"))}function le(I,S){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:x}){const U=Oe(I),J=se(I),ce=S.getImmediate({optional:!0});if(ce){const ct=yield ce.getHeartbeatsHeader();ct&&J.append("x-firebase-client",ct)}const ze={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Ue,appId:I.appId,sdkVersion:X})},pt=yield ve(()=>fetch(U,ze));if(pt.ok){const ct=yield pt.json();return{fid:ct.fid||x,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Re(ct.authToken)}}throw yield Ce("Create Installation",pt)})).apply(this,arguments)}function Ve(I){return new Promise(S=>{setTimeout(S,I)})}const an=/^[cdef][\w-]{21}$/;function qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const x=function fn(I){return function mt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return an.test(x)?x:""}catch{return""}}function Cn(I){return`${I.appName}!${I.appId}`}const nn=new Map;function rn(I,S){const x=Cn(I);xr(x,S),function Hi(I,S){const x=function Nn(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=I=>{xr(I.data.key,I.data.fid)}),jr}();x&&x.postMessage({key:I,fid:S}),function es(){0===nn.size&&jr&&(jr.close(),jr=null)}()}(x,S)}function xr(I,S){const x=nn.get(I);if(x)for(const U of x)U(S)}let jr=null;const $n="firebase-installations-store";let Di=null;function ns(){return Di||(Di=(0,fe.X3)("firebase-installations-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore($n)}})),Di}function Qe(I,S){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(I,S){const x=Cn(I),J=(yield ns()).transaction($n,"readwrite"),ce=J.objectStore($n),Me=yield ce.get(x);return yield ce.put(S,x),yield J.done,(!Me||Me.fid!==S.fid)&&rn(I,S.fid),S})).apply(this,arguments)}function Gn(I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(I){const S=Cn(I),U=(yield ns()).transaction($n,"readwrite");yield U.objectStore($n).delete(S),yield U.done})).apply(this,arguments)}function fr(I,S){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(I,S){const x=Cn(I),J=(yield ns()).transaction($n,"readwrite"),ce=J.objectStore($n),Me=yield ce.get(x),ze=S(Me);return void 0===ze?yield ce.delete(x):yield ce.put(ze,x),yield J.done,ze&&(!Me||Me.fid!==ze.fid)&&rn(I,ze.fid),ze})).apply(this,arguments)}function En(I){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,O.Z)(function*(I){let S;const x=yield fr(I.appConfig,U=>{const J=vn(U),ce=gt(I,J);return S=ce.registrationPromise,ce.installationEntry});return""===x.fid?{installationEntry:yield S}:{installationEntry:x,registrationPromise:S}})).apply(this,arguments)}function vn(I){return Rt(I||{fid:qe(),registrationStatus:0})}function gt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(et.create("app-offline"))};const x={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},U=function _t(I,S){return Pt.apply(this,arguments)}(I,x);return{installationEntry:x,registrationPromise:U}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Kr(I)}:{installationEntry:S}}function Pt(){return(Pt=(0,O.Z)(function*(I,S){try{const x=yield le(I,S);return Qe(I.appConfig,x)}catch(x){throw Ke(x)&&409===x.customData.serverCode?yield Gn(I.appConfig):yield Qe(I.appConfig,{fid:S.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Kr(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,O.Z)(function*(I){let S=yield Rr(I.appConfig);for(;1===S.registrationStatus;)yield Ve(100),S=yield Rr(I.appConfig);if(0===S.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield En(I);return U||x}return S})).apply(this,arguments)}function Rr(I){return fr(I,S=>{if(!S)throw et.create("installation-not-found");return Rt(S)})}function Rt(I){return function Gr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ut(I,S){return ii.apply(this,arguments)}function ii(){return(ii=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:S},x){const U=Qt(I,x),J=de(I,x),ce=S.getImmediate({optional:!0});if(ce){const ct=yield ce.getHeartbeatsHeader();ct&&J.append("x-firebase-client",ct)}const ze={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:X,appId:I.appId}})},pt=yield ve(()=>fetch(U,ze));if(pt.ok)return Re(yield pt.json());throw yield Ce("Generate Auth Token",pt)})).apply(this,arguments)}function Qt(I,{fid:S}){return`${Oe(I)}/${S}/authTokens:generate`}function ur(I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(I,S=!1){let x;const U=yield fr(I.appConfig,ce=>{if(!en(ce))throw et.create("not-registered");const Me=ce.authToken;if(!S&&q(Me))return ce;if(1===Me.requestStatus)return x=nt(I,S),ce;{if(!navigator.onLine)throw et.create("app-offline");const ze=Y(ce);return x=Dt(I,ze),ze}});return x?yield x:U.authToken})).apply(this,arguments)}function nt(I,S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,O.Z)(function*(I,S){let x=yield rt(I.appConfig);for(;1===x.authToken.requestStatus;)yield Ve(100),x=yield rt(I.appConfig);const U=x.authToken;return 0===U.requestStatus?ur(I,S):U})).apply(this,arguments)}function rt(I){return fr(I,S=>{if(!en(S))throw et.create("not-registered");return function H(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Dt(I,S){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(I,S){try{const x=yield Ut(I,S),U=Object.assign(Object.assign({},S),{authToken:x});return yield Qe(I.appConfig,U),x}catch(x){if(!Ke(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Qe(I.appConfig,U)}else yield Gn(I.appConfig);throw x}})).apply(this,arguments)}function en(I){return void 0!==I&&2===I.registrationStatus}function q(I){return 2===I.requestStatus&&!function $(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function Y(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function B(){return(B=(0,O.Z)(function*(I){const S=I,{installationEntry:x,registrationPromise:U}=yield En(S);return U?U.catch(console.error):ur(S).catch(console.error),x.fid})).apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(I,S=!1){const x=I;return yield at(x),(yield ur(x,S)).token})).apply(this,arguments)}function at(I){return lt.apply(this,arguments)}function lt(){return(lt=(0,O.Z)(function*(I){const{registrationPromise:S}=yield En(I);S&&(yield S)})).apply(this,arguments)}function $s(I){return et.create("missing-app-config-values",{valueName:I})}const Co="installations",Gs=I=>{const S=I.getProvider("app").getImmediate(),x=function In(I){if(!I||!I.options)throw $s("App Configuration");if(!I.name)throw $s("App Name");const S=["projectId","apiKey","appId"];for(const x of S)if(!I.options[x])throw $s(x);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},zs=I=>{const S=I.getProvider("app").getImmediate(),x=(0,oe._getProvider)(S,Co).getImmediate();return{getId:()=>function R(I){return B.apply(this,arguments)}(x),getToken:J=>function re(I){return Ne.apply(this,arguments)}(x,J)}};(function ol(){(0,oe._registerComponent)(new ge.wA(Co,Gs,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("installations-internal",zs,"PRIVATE"))})(),(0,oe.registerVersion)(ye,Z),(0,oe.registerVersion)(ye,Z,"esm2017");const is="@firebase/remote-config",qn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ll{constructor(S,x,U,J){this.client=S,this.storage=x,this.storageCache=U,this.logger=J}isCachedDataFresh(S,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,J=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var x=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(S.cacheMaxAgeMillis,U))return J;S.eTag=J&&J.eTag;const ce=yield x.client.fetch(S),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Me),ce})()}}function pa(I=navigator){return I.languages&&I.languages[0]||I.language}class Qs{constructor(S,x,U,J,ce,Me){this.firebaseInstallations=S,this.sdkVersion=x,this.namespace=U,this.projectId=J,this.apiKey=ce,this.appId=Me}fetch(S){var x=this;return(0,O.Z)(function*(){var U,J,ce;const[Me,ze]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ct={sdk_version:x.sdkVersion,app_instance_id:Me,app_instance_id_token:ze,app_id:x.appId,language_code:pa()},Zn={method:"POST",headers:ut,body:JSON.stringify(Ct)},_r=fetch(ct,Zn),oo=new Promise((Ti,xs)=>{S.signal.addEventListener(()=>{const Va=new Error("The operation was aborted.");Va.name="AbortError",xs(Va)})});let ao;try{yield Promise.race([_r,oo]),ao=yield _r}catch(Ti){let xs="fetch-client-network";throw"AbortError"===(null===(U=Ti)||void 0===U?void 0:U.name)&&(xs="fetch-timeout"),qn.create(xs,{originalErrorMessage:null===(J=Ti)||void 0===J?void 0:J.message})}let gn=ao.status;const hs=ao.headers.get("ETag")||void 0;let Tn,Sl;if(200===ao.status){let Ti;try{Ti=yield ao.json()}catch(xs){throw qn.create("fetch-client-parse",{originalErrorMessage:null===(ce=xs)||void 0===ce?void 0:ce.message})}Tn=Ti.entries,Sl=Ti.state}if("INSTANCE_STATE_UNSPECIFIED"===Sl?gn=500:"NO_CHANGE"===Sl?gn=304:("NO_TEMPLATE"===Sl||"EMPTY_CONFIG"===Sl)&&(Tn={}),304!==gn&&200!==gn)throw qn.create("fetch-status",{httpStatus:gn});return{status:gn,eTag:hs,config:Tn}})()}}class os{constructor(S,x){this.client=S,this.storage=x}fetch(S){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:x,backoffCount:U}){var J=this;return(0,O.Z)(function*(){yield function ai(I,S){return new Promise((x,U)=>{const J=Math.max(S-Date.now(),0),ce=setTimeout(x,J);I.addEventListener(()=>{clearTimeout(ce),U(qn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,x);try{const ce=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Mp(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ce))throw ce;const Me={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Me),J.attemptFetch(S,Me)}})()}}class Rp{constructor(S,x,U,J,ce){this.app=S,this._client=x,this._storageCache=U,this._storage=J,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ma(I,S){var x;const U=I.target.error||void 0;return qn.create(S,{originalErrorMessage:U&&(null===(x=U)||void 0===x?void 0:x.message)})}const Eo="app_namespace_store";class wu{constructor(S,x,U,J=function Op(){return new Promise((I,S)=>{var x;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=J=>{S(ma(J,"storage-open"))},U.onsuccess=J=>{I(J.target.result)},U.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(U){S(qn.create("storage-open",{originalErrorMessage:null===(x=U)||void 0===x?void 0:x.message}))}})}()){this.appId=S,this.appName=x,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,ce)=>{var Me;const pt=U.transaction([Eo],"readonly").objectStore(Eo),ct=x.createCompositeKey(S);try{const ut=pt.get(ct);ut.onerror=Ct=>{ce(ma(Ct,"storage-get"))},ut.onsuccess=Ct=>{const Zn=Ct.target.result;J(Zn?Zn.value:void 0)}}catch(ut){ce(qn.create("storage-get",{originalErrorMessage:null===(Me=ut)||void 0===Me?void 0:Me.message}))}})})()}set(S,x){var U=this;return(0,O.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ce,Me)=>{var ze;const ct=J.transaction([Eo],"readwrite").objectStore(Eo),ut=U.createCompositeKey(S);try{const Ct=ct.put({compositeKey:ut,value:x});Ct.onerror=Zn=>{Me(ma(Zn,"storage-set"))},Ct.onsuccess=()=>{ce()}}catch(Ct){Me(qn.create("storage-set",{originalErrorMessage:null===(ze=Ct)||void 0===ze?void 0:ze.message}))}})})()}delete(S){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,ce)=>{var Me;const pt=U.transaction([Eo],"readwrite").objectStore(Eo),ct=x.createCompositeKey(S);try{const ut=pt.delete(ct);ut.onerror=Ct=>{ce(ma(Ct,"storage-delete"))},ut.onsuccess=()=>{J()}}catch(ut){ce(qn.create("storage-delete",{originalErrorMessage:null===(Me=ut)||void 0===Me?void 0:Me.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Do{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const x=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),ce=yield x;ce&&(S.lastFetchStatus=ce);const Me=yield U;Me&&(S.lastSuccessfulFetchTimestampMillis=Me);const ze=yield J;ze&&(S.activeConfig=ze)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function l_(){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Cu(){(0,oe._registerComponent)(new ge.wA("remote-config",function I(S,{instanceIdentifier:x}){const U=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!(0,ue.hl)())throw qn.create("indexed-db-unavailable");const{projectId:ce,apiKey:Me,appId:ze}=U.options;if(!ce)throw qn.create("registration-project-id");if(!Me)throw qn.create("registration-api-key");if(!ze)throw qn.create("registration-app-id");const pt=new wu(ze,U.name,x=x||"firebase"),ct=new Do(pt),ut=new ae.Yd(is);ut.logLevel=ae.in.ERROR;const Ct=new Qs(J,oe.SDK_VERSION,x,ce,Me,ze),Zn=new os(Ct,pt),_r=new ll(Zn,pt,ct,ut),oo=new Rp(U,_r,ct,pt,ut);return function xn(I){const S=(0,ue.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(oo),oo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(is,"0.3.15"),(0,oe.registerVersion)(is,"0.3.15","esm2017")}();const wr="/firebase-messaging-sw.js",So="/firebase-cloud-messaging-push-scope",Ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ul="google.c.a.c_id",oc="google.c.a.c_l",Iu="google.c.a.ts",To="google.c.a.e";var li=(()=>{return(I=li||(li={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",li;var I})();function as(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jr(I){const x=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),J=new Uint8Array(U.length);for(let ce=0;ce<U.length;++ce)J[ce]=U.charCodeAt(ce);return J}const Xs="fcm_token_details_db",Ao="fcm_token_object_Store";function Pp(I){return ac.apply(this,arguments)}function ac(){return ac=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Xs))return null;let S=null;return(yield(0,fe.X3)(Xs,5,{upgrade:(U=(0,O.Z)(function*(J,ce,Me,ze){var pt;if(ce<2||!J.objectStoreNames.contains(Ao))return;const ct=ze.objectStore(Ao),ut=yield ct.index("fcmSenderId").get(I);if(yield ct.clear(),ut)if(2===ce){const Ct=ut;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;S={token:Ct.fcmToken,createTime:null!==(pt=Ct.createTime)&&void 0!==pt?pt:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:as(Ct.vapidKey)}}}else if(3===ce){const Ct=ut;S={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:as(Ct.auth),p256dh:as(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:as(Ct.vapidKey)}}}else if(4===ce){const Ct=ut;S={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:as(Ct.auth),p256dh:as(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:as(Ct.vapidKey)}}}}),function(ce,Me,ze,pt){return U.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Xs),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Fn(S)?S:null;var U}),ac.apply(this,arguments)}function Fn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ii="firebase-messaging-store";let Cr=null;function hl(){return Cr||(Cr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(Ii)}})),Cr}function Mo(I){return ji.apply(this,arguments)}function ji(){return(ji=(0,O.Z)(function*(I){const S=ui(I),U=yield(yield hl()).transaction(Ii).objectStore(Ii).get(S);if(U)return U;{const J=yield Pp(I.appConfig.senderId);if(J)return yield ln(I,J),J}})).apply(this,arguments)}function ln(I,S){return lc.apply(this,arguments)}function lc(){return(lc=(0,O.Z)(function*(I,S){const x=ui(I),J=(yield hl()).transaction(Ii,"readwrite");return yield J.objectStore(Ii).put(S,x),yield J.done,S})).apply(this,arguments)}function Is(I){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(I){const S=ui(I),U=(yield hl()).transaction(Ii,"readwrite");yield U.objectStore(Ii).delete(S),yield U.done})).apply(this,arguments)}function ui({appConfig:I}){return I.appId}const Bn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(I,S){return _a.apply(this,arguments)}function _a(){return(_a=(0,O.Z)(function*(I,S){var x;const U=yield ba(I),J=xe(S),ce={method:"POST",headers:U,body:JSON.stringify(J)};let Me;try{Me=yield(yield fetch(Js(I.appConfig),ce)).json()}catch(ze){throw Bn.create("token-subscribe-failed",{errorInfo:null===(x=ze)||void 0===x?void 0:x.toString()})}if(Me.error)throw Bn.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw Bn.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function Np(I,S){return ya.apply(this,arguments)}function ya(){return(ya=(0,O.Z)(function*(I,S){var x;const U=yield ba(I),J=xe(S.subscriptionOptions),ce={method:"PATCH",headers:U,body:JSON.stringify(J)};let Me;try{Me=yield(yield fetch(`${Js(I.appConfig)}/${S.token}`,ce)).json()}catch(ze){throw Bn.create("token-update-failed",{errorInfo:null===(x=ze)||void 0===x?void 0:x.toString()})}if(Me.error)throw Bn.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw Bn.create("token-update-no-token");return Me.token})).apply(this,arguments)}function Tu(I,S){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(I,S){var x;const J={method:"DELETE",headers:yield ba(I)};try{const Me=yield(yield fetch(`${Js(I.appConfig)}/${S}`,J)).json();if(Me.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(ce){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(x=ce)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Js({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ba(I){return xo.apply(this,arguments)}function xo(){return(xo=(0,O.Z)(function*({appConfig:I,installations:S}){const x=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function xe({p256dh:I,auth:S,endpoint:x,vapidKey:U}){const J={web:{endpoint:x,auth:S,p256dh:I}};return U!==Ds&&(J.web.applicationPubKey=U),J}const Kt=6048e5;function sh(I){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,O.Z)(function*(I){const S=yield oh(I.swRegistration,I.vapidKey),x={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:as(S.getKey("auth")),p256dh:as(S.getKey("p256dh"))},U=yield Mo(I.firebaseDependencies);if(U){if(Fp(U.subscriptionOptions,x))return Date.now()>=U.createTime+Kt?fl(I,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield Tu(I.firebaseDependencies,U.token)}catch(J){console.warn(J)}return pl(I.firebaseDependencies,x)}return pl(I.firebaseDependencies,x)})).apply(this,arguments)}function er(I){return ko.apply(this,arguments)}function ko(){return(ko=(0,O.Z)(function*(I){const S=yield Mo(I.firebaseDependencies);S&&(yield Tu(I.firebaseDependencies,S.token),yield Is(I.firebaseDependencies));const x=yield I.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function fl(I,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(I,S){try{const x=yield Np(I.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:x,createTime:Date.now()});return yield ln(I.firebaseDependencies,U),x}catch(x){throw yield er(I),x}})).apply(this,arguments)}function pl(I,S){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,O.Z)(function*(I,S){const U={token:yield Ft(I,S),createTime:Date.now(),subscriptionOptions:S};return yield ln(I,U),U.token})).apply(this,arguments)}function oh(I,S){return wa.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jr(S)})})).apply(this,arguments)}function Fp(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function eo(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function tr(I,S){if(!S.notification)return;I.notification={};const x=S.notification.title;x&&(I.notification.title=x);const U=S.notification.body;U&&(I.notification.body=U);const J=S.notification.image;J&&(I.notification.image=J);const ce=S.notification.icon;ce&&(I.notification.icon=ce)}(S,I),function $i(I,S){!S.data||(I.data=S.data)}(S,I),function Ca(I,S){var x,U,J,ce,Me;if(!(S.fcmOptions||null!==(x=S.notification)&&void 0!==x&&x.click_action))return;I.fcmOptions={};const ze=null!==(J=null===(U=S.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(ce=S.notification)||void 0===ce?void 0:ce.click_action;ze&&(I.fcmOptions.link=ze);const pt=null===(Me=S.fcmOptions)||void 0===Me?void 0:Me.analytics_label;pt&&(I.fcmOptions.analyticsLabel=pt)}(S,I),S}function Ea(I){return"object"==typeof I&&!!I&&ul in I}function ls(I,S){const x=[];for(let U=0;U<I.length;U++)x.push(I.charAt(U)),U<S.length&&x.push(S.charAt(U));return x.join("")}function uc(I){return Bn.create("missing-app-config-values",{valueName:I})}ls("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ls("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mu{constructor(S,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Au(I){if(!I||!I.options)throw uc("App Configuration Object");if(!I.name)throw uc("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:x}=I;for(const U of S)if(!x[U])throw uc(U);return{appName:I.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function ah(I){return Po.apply(this,arguments)}function Po(){return(Po=(0,O.Z)(function*(I){var S;try{I.swRegistration=yield navigator.serviceWorker.register(wr,{scope:So}),I.swRegistration.update().catch(()=>{})}catch(x){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=x)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function dc(I,S){return Da.apply(this,arguments)}function Da(){return(Da=(0,O.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield ah(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function hc(I,S){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,O.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=Ds)})).apply(this,arguments)}function No(){return(No=(0,O.Z)(function*(I,S){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield hc(I,S?.vapidKey),yield dc(I,S?.serviceWorkerRegistration),sh(I)})).apply(this,arguments)}function lh(I,S,x){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,O.Z)(function*(I,S,x){const U=ch(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[ul],message_name:x[oc],message_time:x[Iu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ch(I){switch(I){case li.NOTIFICATION_CLICKED:return"notification_open";case li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ss(){return(Ss=(0,O.Z)(function*(I,S){const x=S.data;if(!x.isFirebaseMessaging)return;I.onMessageHandler&&x.messageType===li.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(eo(x)):I.onMessageHandler.next(eo(x)));const U=x.data;Ea(U)&&"1"===U[To]&&(yield lh(I,x.messageType,U))})).apply(this,arguments)}const Ts="@firebase/messaging",Rn=I=>{const S=new Mu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Ru(I,S){return Ss.apply(this,arguments)}(S,x)),S},cs=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:U=>function xu(I,S){return No.apply(this,arguments)}(S,U)}};function fc(){return pc.apply(this,arguments)}function pc(){return(pc=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kn(){(0,oe._registerComponent)(new ge.wA("messaging",Rn,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("messaging-internal",cs,"PRIVATE")),(0,oe.registerVersion)(Ts,"0.11.0"),(0,oe.registerVersion)(Ts,"0.11.0","esm2017")}();const Bo="analytics",Nu="firebase_id",yc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fu="https://www.googletagmanager.com/gtag/js",Vn=new ae.Yd("@firebase/analytics");function gl(I){return Promise.all(I.map(S=>S.catch(x=>x)))}function _l(I,S){const x=document.createElement("script");x.src=`${Fu}?l=${I}&id=${S}`,x.async=!0,document.head.appendChild(x)}function uh(I,S,x,U,J,ce){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(I,S,x,U,J,ce){const Me=U[J];try{if(Me)yield S[Me];else{const pt=(yield gl(x)).find(ct=>ct.measurementId===J);pt&&(yield S[pt.appId])}}catch(ze){Vn.error(ze)}I("config",J,ce)})).apply(this,arguments)}function us(I,S,x,U,J){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(I,S,x,U,J){try{let ce=[];if(J&&J.send_to){let Me=J.send_to;Array.isArray(Me)||(Me=[Me]);const ze=yield gl(x);for(const pt of Me){const ct=ze.find(Ct=>Ct.measurementId===pt),ut=ct&&S[ct.appId];if(!ut){ce=[];break}ce.push(ut)}}0===ce.length&&(ce=Object.values(S)),yield Promise.all(ce),I("event",U,J||{})}catch(ce){Vn.error(ce)}})).apply(this,arguments)}function Lu(I){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(Fu)&&x.src.includes(I))return x;return null}const nr=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xa=new class bc{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Vo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function fh(I){return Un.apply(this,arguments)}function Un(){return(Un=(0,O.Z)(function*(I){var S;const{appId:x,apiKey:U}=I,J={method:"GET",headers:Vo(U)},ce=yc.replace("{app-id}",x),Me=yield fetch(ce,J);if(200!==Me.status&&304!==Me.status){let ze="";try{const pt=yield Me.json();null!==(S=pt.error)&&void 0!==S&&S.message&&(ze=pt.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:ze})}return Me.json()})).apply(this,arguments)}function Bu(I){return ei.apply(this,arguments)}function ei(){return(ei=(0,O.Z)(function*(I,S=xa,x){const{appId:U,apiKey:J,measurementId:ce}=I.options;if(!U)throw nr.create("no-app-id");if(!J){if(ce)return{measurementId:ce,appId:U};throw nr.create("no-api-key")}const Me=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Ra;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==x?x:6e4),Vu({appId:U,apiKey:J,measurementId:ce},Me,ze,S)})).apply(this,arguments)}function Vu(I,S,x){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:x},U,J=xa){var ce,Me;const{appId:ze,measurementId:pt}=I;try{yield wc(U,S)}catch(ct){if(pt)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${null===(ce=ct)||void 0===ce?void 0:ce.message}]`),{appId:ze,measurementId:pt};throw ct}try{const ct=yield fh(I);return J.deleteThrottleMetadata(ze),ct}catch(ct){const ut=ct;if(!vl(ut)){if(J.deleteThrottleMetadata(ze),pt)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pt} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ze,measurementId:pt};throw ct}const Ct=503===Number(null===(Me=ut?.customData)||void 0===Me?void 0:Me.httpStatus)?(0,ue.$s)(x,J.intervalMillis,30):(0,ue.$s)(x,J.intervalMillis),Zn={throttleEndTimeMillis:Date.now()+Ct,backoffCount:x+1};return J.setThrottleMetadata(ze,Zn),Vn.debug(`Calling attemptFetch again in ${Ct} millis`),Vu(I,Zn,U,J)}})).apply(this,arguments)}function wc(I,S){return new Promise((x,U)=>{const J=Math.max(S-Date.now(),0),ce=setTimeout(x,J);I.addEventListener(()=>{clearTimeout(ce),U(nr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function vl(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Ra{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let to,wl;function Uo(){return(Uo=(0,O.Z)(function*(I,S,x,U,J){if(J&&J.global)I("event",x,U);else{const ce=yield S;I("event",x,Object.assign(Object.assign({},U),{send_to:ce}))}})).apply(this,arguments)}function $o(I){wl=I}function Cc(I){to=I}function Ms(){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(){var I;if(!(0,ue.hl)())return Vn.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(S){return Vn.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(I=S)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(I,S,x,U,J,ce,Me){var ze;const pt=Bu(I);pt.then(_r=>{x[_r.measurementId]=_r.appId,I.options.measurementId&&_r.measurementId!==I.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>Vn.error(_r)),S.push(pt);const ct=Ms().then(_r=>{if(_r)return U.getId()}),[ut,Ct]=yield Promise.all([pt,ct]);Lu(ce)||_l(ce,ut.measurementId),wl&&(J("consent","default",wl),$o(void 0)),J("js",new Date);const Zn=null!==(ze=Me?.config)&&void 0!==ze?ze:{};return Zn.origin="firebase",Zn.update=!0,null!=Ct&&(Zn[Nu]=Ct),J("config",ut.measurementId,Zn),to&&(J("set",to),Cc(void 0)),ut.measurementId})).apply(this,arguments)}class Cl{constructor(S){this.app=S}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},qo=[];const ro={};let Wo,zi,Zo="dataLayer",Hu=!1;function gh(I,S,x){!function Lp(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((U,J)=>`(${J+1}) ${U}`).join(" "),x=nr.create("invalid-analytics-context",{errorInfo:S});Vn.warn(x.message)}}();const U=I.options.appId;if(!U)throw nr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw nr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[U])throw nr.create("already-exists",{id:U});if(!Hu){!function yl(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Zo);const{wrappedGtag:ce,gtagCore:Me}=function Ma(I,S,x,U,J){let ce=function(...Me){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ce=window[J]),window[J]=function vc(I,S,x,U){function ce(){return(ce=(0,O.Z)(function*(Me,ze,pt){try{"event"===Me?yield us(I,S,x,ze,pt):"config"===Me?yield uh(I,S,x,U,ze,pt):"consent"===Me?I("consent","update",pt):I("set",ze)}catch(ct){Vn.error(ct)}})).apply(this,arguments)}return function J(Me,ze,pt){return ce.apply(this,arguments)}}(ce,I,S,x),{gtagCore:ce,wrappedGtag:window[J]}}(kr,qo,ro,Zo,"gtag");zi=ce,Wo=Me,Hu=!0}return kr[U]=function mh(I,S,x,U,J,ce,Me){return zo.apply(this,arguments)}(I,qo,ro,S,Wo,Zo,x),new Cl(I)}function u_(){return _h.apply(this,arguments)}function _h(){return(_h=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const Dc="@firebase/analytics";!function tn(){(0,oe._registerComponent)(new ge.wA(Bo,(S,{options:x})=>gh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new ge.wA("analytics-internal",function I(S){try{const x=S.getProvider(Bo).getImmediate();return{logEvent:(U,J,ce)=>function mr(I,S,x,U){I=(0,ue.m9)(I),function ka(I,S,x,U,J){return Uo.apply(this,arguments)}(zi,kr[I.app.options.appId],S,x,U).catch(J=>Vn.error(J))}(x,U,J,ce)}}catch(x){throw nr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(Dc,"0.8.4"),(0,oe.registerVersion)(Dc,"0.8.4","esm2017")}();var gr=F(4408),St=F(7565);const Gt=new class hi extends St.v{}(class Ic extends gr.o{constructor(S,x){super(S,x),this.scheduler=S,this.work=x}schedule(S,x=0){return x>0?super.schedule(S,x):(this.delay=x,this.state=S,this.scheduler.flush(this),this)}execute(S,x){return x>0||this.closed?super.execute(S,x):this._execute(S,x)}requestAsyncId(S,x,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(S,x,U):(S.flush(this),0)}});var Er=F(4986),fi=F(8505),rr=F(5363),ju=F(9468);const Mn=new l.GfV("7.4.1"),yt="__angularfire_symbol__analyticsIsSupportedValue",qi="__angularfire_symbol__analyticsIsSupported",Sc="__angularfire_symbol__remoteConfigIsSupportedValue",Yo="__angularfire_symbol__remoteConfigIsSupported",Tc="__angularfire_symbol__messagingIsSupportedValue",Fa="__angularfire_symbol__messagingIsSupported";function La(I,S,x){if(S){if(1===S.length)return S[0];const ce=S.filter(Me=>Me.app===x);if(1===ce.length)return ce[0]}return x.container.getProvider(I).getImmediate({optional:!0})}globalThis[qi]||(globalThis[qi]=u_().then(I=>globalThis[yt]=I).catch(()=>globalThis[yt]=!1)),globalThis[Fa]||(globalThis[Fa]=fc().then(I=>globalThis[Tc]=I).catch(()=>globalThis[Tc]=!1)),globalThis[Yo]||(globalThis[Yo]=l_().then(I=>globalThis[Sc]=I).catch(()=>globalThis[Sc]=!1));const Dl=(I,S)=>{const x=S?[S]:(0,j.C6)(),U=[];return x.forEach(J=>{J.container.getProvider(I).instances.forEach(Me=>{U.includes(Me)||U.push(Me)})}),U};function Zi(){}class Dr{constructor(S,x=Gt){this.zone=S,this.delegate=x}now(){return this.delegate.now()}schedule(S,x,U){const J=this.zone;return this.delegate.schedule(function(Me){J.runGuarded(()=>{S.apply(this,[Me])})},x,U)}}class io{constructor(S){this.zone=S,this.task=null}call(S,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zi,{},Zi,Zi)),x.pipe((0,fi.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qo=(()=>{class I{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Dr(Zone.current)),this.insideAngular=x.run(()=>new Dr(Zone.current,Er.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(x){return new(x||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Wi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Gu(I){return I.pipe((0,rr.Q)(Wi().outsideAngular))}function Yi(I){return Wi(),function Il(I){return function(x){return(x=x.lift(new io(I.ngZone))).pipe((0,ju.R)(I.outsideAngular),(0,rr.Q)(I.insideAngular))}}(Wi())(I)}},8247:(ht,Se,F)=>{F.d(Se,{$:()=>Js,A:()=>z,B:()=>ke,G:()=>zs,H:()=>Qr,J:()=>os,L:()=>q,M:()=>cl,N:()=>Du,P:()=>Er,Q:()=>ul,R:()=>d_,T:()=>oc,U:()=>Ds,V:()=>li,W:()=>as,X:()=>Pp,Y:()=>ga,Z:()=>Ft,_:()=>Np,a:()=>As,a0:()=>sh,a1:()=>er,a2:()=>fl,a3:()=>pl,a4:()=>oh,a5:()=>Fp,a6:()=>tr,a7:()=>$i,a8:()=>Ea,a9:()=>ls,aA:()=>$,aB:()=>pt,aC:()=>Gu,aD:()=>so,aE:()=>wt,aI:()=>Vo,aL:()=>To,aa:()=>ah,ab:()=>dc,ac:()=>hc,af:()=>lh,ag:()=>ch,ah:()=>Ru,ak:()=>Ii,al:()=>mc,an:()=>Fu,ao:()=>Ta,ap:()=>ve,aq:()=>Le,ar:()=>at,as:()=>Ke,at:()=>Ch,au:()=>hs,av:()=>Nt,aw:()=>Oe,ax:()=>se,ay:()=>_r,az:()=>ee,b:()=>nr,c:()=>Tc,d:()=>yh,e:()=>Ac,f:()=>Il,g:()=>U,h:()=>I,i:()=>Go,j:()=>Me,k:()=>__,l:()=>Na,m:()=>Ua,o:()=>fe,r:()=>gr,s:()=>Pa,u:()=>Gt});var l=F(5861),j=F(2090),O=F(9681),oe=F(1877),ue=F(655),ge=F(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new oe.Yd("@firebase/auth");function et(b,...m){me.logLevel<=oe.in.ERROR&&me.error(`Auth (${O.SDK_VERSION}): ${b}`,...m)}function Ke(b,...m){throw Ge(b,...m)}function Oe(b,...m){return Ge(b,...m)}function Re(b,m,_){const C=Object.assign(Object.assign({},De()),{[m]:_});return new j.LL("auth","Firebase",C).create(m,{appName:b.name})}function Ce(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ke(b,"argument-error"),Re(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return it.create(b,...m)}function se(b,m,..._){if(!b)throw Ge(m,..._)}function de(b){const m="INTERNAL ASSERTION FAILED: "+b;throw et(m),new Error(m)}function ve(b,m){b||de(m)}const K=new Map;function ee(b){ve(b instanceof Function,"Expected a class definition");let m=K.get(b);return m?(ve(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,K.set(b,m),m)}function Be(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ve(){return"http:"===mt()||"https:"===mt()}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class qe{constructor(m,_){this.shortDelay=m,this.longDelay=_,ve(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ve()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fn(b,m){ve(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Cn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new qe(3e4,6e4);function Yt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function jt(b,m,_,C){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(b,m,_,C,M={}){return Hi(b,M,(0,l.Z)(function*(){let N={},te={};C&&("GET"===m?te=C:N={body:JSON.stringify(C)});const Ae=(0,j.xO)(Object.assign({key:b.config.apiKey},te)).slice(1),ot=yield b._getAdditionalHeaders();return ot["Content-Type"]="application/json",b.languageCode&&(ot["X-Firebase-Locale"]=b.languageCode),Cn.fetch()(ts(b,b.config.apiHost,_,Ae),Object.assign({method:m,headers:ot,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Hi(b,m,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},nn),m);try{const M=new $r(b),N=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const te=yield N.json();if("needConfirmation"in te)throw $n(b,"account-exists-with-different-credential",te);if(N.ok&&!("errorMessage"in te))return te;{const Ae=N.ok?te.errorMessage:te.error.message,[ot,Tt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw $n(b,"credential-already-in-use",te);if("EMAIL_EXISTS"===ot)throw $n(b,"email-already-in-use",te);if("USER_DISABLED"===ot)throw $n(b,"user-disabled",te);const Xt=C[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Re(b,Xt,Tt);Ke(b,Xt)}}catch(M){if(M instanceof j.ZR)throw M;Ke(b,"network-request-failed")}})).apply(this,arguments)}function Nn(b,m,_,C){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(b,m,_,C,M={}){const N=yield jt(b,m,_,C,M);return"mfaPendingCredential"in N&&Ke(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ts(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?fn(b.config,M):`${b.config.apiScheme}://${M}`}class $r{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Oe(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Oe(b,m,C);return M.customData._tokenResponse=_,M}function ns(){return(ns=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Qe(b,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gn(b,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function fr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Dn(){return(Dn=(0,l.Z)(function*(b,m=!1){const _=(0,j.m9)(b),C=yield _.getIdToken(m),M=gt(C);se(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,te=N?.sign_in_provider;return{claims:M,token:C,authTime:fr(vn(M.auth_time)),issuedAtTime:fr(vn(M.iat)),expirationTime:fr(vn(M.exp)),signInProvider:te||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(b){return 1e3*Number(b)}function gt(b){var m;const[_,C,M]=b.split(".");if(void 0===_||void 0===C||void 0===M)return et("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,j.tV)(C);return N?JSON.parse(N):(et("Failed to decode base64 JWT payload"),null)}catch(N){return et("Caught error parsing JWT payload as JSON",null===(m=N)||void 0===m?void 0:m.toString()),null}}function Pt(b,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof j.ZR&&Xn(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function Xn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Rr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,l.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Rt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gr(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield Pt(b,Gn(_,{idToken:C}));se(M?.users.length,_,"internal-error");const N=M.users[0];b._notifyReloadListener(N);const te=null!==(m=N.providerUserInfo)&&void 0!==m&&m.length?An(N.providerUserInfo):[],Ae=ur(b.providerData,te),Xt=!!b.isAnonymous&&!(b.email&&N.passwordHash||Ae?.length),On={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Ae,metadata:new Rt(N.createdAt,N.lastLoginAt),isAnonymous:Xt};Object.assign(b,On)})).apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(b){const m=(0,j.m9)(b);yield Gr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ur(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function An(b){return b.map(m=>{var{providerId:_}=m,C=(0,ue._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ie(){return(Ie=(0,l.Z)(function*(b,m){const _=yield Hi(b,{},(0,l.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:N}=b.config,te=ts(b,M,"/v1/token",`key=${N}`),Ae=yield b._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(te,{method:"POST",headers:Ae,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){se(m.idToken,"internal-error"),se(typeof m.idToken<"u","internal-error"),se(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function _t(b){const m=gt(b);return se(m,"internal-error"),se(typeof m.exp<"u","internal-error"),se(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,l.Z)(function*(){return se(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:te}=yield function nt(b,m){return Ie.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,N,Number(te))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:N}=_,te=new rt;return C&&(se("string"==typeof C,"internal-error",{appName:m}),te.refreshToken=C),M&&(se("string"==typeof M,"internal-error",{appName:m}),te.accessToken=M),N&&(se("number"==typeof N,"internal-error",{appName:m}),te.expirationTime=N),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return de("not implemented")}}function Dt(b,m){se("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class It{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,N=(0,ue._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Rt(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const C=yield Pt(_,_.stsTokenManager.getToken(_.auth,m));return se(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function En(b){return Dn.apply(this,arguments)}(this,m)}reload(){return function ii(b){return Qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(se(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new It(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,l.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Gr(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield Pt(m,function Di(b,m){return ns.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,N,te,Ae,ot,Tt,Xt;const On=null!==(C=_.displayName)&&void 0!==C?C:void 0,qr=null!==(M=_.email)&&void 0!==M?M:void 0,xl=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,Ha=null!==(te=_.photoURL)&&void 0!==te?te:void 0,zp=null!==(Ae=_.tenantId)&&void 0!==Ae?Ae:void 0,co=null!==(ot=_._redirectEventId)&&void 0!==ot?ot:void 0,Ir=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,ir=null!==(Xt=_.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Ku,emailVerified:Or,isAnonymous:Rl,providerData:Dh,stsTokenManager:Ih}=_;se(Ku&&Ih,m,"internal-error");const b_=rt.fromJSON(this.name,Ih);se("string"==typeof Ku,m,"internal-error"),Dt(On,m.name),Dt(qr,m.name),se("boolean"==typeof Or,m,"internal-error"),se("boolean"==typeof Rl,m,"internal-error"),Dt(xl,m.name),Dt(Ha,m.name),Dt(zp,m.name),Dt(co,m.name),Dt(Ir,m.name),Dt(ir,m.name);const jn=new It({uid:Ku,auth:m,email:qr,emailVerified:Or,displayName:On,isAnonymous:Rl,photoURL:Ha,phoneNumber:xl,tenantId:zp,stsTokenManager:b_,createdAt:Ir,lastLoginAt:ir});return Dh&&Array.isArray(Dh)&&(jn.providerData=Dh.map(Sh=>Object.assign({},Sh))),co&&(jn._redirectEventId=co),jn}static _fromIdTokenResponse(m,_,C=!1){return(0,l.Z)(function*(){const M=new rt;M.updateFromServerResponse(_);const N=new It({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Gr(N),N})()}}const q=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,l.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function $(b,m,_){return`firebase:${b}:${m}:${_}`}class Y{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:N}=this.auth;this.fullUserKey=$(this.userKey,M.apiKey,N),this.fullPersistenceKey=$("persistence",M.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?It._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Y(ee(q),m,C);const M=(yield Promise.all(_.map(function(){var Tt=(0,l.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let N=M[0]||ee(q);const te=$(C,m.config.apiKey,m.name);let Ae=null;for(const Tt of _)try{const Xt=yield Tt._get(te);if(Xt){const On=It._fromJSON(m,Xt);Tt!==N&&(Ae=On),N=Tt;break}}catch{}const ot=M.filter(Tt=>Tt._shouldAllowMigration);return N._shouldAllowMigration&&ot.length?(N=ot[0],Ae&&(yield N._set(te,Ae.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,l.Z)(function*(Xt){if(Xt!==N)try{yield Xt._remove(te)}catch{}});return function(Xt){return Tt.apply(this,arguments)}}())),new Y(N,m,C)):new Y(N,m,C)})()}}function H(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ne(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(R(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(lt(m))return"Blackberry";if(Te(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||re(m))&&!m.includes("edge/"))return"Chrome";if(at(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function R(b=(0,j.z$)()){return/firefox\//i.test(b)}function B(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function re(b=(0,j.z$)()){return/crios\//i.test(b)}function Ne(b=(0,j.z$)()){return/iemobile/i.test(b)}function at(b=(0,j.z$)()){return/android/i.test(b)}function lt(b=(0,j.z$)()){return/blackberry/i.test(b)}function Te(b=(0,j.z$)()){return/webos/i.test(b)}function Le(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Nt(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function mn(b=(0,j.z$)()){return Le(b)||at(b)||Te(b)||lt(b)||/windows phone/i.test(b)||Ne(b)}function In(b,m=[]){let _;switch(b){case"Browser":_=H((0,j.z$)());break;case"Worker":_=`${H((0,j.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${C}`}class $s{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const C=N=>new Promise((te,Ae)=>{try{te(m(N))}catch(ot){Ae(ot)}});C.onAbort=_,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){var C;if(_.auth.currentUser===m)return;const M=[];try{for(const N of _.queue)yield N(m),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const te of M)try{te()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class Co{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gs(this),this.idTokenSubscription=new Gs(this),this.beforeStateQueue=new $s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ee(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,N;if(!C._deleted&&(C.persistenceManager=yield Y.create(C,m),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var C;const M=yield _.assertedPersistence.getCurrentUser();let N=M,te=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ae=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,ot=N?._redirectEventId,Tt=yield _.tryRedirectSignIn(m);(!Ae||Ae===ot)&&Tt?.user&&(N=Tt.user,te=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(N)}catch(Ae){N=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ae))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){var C;try{yield Gr(m)}catch(M){if("auth/network-request-failed"!==(null===(C=M)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const C=m?(0,j.m9)(m):null;return C&&se(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m,_=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return m&&se(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ee(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ee(m)||_._popupRedirectResolver;se(C,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[ee(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return se(te,this,"internal-error"),te.then(()=>N(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function wt(b){return(0,j.m9)(b)}class Gs{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zs(b,m,_){const C=wt(b);se(C._canInitEmulator,C,"emulator-config-failed"),se(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!_?.disableWarnings,N=ol(m),{host:te,port:Ae}=function is(b){const m=ol(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const N=M[1];return{host:N,port:zn(C.substr(N.length+1))}}{const[N,te]=C.split(":");return{host:N,port:zn(te)}}}(m);C.config.emulator={url:`${N}//${te}${null===Ae?"":`:${Ae}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:te,port:Ae,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function qs(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ol(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function zn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Qr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return de("not implemented")}_getIdTokenResponse(m){return de("not implemented")}_linkToIdToken(m,_){return de("not implemented")}_getReauthenticationResolver(m){return de("not implemented")}}function si(b,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:resetPassword",Yt(b,m))})).apply(this,arguments)}function ic(b,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function nh(b,m){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",Yt(b,m))})).apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithPassword",Yt(b,m))})).apply(this,arguments)}function Ws(b,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendOobCode",Yt(b,m))})).apply(this,arguments)}function ss(b,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(b,m){return Ws(b,m)})).apply(this,arguments)}function rh(b,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(b,m){return Ws(b,m)})).apply(this,arguments)}function oi(b,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(b,m){return Ws(b,m)})).apply(this,arguments)}function al(b,m){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(b,m){return Ws(b,m)})).apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",Yt(b,m))})).apply(this,arguments)}class pa extends Qr{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new pa(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new pa(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function ha(b,m){return Zs.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Xr(b,m){return sc.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ke(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return ic(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ap(b,m){return ll.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Ke(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Qs(b,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithIdp",Yt(b,m))})).apply(this,arguments)}class os extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new os(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,N=(0,ue._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const te=new os(C,M);return te.idToken=N.idToken||void 0,te.accessToken=N.accessToken||void 0,te.secret=N.secret,te.nonce=N.nonce,te.pendingToken=N.pendingToken||null,te}_getIdTokenResponse(m){return Qs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Qs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Qs(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function xp(b,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:sendVerificationCode",Yt(b,m))})).apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m))})).apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(b,m){const _=yield Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,m));if(_.temporaryProof)throw $n(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const kp={USER_NOT_FOUND:"user-not-found"};function wu(){return(wu=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Yt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),kp)})).apply(this,arguments)}class Do extends Qr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Do({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Do({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Rp(b,m){return ma.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Eo(b,m){return bu.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Op(b,m){return wu.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}=m;return C||_||M||N?new Do({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:N}):null}}class Io{constructor(m){var _,C,M,N,te,Ae;const ot=(0,j.zd)((0,j.pd)(m)),Tt=null!==(_=ot.apiKey)&&void 0!==_?_:null,Xt=null!==(C=ot.oobCode)&&void 0!==C?C:null,On=function Cu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ot.mode)&&void 0!==M?M:null);se(Tt&&Xt&&On,"argument-error"),this.apiKey=Tt,this.operation=On,this.code=Xt,this.continueUrl=null!==(N=ot.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(te=ot.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ae=ot.tenantId)&&void 0!==Ae?Ae:null}static parseLink(m){const _=function Eu(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||m||b}(m);try{return new Io(_)}catch{return null}}}let cl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return pa._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Io.parseLink(C);return se(M,"argument-error"),pa._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class wr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class So extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ds extends So{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return se("providerId"in _&&"signInMethod"in _,"argument-error"),os._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return se(m.idToken||m.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ds.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ds.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:N,nonce:te,providerId:Ae}=m;if(!C&&!M&&!_&&!N||!Ae)return null;try{return new Ds(Ae)._credential({idToken:_,accessToken:C,nonce:te,pendingToken:N})}catch{return null}}}let Du=(()=>{class b extends So{constructor(){super("facebook.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ul=(()=>{class b extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),oc=(()=>{class b extends So{constructor(){super("github.com")}static credential(_){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class To extends Qr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Qs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Qs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Qs(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:N}=_;return C&&M&&N&&C===M?new To(C,N):null}static _create(m,_){return new To(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class li extends wr{constructor(m){se(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return li.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return li.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=To.fromJSON(m);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return To._create(C,_)}catch{return null}}}let as=(()=>{class b extends So{constructor(){super("twitter.com")}static credential(_,C){return os._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Jr(b,m){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signUp",Yt(b,m))})).apply(this,arguments)}class ci{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,l.Z)(function*(){const N=yield It._fromIdTokenResponse(m,C,M),te=Ao(C);return new ci({user:N,providerId:te,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Ao(C);return new ci({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Ao(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Pp(b){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(b){var m;const _=wt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new ci({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield Jr(_,{returnSecureToken:!0}),M=yield ci._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Fn extends j.ZR{constructor(m,_,C,M){var N;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,Fn.prototype),this.customData={appName:m.name,tenantId:null!==(N=m.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new Fn(m,_,C,M)}}function Su(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Fn._fromErrorAndOperation(b,N,m,C):N})}function ih(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ii(b,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(b,m){const _=(0,j.m9)(b);yield ji(!0,_,m);const{providerUserInfo:C}=yield Qe(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=ih(C||[]);return _.providerData=_.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function hl(b,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(b,m,_=!1){const C=yield Pt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return ci._forOperation(b,"link",C)})).apply(this,arguments)}function ji(b,m,_){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(b,m,_){yield Gr(m);const M=!1===b?"provider-already-linked":"no-such-provider";se(ih(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function lc(b,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(b,m,_=!1){var C;const{auth:M}=b,N="reauthenticate";try{const te=yield Pt(b,Su(M,N,m,b),_);se(te.idToken,M,"internal-error");const Ae=gt(te.idToken);se(Ae,M,"internal-error");const{sub:ot}=Ae;return se(b.uid===ot,M,"user-mismatch"),ci._forOperation(b,N,te)}catch(te){throw"auth/user-not-found"===(null===(C=te)||void 0===C?void 0:C.code)&&Ke(M,"user-mismatch"),te}})).apply(this,arguments)}function cc(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(b,m,_=!1){const C="signIn",M=yield Su(b,C,m),N=yield ci._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ga(b,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(b,m){return cc(wt(b),m)})).apply(this,arguments)}function Ft(b,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(b,m){const _=(0,j.m9)(b);return yield ji(!1,_,m.providerId),hl(_,m)})).apply(this,arguments)}function Np(b,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(b,m){return lc((0,j.m9)(b),m)})).apply(this,arguments)}function Tu(b,m){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(b,m){return Nn(b,"POST","/v1/accounts:signInWithCustomToken",Yt(b,m))})).apply(this,arguments)}function Js(b,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(b,m){const _=wt(b),C=yield Tu(_,{token:m,returnSecureToken:!0}),M=yield ci._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class xo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?xe._fromServerResponse(m,_):Ke(m,"internal-error")}}class xe extends xo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new xe(_)}}function Kt(b,m,_){var C;se((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),se(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function sh(b,m,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&Kt(C,M,_),yield rh(C,M)})).apply(this,arguments)}function er(b,m,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(b,m,_){yield si((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function fl(b,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(b,m){yield nh((0,j.m9)(b),{oobCode:m})})).apply(this,arguments)}function pl(b,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(b,m){const _=(0,j.m9)(b),C=yield si(_,{oobCode:m}),M=C.requestType;switch(se(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(C.mfaInfo,_,"internal-error");default:se(C.email,_,"internal-error")}let N=null;return C.mfaInfo&&(N=xo._fromServerResponse(wt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function oh(b,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(b,m){const{data:_}=yield pl((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function Fp(b,m,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(b,m,_){const C=wt(b),M=yield Jr(C,{returnSecureToken:!0,email:m,password:_}),N=yield ci._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function tr(b,m,_){return ga((0,j.m9)(b),cl.credential(m,_))}function $i(b,m,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};se(_.handleCodeInApp,C,"argument-error"),_&&Kt(C,M,_),yield oi(C,M)})).apply(this,arguments)}function Ea(b,m){return"EMAIL_SIGNIN"===Io.parseLink(m)?.operation}function ls(b,m,_){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b),M=cl.credentialWithLink(m,_||Be());return se(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ga(C,M)})).apply(this,arguments)}function uc(b,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:createAuthUri",Yt(b,m))})).apply(this,arguments)}function ah(b,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(b,m){const C={identifier:m,continueUri:Ve()?Be():"http://localhost"},{signinMethods:M}=yield uc((0,j.m9)(b),C);return M||[]})).apply(this,arguments)}function dc(b,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(b,m){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Kt(_.auth,M,m);const{email:N}=yield ss(_.auth,M);N!==b.email&&(yield b.reload())})).apply(this,arguments)}function hc(b,m,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Kt(C.auth,N,_);const{email:te}=yield al(C.auth,N);te!==b.email&&(yield b.reload())})).apply(this,arguments)}function xu(b,m){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(b,m){return jt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function lh(b,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,j.m9)(b),N={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},te=yield Pt(C,xu(C.auth,N));C.displayName=te.displayName||null,C.photoURL=te.photoUrl||null;const Ae=C.providerData.find(({providerId:ot})=>"password"===ot);Ae&&(Ae.displayName=C.displayName,Ae.photoURL=C.photoURL),yield C._updateTokensIfNecessary(te)})).apply(this,arguments)}function ch(b,m){return Ss((0,j.m9)(b),m,null)}function Ru(b,m){return Ss((0,j.m9)(b),null,m)}function Ss(b,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(b,m,_){const{auth:C}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(N.email=m),_&&(N.password=_);const te=yield Pt(b,ic(C,N));yield b._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Rn{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class cs extends Rn{constructor(m,_,C,M){super(m,_,C),this.username=M}}class kn extends Rn{constructor(m,_){super(m,"facebook.com",_)}}class fc extends cs{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class pc extends Rn{constructor(m,_){super(m,"google.com",_)}}class Ou extends cs{constructor(m,_,C){super(m,"twitter.com",_,C)}}function mc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ku(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const te=null===(_=null===(m=gt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Rn(N,"anonymous"!==te&&"custom"!==te?te:null)}if(!C)return null;switch(C){case"facebook.com":return new kn(N,M);case"github.com":return new fc(N,M);case"google.com":return new pc(N,M);case"twitter.com":return new Ou(N,M,b.screenName||null);case"custom":case"anonymous":return new Rn(N,null);default:return new Rn(N,C,M)}}(_)}class di{constructor(m,_,C){this.type=m,this.credential=_,this.auth=C}static _fromIdtoken(m,_){return new di("enroll",m,_)}static _fromMfaPendingCredential(m){return new di("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return di._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return di._fromIdtoken(m.multiFactorSession.idToken)}return null}}class yc{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=wt(m),M=_.customData._serverResponse,N=(M.mfaInfo||[]).map(Ae=>xo._fromServerResponse(C,Ae));se(M.mfaPendingCredential,C,"internal-error");const te=di._fromMfaPendingCredential(M.mfaPendingCredential);return new yc(te,N,function(){var Ae=(0,l.Z)(function*(ot){const Tt=yield ot._process(C,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Xt=Object.assign(Object.assign({},M),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const On=yield ci._fromIdTokenResponse(C,_.operationType,Xt);return yield C._updateCurrentUser(On.user),On;case"reauthenticate":return se(_.user,C,"internal-error"),ci._forOperation(_.user,_.operationType,Xt);default:Ke(C,"internal-error")}});return function(ot){return Ae.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function Fu(b,m){var _;const C=(0,j.m9)(b),M=m;return se(m.customData.operationType,C,"argument-error"),se(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),yc._fromError(C,M)}function Vn(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:start",Yt(b,m))}class yl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>xo._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new yl(m)}getSession(){var m=this;return(0,l.Z)(function*(){return di._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var C=this;return(0,l.Z)(function*(){const M=m,N=yield C.getSession(),te=yield Pt(C.user,M._process(C.user.auth,N,_));return yield C.user._updateTokensIfNecessary(te),C.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){var C;const M="string"==typeof m?m:m.uid,N=yield _.user.getIdToken(),te=yield Pt(_.user,function _l(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(b,m))}(_.user.auth,{idToken:N,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ae})=>Ae!==M),yield _.user._updateTokensIfNecessary(te);try{yield _.user.reload()}catch(Ae){if("auth/user-token-expired"!==(null===(C=Ae)||void 0===C?void 0:C.code))throw Ae}})()}}const uh=new WeakMap;function Ta(b){const m=(0,j.m9)(b);return uh.has(m)||uh.set(m,yl._fromUser(m)),uh.get(m)}const us="__sak";class Aa{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const nr=(()=>{class b extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vc(){const b=(0,j.z$)();return B(b)||Le(b)}()&&function rs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=mn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),N=this.localCache[C];M!==N&&_(C,N,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ae,ot,Tt)=>{this.notifyListeners(Ae,Tt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(M);if(_.newValue!==Ae)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const N=()=>{const Ae=this.storage.getItem(M);!C&&this.localCache[M]===Ae||this.notifyListeners(M,Ae)},te=this.storage.getItem(M);!function Lt(){return(0,j.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,N=this;return(0,l.Z)(function*(){yield M().call(N,_,C),N.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const N=yield C().call(M,_);return M.localCache[_]=JSON.stringify(N),N})()}_remove(_){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),As=(()=>{class b extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let xa=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(N=>N.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const M=_,{eventId:N,eventType:te,data:Ae}=M.data,ot=C.handlersMap[te];if(!ot?.size)return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:te});const Tt=Array.from(ot).map(function(){var On=(0,l.Z)(function*(qr){return qr(M.origin,Ae)});return function(qr){return On.apply(this,arguments)}}()),Xt=yield function bc(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(Tt);M.ports[0].postMessage({status:"done",eventId:N,eventType:te,response:Xt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Vo(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class fh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let te,Ae;return new Promise((ot,Tt)=>{const Xt=Vo("",20);N.port1.start();const On=setTimeout(()=>{Tt(new Error("unsupported_event"))},C);Ae={messageChannel:N,onMessage(qr){const xl=qr;if(xl.data.eventId===Xt)switch(xl.data.status){case"ack":clearTimeout(On),te=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ot(xl.data.response);break;default:clearTimeout(On),clearTimeout(te),Tt(new Error("invalid_response"))}}},M.handlers.add(Ae),N.port1.addEventListener("message",Ae.onMessage),M.target.postMessage({eventType:m,eventId:Xt,data:_},[N.port2])}).finally(()=>{Ae&&M.removeMessageHandler(Ae)})})()}}function Un(){return window}function ei(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function ds(){return(ds=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ra="firebaseLocalStorageDb",ka="firebaseLocalStorage",Uo="fbase_key";class no{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ho(b,m){return b.transaction([ka],m?"readwrite":"readonly").objectStore(ka)}function bl(){const b=indexedDB.open(Ra,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(ka,{keyPath:Uo})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(ka)?m(C):(C.close(),yield function Uu(){const b=indexedDB.deleteDatabase(Ra);return new no(b).toPromise()}(),m(yield bl()))}))})}function Oa(b,m,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(b,m,_){const C=Ho(b,!0).put({[Uo]:m,value:_});return new no(C).toPromise()})).apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(b,m){const _=Ho(b,!1).get(m),C=yield new no(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function wl(b,m){const _=Ho(b,!0).delete(m);return new no(_).toPromise()}const Go=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield bl()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const N=yield C._openDb();return yield _(N)}catch(N){if(M++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return ei()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=xa._getInstance(function vl(){return ei()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(M,N){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Vu(){return ds.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new fh(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function wc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield bl();return yield Oa(_,us,"1"),yield wl(_,us),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(N=>Oa(N,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(N=>function ph(b,m){return jo.apply(this,arguments)}(N,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>wl(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(te=>{const Ae=Ho(te,!1).getAll();return new no(Ae).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:te,value:Ae}of C)N.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(Ae)&&(_.notifyListeners(te,Ae),M.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!N.has(te)&&(_.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const N of Array.from(M))N(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function mh(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:start",Yt(b,m))}function kr(){return(kr=(0,l.Z)(function*(b){return(yield jt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ro(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const N=Oe("internal-error");N.customData=M,_(N)},C.type="text/javascript",C.charset="UTF-8",function qo(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function Zo(b){return`__${b}${Math.floor(1e6*Math.random())}`}const zi=1e12;class Hu{constructor(m){this.auth=m,this.counter=zi,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new Sn(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||zi;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||zi))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(m||zi))||void 0===C||C.execute(),""})()}}class Sn{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;se(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lp(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gh=Zo("rcb"),tw=new qe(3e4,6e4);class u_{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Un().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return se(function _h(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Un().grecaptcha):new Promise((C,M)=>{const N=Un().setTimeout(()=>{M(Oe(m,"network-request-failed"))},tw.get());Un()[gh]=()=>{Un().clearTimeout(N),delete Un()[gh];const Ae=Un().grecaptcha;if(!Ae)return void M(Oe(m,"internal-error"));const ot=Ae.render;Ae.render=(Tt,Xt)=>{const On=ot(Tt,Xt);return this.counter++,On},this.hostLanguage=_,C(Ae)},ro(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:gh,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),M(Oe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Un().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nw{load(m){return(0,l.Z)(function*(){return new Hu(m)})()}clearedOneInstance(){}}const El="recaptcha",rw={theme:"light",type:"image"};class d_{constructor(m,_=Object.assign({},rw),C){this.parameters=_,this.type=El,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(C),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;se(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nw:new u_,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(N=>{const te=Ae=>{!Ae||(m.tokenChangeListeners.delete(te),N(Ae))};m.tokenChangeListeners.add(te),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Un()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){se(Ve()&&!ei(),m.auth,"internal-error"),yield function pr(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Cl(b){return kr.apply(this,arguments)}(m.auth);se(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Do._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Pa(b,m,_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(b,m,_){const C=wt(b),M=yield St(C,m,(0,j.m9)(_));return new mr(M,N=>ga(C,N))})).apply(this,arguments)}function Na(b,m,_){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b);yield ji(!1,C,"phone");const M=yield St(C.auth,m,(0,j.m9)(_));return new mr(M,N=>Ft(C,N))})).apply(this,arguments)}function gr(b,m,_){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b),M=yield St(C.auth,m,(0,j.m9)(_));return new mr(M,N=>Np(C,N))})).apply(this,arguments)}function St(b,m,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let N;if(se("string"==typeof M,b,"argument-error"),se(_.type===El,b,"argument-error"),N="string"==typeof m?{phoneNumber:m}:m,"session"in N){const te=N.session;if("phoneNumber"in N)return se("enroll"===te.type,b,"internal-error"),(yield Vn(b,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{se("signin"===te.type,b,"internal-error");const Ae=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return se(Ae,b,"missing-multi-factor-info"),(yield mh(b,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield xp(b,{phoneNumber:N.phoneNumber,recaptchaToken:M});return te}}finally{_._reset()}})).apply(this,arguments)}function Gt(b,m){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(b,m){yield hl((0,j.m9)(b),m)})).apply(this,arguments)}let Er=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=wt(_)}verifyPhoneNumber(_,C){return St(this.auth,_,(0,j.m9)(C))}static credential(_,C){return Do._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Do._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function fi(b,m){return m?ee(m):(se(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class rr extends Qr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Qs(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Qs(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Qs(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function ju(b){return cc(b.auth,new rr(b),b.bypassAuthState)}function Mn(b){const{auth:m,user:_}=b;return se(_,m,"internal-error"),lc(_,new rr(b),b.bypassAuthState)}function yt(b){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(b){const{auth:m,user:_}=b;return se(_,m,"internal-error"),hl(_,new rr(b),b.bypassAuthState)})).apply(this,arguments)}class Sc{constructor(m,_,C,M,N=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(N){m.reject(N)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:N,tenantId:te,error:Ae,type:ot}=m;if(Ae)return void _.reject(Ae);const Tt={auth:_.auth,requestUri:C,sessionId:M,tenantId:te||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ot)(Tt))}catch(Xt){_.reject(Xt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ju;case"linkViaPopup":case"linkViaRedirect":return yt;case"reauthViaPopup":case"reauthViaRedirect":return Mn;default:Ke(this.auth,"internal-error")}}resolve(m){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yo=new qe(2e3,1e4);function Tc(b,m,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(b,m,_){const C=wt(b);Ce(b,m,wr);const M=fi(C,_);return new La(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Ac(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b);Ce(C.auth,m,wr);const M=fi(C.auth,_);return new La(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function yh(b,m,_){return $u.apply(this,arguments)}function $u(){return($u=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b);Ce(C.auth,m,wr);const M=fi(C.auth,_);return new La(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let La=(()=>{class b extends Sc{constructor(_,C,M,N,te){super(_,C,N,te),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return se(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){ve(1===_.filter.length,"Popup operations only handle one event");const C=Vo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Yo.get())};_()}}return b.currentPopupAction=null,b})();const Zi=new Map;class Dr extends Sc{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Zi.get(_.auth._key());if(!C){try{const N=(yield function io(b,m){return Qo.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(N)}catch(M){C=()=>Promise.reject(M)}Zi.set(_.auth._key(),C)}return _.bypassAuthState||Zi.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,l.Z)(function*(b,m){const _=Yi(m),C=Ba(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Wi(b,m){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(b,m){return Ba(b)._set(Yi(m),"true")})).apply(this,arguments)}function so(){Zi.clear()}function Gu(b,m){Zi.set(b._key(),m)}function Ba(b){return ee(b._redirectPersistence)}function Yi(b){return $("pendingRedirect",b.config.apiKey,b.name)}function Il(b,m,_){return function Hn(b,m,_){return xc.apply(this,arguments)}(b,m,_)}function xc(){return(xc=(0,l.Z)(function*(b,m,_){const C=wt(b);Ce(b,m,wr);const M=fi(C,_);return yield Wi(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function I(b,m,_){return function S(b,m,_){return x.apply(this,arguments)}(b,m,_)}function x(){return(x=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b);Ce(C.auth,m,wr);const M=fi(C.auth,_);yield Wi(M,C.auth);const N=yield ut(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",N)})).apply(this,arguments)}function U(b,m,_){return function J(b,m,_){return ce.apply(this,arguments)}(b,m,_)}function ce(){return(ce=(0,l.Z)(function*(b,m,_){const C=(0,j.m9)(b);Ce(C.auth,m,wr);const M=fi(C.auth,_);yield ji(!1,C,m.providerId),yield Wi(M,C.auth);const N=yield ut(C);return M._openRedirect(C.auth,m,"linkViaRedirect",N)})).apply(this,arguments)}function Me(b,m){return ze.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(b,m){return yield wt(b)._initializationPromise,pt(b,m,!1)})).apply(this,arguments)}function pt(b,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(b,m,_=!1){const C=wt(b),M=fi(C,m),te=yield new Dr(C,M,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield C._persistUserIfCurrent(te.user),yield C._setRedirectUser(null,m)),te})).apply(this,arguments)}function ut(b){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(b){const m=Vo(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class _r{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function gn(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ao(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!ao(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oo(m))}saveEventToCache(m){this.cachedEventUids.add(oo(m)),this.lastProcessedEventTime=Date.now()}}function oo(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ao({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function hs(b){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(b,m={}){return jt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Sl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ti=/^https?/;function Va(){return(Va=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield hs(b);for(const _ of m)try{if(zu(_))return}catch{}Ke(b,"unauthorized-domain")})).apply(this,arguments)}function zu(b){const m=Be(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const te=new URL(b);return""===te.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===C}if(!Ti.test(_))return!1;if(Sl.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const h_=new qe(3e4,6e4);function Tl(){const b=Un().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ai=null;function Bp(b){return Ai=Ai||function qu(b){return new Promise((m,_)=>{var C,M,N;function te(){Tl(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Tl(),_(Oe(b,"network-request-failed"))},timeout:h_.get()})}if(null!==(M=null===(C=Un().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)m(gapi.iframes.getContext());else{if(null===(N=Un().gapi)||void 0===N||!N.load){const Ae=Zo("iframefcb");return Un()[Ae]=()=>{gapi.load?te():_(Oe(b,"network-request-failed"))},ro(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(ot=>_(ot))}te()}}).catch(m=>{throw Ai=null,m})}(b),Ai}const iw=new qe(5e3,15e3),Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Up=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lo(b){const m=b.config;se(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?fn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:O.SDK_VERSION},M=Up.get(b.config.apiHost);M&&(C.eid=M);const N=b._getFrameworks();return N.length&&(C.fw=N.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Wu(){return Wu=(0,l.Z)(function*(b){const m=yield Bp(b),_=Un().gapi;return se(_,b,"internal-error"),m.open({where:document.body,url:lo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(N,te){yield C.restyle({setHideOnLeave:!1});const Ae=Oe(b,"network-request-failed"),ot=Un().setTimeout(()=>{te(Ae)},iw.get());function Tt(){Un().clearTimeout(ot),N(C)}C.ping(Tt).then(Tt,()=>{te(Ae)})});return function(N,te){return M.apply(this,arguments)}}()))}),Wu.apply(this,arguments)}const Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ch(b,m,_,C,M,N){se(b.config.authDomain,b,"auth-domain-config-required"),se(b.config.apiKey,b,"invalid-api-key");const te={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:O.SDK_VERSION,eventId:M};if(m instanceof wr){m.setDefaultLanguage(b.languageCode),te.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(te.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ot,Tt]of Object.entries(N||{}))te[ot]=Tt}if(m instanceof So){const ot=m.getScopes().filter(Tt=>""!==Tt);ot.length>0&&(te.scopes=ot.join(","))}b.tenantId&&(te.tid=b.tenantId);const Ae=te;for(const ot of Object.keys(Ae))void 0===Ae[ot]&&delete Ae[ot];return`${function m_({config:b}){return b.emulator?fn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(Ae).slice(1)}`}const Eh="webStorageSupport",__=class g_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=pt,this._overrideRedirectResult=Gu}_openPopup(m,_,C,M){var N=this;return(0,l.Z)(function*(){var te;ve(null===(te=N.eventManagers[m._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ae=Ch(m,_,C,Be(),M);return function wh(b,m,_,C=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-C)/2,0).toString();let Ae="";const ot=Object.assign(Object.assign({},Yu),{width:C.toString(),height:M.toString(),top:N,left:te}),Tt=(0,j.z$)().toLowerCase();_&&(Ae=re(Tt)?"_blank":_),R(Tt)&&(m=m||"http://localhost",ot.scrollbars="yes");const Xt=Object.entries(ot).reduce((qr,[xl,Ha])=>`${qr}${xl}=${Ha},`,"");if(function pn(b=(0,j.z$)()){var m;return Le(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Tt)&&"_self"!==Ae)return function Hp(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",Ae),new Rc(null);const On=window.open(m||"",Ae,Xt);se(On,b,"popup-blocked");try{On.focus()}catch{}return new Rc(On)}(m,Ae,Vo())})()}_openRedirect(m,_,C,M){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(m),function Bu(b){Un().location.href=b}(Ch(m,_,C,Be(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:N}=this.eventManagers[_];return M?Promise.resolve(M):(ve(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const C=yield function vh(b){return Wu.apply(this,arguments)}(m),M=new _r(m);return C.register("authEvent",N=>(se(N?.authEvent,m,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Eh,{type:Eh},M=>{var N;const te=null===(N=M?.[0])||void 0===N?void 0:N[Eh];void 0!==te&&_(!!te),Ke(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function xs(b){return Va.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return mn()||B()||Le()}};class kc extends class y_{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new kc(m)}_finalizeEnroll(m,_,C){return function gl(b,m){return jt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function zo(b,m){return jt(b,"POST","/v2/accounts/mfaSignIn:finalize",Yt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ua=(()=>{class b{constructor(){}static assertion(_){return kc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Oc="@firebase/auth",v_="0.20.11";class UI{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function jp(b){(0,O._registerComponent)(new ge.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:N,authDomain:te}=C.options;return((Ae,ot)=>{se(N&&!N.includes(":"),"invalid-api-key",{appName:Ae.name}),se(!te?.includes(":"),"argument-error",{appName:Ae.name});const Tt={apiKey:N,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(b)},Xt=new Co(Ae,ot,Tt);return function le(b,m){const _=m?.persistence||[],C=(Array.isArray(_)?_:[_]).map(ee);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,m?.popupRedirectResolver)}(Xt,_),Xt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new ge.wA("auth-internal",m=>{const _=wt(m.getProvider("auth").getImmediate());return new UI(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Oc,v_,function HI(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,O.registerVersion)(Oc,v_,"esm2017")}("Browser")},2090:(ht,Se,F)=>{F.d(Se,{$s:()=>rt,BH:()=>zt,G6:()=>Ce,L:()=>fe,LL:()=>nn,Pz:()=>an,Sg:()=>qe,UG:()=>De,US:()=>ge,ZB:()=>z,ZR:()=>Cn,aH:()=>mt,b$:()=>me,eu:()=>se,hl:()=>Ge,jU:()=>it,m9:()=>en,ne:()=>Dn,pd:()=>js,r3:()=>$r,ru:()=>be,tV:()=>ye,uI:()=>ke,vZ:()=>Qe,w1:()=>Ke,xO:()=>wn,xb:()=>Di,z$:()=>Ue,zI:()=>de,zd:()=>fr});const oe=function(q){const $=[];let Y=0;for(let H=0;H<q.length;H++){let R=q.charCodeAt(H);R<128?$[Y++]=R:R<2048?($[Y++]=R>>6|192,$[Y++]=63&R|128):55296==(64512&R)&&H+1<q.length&&56320==(64512&q.charCodeAt(H+1))?(R=65536+((1023&R)<<10)+(1023&q.charCodeAt(++H)),$[Y++]=R>>18|240,$[Y++]=R>>12&63|128,$[Y++]=R>>6&63|128,$[Y++]=63&R|128):($[Y++]=R>>12|224,$[Y++]=R>>6&63|128,$[Y++]=63&R|128)}return $},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,$){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let R=0;R<q.length;R+=3){const B=q[R],re=R+1<q.length,Ne=re?q[R+1]:0,at=R+2<q.length,lt=at?q[R+2]:0;let Nt=(15&Ne)<<2|lt>>6,pn=63&lt;at||(pn=64,re||(Nt=64)),H.push(Y[B>>2],Y[(3&B)<<4|Ne>>4],Y[Nt],Y[pn])}return H.join("")},encodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(q):this.encodeByteArray(oe(q),$)},decodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(q):function(q){const $=[];let Y=0,H=0;for(;Y<q.length;){const R=q[Y++];if(R<128)$[H++]=String.fromCharCode(R);else if(R>191&&R<224){const B=q[Y++];$[H++]=String.fromCharCode((31&R)<<6|63&B)}else if(R>239&&R<365){const at=((7&R)<<18|(63&q[Y++])<<12|(63&q[Y++])<<6|63&q[Y++])-65536;$[H++]=String.fromCharCode(55296+(at>>10)),$[H++]=String.fromCharCode(56320+(1023&at))}else{const B=q[Y++],re=q[Y++];$[H++]=String.fromCharCode((15&R)<<12|(63&B)<<6|63&re)}}return $.join("")}(this.decodeStringToByteArray(q,$))},decodeStringToByteArray(q,$){this.init_();const Y=$?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let R=0;R<q.length;){const B=Y[q.charAt(R++)],Ne=R<q.length?Y[q.charAt(R)]:0;++R;const lt=R<q.length?Y[q.charAt(R)]:64;++R;const Le=R<q.length?Y[q.charAt(R)]:64;if(++R,null==B||null==Ne||null==lt||null==Le)throw Error();H.push(B<<2|Ne>>4),64!==lt&&(H.push(Ne<<4&240|lt>>2),64!==Le&&H.push(lt<<6&192|Le))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},fe=function(q){return function(q){const $=oe(q);return ge.encodeByteArray($,!0)}(q).replace(/\./g,"")},ye=function(q){try{return ge.decodeString(q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function z(q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return $}for(const Y in $)!$.hasOwnProperty(Y)||!X(Y)||(q[Y]=z(q[Y],$[Y]));return q}function X(q){return"__proto__"!==q}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function it(){return"object"==typeof self&&self.self===self}function be(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const q=Ue();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ce(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){return"object"==typeof indexedDB}function se(){return new Promise((q,$)=>{try{let Y=!0;const H="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(H);R.onsuccess=()=>{R.result.close(),Y||self.indexedDB.deleteDatabase(H),q(!0)},R.onupgradeneeded=()=>{Y=!1},R.onerror=()=>{var B;$((null===(B=R.error)||void 0===B?void 0:B.message)||"")}}catch(Y){$(Y)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const le=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=q&&ye(q[1]);return $&&JSON.parse($)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},mt=()=>{var q;return null===(q=le())||void 0===q?void 0:q.config},an=q=>{var $;return null===($=le())||void 0===$?void 0:$[`_${q}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Y)=>{this.resolve=$,this.reject=Y})}wrapCallback($){return(Y,H)=>{Y?this.reject(Y):this.resolve(H),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Y):$(Y,H))}}}function qe(q,$){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=$||"demo-project",R=q.iat||0,B=q.sub||q.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:R,exp:R+3600,auth_time:R,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},q);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(re)),""].join(".")}class Cn extends Error{constructor($,Y,H){super(Y),this.code=$,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor($,Y,H){this.service=$,this.serviceName=Y,this.errors=H}create($,...Y){const H=Y[0]||{},R=`${this.service}/${$}`,B=this.errors[$],re=B?function rn(q,$){return q.replace(Yt,(Y,H)=>{const R=$[H];return null!=R?String(R):`<${H}?>`})}(B,H):"Error";return new Cn(R,`${this.serviceName}: ${re} (${R}).`,H)}}const Yt=/\{\$([^}]+)}/g;function $r(q,$){return Object.prototype.hasOwnProperty.call(q,$)}function Di(q){for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$))return!1;return!0}function Qe(q,$){if(q===$)return!0;const Y=Object.keys(q),H=Object.keys($);for(const R of Y){if(!H.includes(R))return!1;const B=q[R],re=$[R];if(Qn(B)&&Qn(re)){if(!Qe(B,re))return!1}else if(B!==re)return!1}for(const R of H)if(!Y.includes(R))return!1;return!0}function Qn(q){return null!==q&&"object"==typeof q}function wn(q){const $=[];for(const[Y,H]of Object.entries(q))Array.isArray(H)?H.forEach(R=>{$.push(encodeURIComponent(Y)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(Y)+"="+encodeURIComponent(H));return $.length?"&"+$.join("&"):""}function fr(q){const $={};return q.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[R,B]=H.split("=");$[decodeURIComponent(R)]=decodeURIComponent(B)}}),$}function js(q){const $=q.indexOf("?");if(!$)return"";const Y=q.indexOf("#",$);return q.substring($,Y>0?Y:void 0)}function Dn(q,$){const Y=new vn(q,$);return Y.subscribe.bind(Y)}class vn{constructor($,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{$(this)}).catch(H=>{this.error(H)})}next($){this.forEachObserver(Y=>{Y.next($)})}error($){this.forEachObserver(Y=>{Y.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Y,H){let R;if(void 0===$&&void 0===Y&&void 0===H)throw new Error("Missing Observer.");R=function _t(q,$){if("object"!=typeof q||null===q)return!1;for(const Y of $)if(Y in q&&"function"==typeof q[Y])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Y,complete:H},void 0===R.next&&(R.next=Pt),void 0===R.error&&(R.error=Pt),void 0===R.complete&&(R.complete=Pt);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),B}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,$)}sendOne($,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Y(this.observers[$])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function rt(q,$=1e3,Y=2){const H=$*Math.pow(Y,q),R=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+R)}function en(q){return q&&q._delegate?q._delegate:q}},4749:(ht,Se,F)=>{var l=F(4650);let j=null;function O(){return j}const ae=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let z=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ue(){return new z((0,l.LFG)(ae))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(et)},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let et=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+it(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+it(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ke=(()=>{class n extends be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+it(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+it(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(Ge(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=ke,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(l.LFG(be))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new Oe((0,l.LFG)(be))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}let hn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),xn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new rh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class rh{constructor(){this.$implicit=null,this.ngIf=null}}function Jn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class oi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ks=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),al=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new oi(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ks,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ll=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),u=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),dl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const li="browser";function Ao(n){return"server"===n}let Su=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ih((0,l.LFG)(ae),window)}),n})();class ih{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ii(this.window.history)||Ii(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ii(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ss extends class Ru extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){j||(j=n)}(new Ss)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ku(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}();return null==t?null:function cs(n){Rn=Rn||document.createElement("a"),Rn.setAttribute("href",n);const e=Rn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ic(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Rn,Ts=null;const kn=new l.OlP("TRANSITION_ID"),pc=[{provide:l.ip1,useFactory:function fc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[kn,ae,l.zs3],multi:!0}];let mc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=new l.OlP("EventManagerPlugins");let _c=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ml{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Fo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Lo=(()=>{class n extends Fo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Pu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Pu))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pu(n){O().remove(n)}const Bo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nu=/%COMP%/g;function _l(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_l(n,i,t):(i=i.replace(Nu,n),t.push(i))}return t}function yl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ta=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new us(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Lu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new dh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=_l(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_c),l.LFG(Lo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ma(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ma(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Bo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yl(r)):this.eventManager.addEventListener(e,t,yl(r))}}function Ma(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lu extends us{constructor(e,t,r,i){super(e),this.component=r;const a=_l(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Vn(n){return"_ngcontent-%COMP%".replace(Nu,n)}(i+"-"+r.id),this.hostAttr=function gl(n){return"_nghost-%COMP%".replace(Nu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class dh extends us{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=_l(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nr=(()=>{class n extends ml{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hh=["alt","control","meta","shift"],As={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xa=(()=>{class n extends ml{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),hh.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),u+=v+".")}),u+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=As[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hh.forEach(u=>{u!==i&&(0,bc[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ra=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:li},{provide:l.g9A,useValue:function Vu(){Ss.makeCurrent()},multi:!0},{provide:ae,useFactory:function wc(){return(0,l.RDi)(document),document},deps:[]}]),to=new l.OlP(""),ka=[{provide:l.rWj,useClass:class Ou{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const h=function(g){u=u||g,a--,0==a&&r(u)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Uo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ds(){return new l.qLn},deps:[]},{provide:gc,useClass:nr,multi:!0,deps:[ae,l.R0b,l.Lbi]},{provide:gc,useClass:xa,multi:!0,deps:[ae]},{provide:Ta,useClass:Ta,deps:[_c,Lo,l.AFp]},{provide:l.FYo,useExisting:Ta},{provide:Fo,useExisting:Lo},{provide:Lo,useClass:Lo,deps:[ae]},{provide:_c,useClass:_c,deps:[gc,l.R0b]},{provide:class Mo{},useClass:mc,deps:[]},[]];let no=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:kn,useExisting:l.AFp},pc]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(to,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Uo,...ka],imports:[dl,l.hGG]}),n})(),Gi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Oa(){return new Gi((0,l.LFG)(ae))}(),r},providedIn:"root"}),n})();function mr(n){return null!=n&&"false"!=`${n}`}function Pa(n,e=0){return function Dc(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Na(n){return Array.isArray(n)?n:[n]}function tn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gr(n){return n instanceof l.SBq?n.nativeElement:n}typeof window<"u"&&window;var St=F(7579),hi=F(3269),Gt=F(8996);function st(...n){const e=(0,hi.yG)(n);return(0,Gt.D)(n,e)}var Er=F(9751),fi=F(8421),rr=F(5577),ju=F(1144),Mn=F(576),yt=F(4004);const{isArray:qi}=Array;function Yo(n){return(0,yt.U)(e=>function Sc(n,e){return qi(e)?n(...e):n(e)}(n,e))}const Tc=["addListener","removeListener"],Fa=["addEventListener","removeEventListener"],Ac=["on","off"];function Ko(n,e,t,r){if((0,Mn.m)(t)&&(r=t,t=void 0),r)return Ko(n,e,t).pipe(Yo(r));const[i,a]=function Dl(n){return(0,Mn.m)(n.addEventListener)&&(0,Mn.m)(n.removeEventListener)}(n)?Fa.map(u=>h=>n[u](e,h,t)):function $u(n){return(0,Mn.m)(n.addListener)&&(0,Mn.m)(n.removeListener)}(n)?Tc.map(yh(n,e)):function La(n){return(0,Mn.m)(n.on)&&(0,Mn.m)(n.off)}(n)?Ac.map(yh(n,e)):[];if(!i&&(0,ju.z)(n))return(0,rr.z)(u=>Ko(u,e,t))((0,fi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Er.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return i(h),()=>a(h)})}function yh(n,e){return t=>r=>n[t](e,r)}var Zi=F(4408),Dr=F(727);const io={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=io;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Dr.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=io;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=io;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Wi=F(7565);new class Mc extends Wi.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Qo extends Zi.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=io.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(io.cancelAnimationFrame(t),e._scheduled=void 0)}});let Yi,Ba=1;const Il={};function Hn(n){return n in Il&&(delete Il[n],!0)}const xc={setImmediate(n){const e=Ba++;return Il[e]=!0,Yi||(Yi=Promise.resolve()),Yi.then(()=>Hn(e)&&n()),e},clearImmediate(n){Hn(n)}},{setImmediate:S,clearImmediate:x}=xc,U={setImmediate(...n){const{delegate:e}=U;return(e?.setImmediate||S)(...n)},clearImmediate(n){const{delegate:e}=U;return(e?.clearImmediate||x)(n)},delegate:void 0},Me=new class ce extends Wi.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class J extends Zi.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=U.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(U.clearImmediate(t),e._scheduled=void 0)}});var pt=F(4986),ct=F(4482),ut=F(5403),Zn=F(3532);function oo(n=0,e,t=pt.P){let r=-1;return null!=e&&((0,Zn.K)(e)?t=e:r=e),new Er.y(i=>{let a=function _r(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function ao(n,e=pt.z){return function Ct(n){return(0,ct.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const h=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const v=i;i=null,t.next(v)}u&&t.complete()},g=()=>{a=null,u&&t.complete()};e.subscribe((0,ut.x)(t,v=>{r=!0,i=v,a||(0,fi.Xf)(n(v)).subscribe(a=(0,ut.x)(t,h,g))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>oo(n,e))}function gn(n,e){return(0,ct.e)((t,r)=>{let i=0;t.subscribe((0,ut.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}let hs;try{hs=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hs=!1}let Ti,Tn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ci(n){return n===li}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hs)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xs=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Va(){if(Ti)return Ti;if("object"!=typeof document||!document)return Ti=new Set(xs),Ti;let n=document.createElement("input");return Ti=new Set(xs.filter(e=>(n.setAttribute("type",e),n.type===e))),Ti}let zu,Ai,Zu;function Tl(n){return function h_(){if(null==zu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zu=!0}))}finally{zu=zu||!1}return zu}()?n:!!n.capture}function Bp(){if(null==Ai){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ai=!1,Ai;if("scrollBehavior"in document.documentElement.style)Ai=!0;else{const n=Element.prototype.scrollTo;Ai=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ai}function Up(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function lo(n){return n.composedPath?n.composedPath()[0]:n.target}function vh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Wu=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function Yu(){return(0,l.f3M)(ae)}}),bh=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ml=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Al(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?bh.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),g_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Er.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ao(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(gn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=gr(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ko(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Tn),l.LFG(ae,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kc=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new St.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ao(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn),l.LFG(l.R0b),l.LFG(ae,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),$p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Rc,jp,Rc,jp]}),n})();class _{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class C extends _{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class M extends _{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class N extends _{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class te{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof C?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof M?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof N?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ot extends te{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let qr=(()=>{class n extends te{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ae))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),Ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var co=F(6451),Ir=F(515);function ir(n){return n<=0?()=>Ir.E:(0,ct.e)((e,t)=>{let r=0;e.subscribe((0,ut.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var Ku=F(5032);function Or(n){return(0,ct.e)((e,t)=>{(0,fi.Xf)(n).subscribe((0,ut.x)(t,()=>t.complete(),Ku.Z)),!t.closed&&e.subscribe(t)})}const Rl=Bp();class Dh{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tn(-this._previousScrollPosition.left),e.style.top=tn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Rl&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Rl&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class b_{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class jn{enable(){}disable(){}attach(){}}function Sh(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function lw(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class w_{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Sh(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cw=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new jn,this.close=u=>new b_(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Dh(this._viewportRuler,this._document),this.reposition=u=>new w_(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(g_),l.LFG(kc),l.LFG(l.R0b),l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qp{constructor(e){if(this.scrollStrategy=new jn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class GI{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let zI=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Th=(()=>{class n extends zI{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const h=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C_=(()=>{class n extends zI{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=lo(a)},this._clickListener=a=>{const u=lo(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const E=g[v];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const T=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(a)):T.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae),l.LFG(Tn),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ah=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||vh()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),vh()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae),l.LFG(Tn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qu{constructor(e,t,r,i,a,u,h,g,v,E=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=Dr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ir(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tn(this._config.width),e.height=tn(this._config.height),e.minWidth=tn(this._config.minWidth),e.minHeight=tn(this._config.minHeight),e.maxWidth=tn(this._config.maxWidth),e.maxHeight=tn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Na(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Or((0,co.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const E_="cdk-overlay-connected-position-bounding-box",qI=/([A-Za-z%]+)$/;class uw{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=Dr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(E_),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,i,h),v=this._getOverlayPoint(g,t,h),E=this._getOverlayFit(v,t,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(E,v,r)?a.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:v,originPoint:g,position:h,overlayRect:t})}if(a.length){let h=null,g=-1;for(const v of a){const E=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);E>g&&(g=E,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(E_),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?u:h}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=ZI(t);let{x:u,y:h}=e,g=this._getOffset(i,"x"),v=this._getOffset(i,"y");g&&(u+=g),v&&(h+=v);let P=0-h,V=h+a.height-r.height,G=this._subtractOverflows(a.width,0-u,u+a.width-r.width),Q=this._subtractOverflows(a.height,P,V),ie=G*Q;return{visibleArea:ie,isCompletelyWithinViewport:a.width*a.height===ie,fitsInViewportVertically:Q===a.height,fitsInViewportHorizontally:G==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=Zp(this._overlayRef.getConfig().minHeight),h=Zp(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=h&&h<=a;return(e.fitsInViewportVertically||null!=u&&u<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ZI(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),h=Math.max(e.y+i.height-a.height,0),g=Math.max(a.top-r.top-e.y,0),v=Math.max(a.left-r.left-e.x,0);let E=0,T=0;return E=i.width<=a.width?v||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,T=i.height<=a.height?g||-h:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:E,y:T},{x:e.x+E,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new GI(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,h,E,T,P;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,a=r.height-h+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),G=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-G/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)P=r.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,E=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),G=this._lastBoundingBoxSize.width;E=2*V,T=e.x-V,E>G&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-G/2)}return{top:u,left:T,bottom:h,right:P,width:E,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=tn(r.height),i.top=tn(r.top),i.bottom=tn(r.bottom),i.width=tn(r.width),i.left=tn(r.left),i.right=tn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=tn(a)),u&&(i.maxWidth=tn(u))}this._lastBoundingBoxSize=r,kl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const E=this._viewportRuler.getViewportScrollPosition();kl(r,this._getExactOverlayY(t,e,E)),kl(r,this._getExactOverlayX(t,e,E))}else r.position="static";let h="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=tn(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=tn(u.maxWidth):a&&(r.maxWidth="")),kl(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=tn(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=tn(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lw(e,r),isOriginOutsideView:Sh(e,r),isOverlayClipped:lw(t,r),isOverlayOutsideView:Sh(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Na(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function kl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Zp(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qI);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ZI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const D_="cdk-global-overlay-wrapper";class hw{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(D_),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:h}=r,g=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,T=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let V="",G="",Q="";g?Q="flex-start":"center"===E?(Q="center",P?G=T:V=T):P?"left"===E||"end"===E?(Q="flex-end",V=T):("right"===E||"start"===E)&&(Q="flex-start",G=T):"left"===E||"start"===E?(Q="flex-start",V=T):("right"===E||"end"===E)&&(Q="flex-end",G=T),e.position=this._cssPosition,e.marginLeft=g?"0":V,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":G,t.justifyContent=Q,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(D_),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Pc=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new hw}flexibleConnectedTo(t){return new uw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(kc),l.LFG(ae),l.LFG(Tn),l.LFG(Ah))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WI=0,Rs=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T,P,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=v,this._directionality=E,this._location=T,this._outsideClickDispatcher=P,this._animationsModuleType=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new qp(t);return u.direction=u.direction||this._directionality.value,new Qu(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+WI++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new ot(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cw),l.LFG(Ah),l.LFG(l._Vd),l.LFG(Pc),l.LFG(Th),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ae),l.LFG(Ml),l.LFG(Oe),l.LFG(C_),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pw={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Rs],useFactory:function Nc(n){return()=>n.scrollStrategies.reposition()}};let Xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Rs,pw],imports:[Rc,Ha,$p,$p]}),n})();class fs extends St.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function kh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Zr=F(8505);function Xo(n,e=pt.z){return(0,ct.e)((t,r)=>{let i=null,a=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const v=a;a=null,r.next(v)}};function g(){const v=u+n,E=e.now();if(E<v)return i=this.schedule(void 0,v-E),void r.add(i);h()}t.subscribe((0,ut.x)(r,v=>{a=v,u=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{a=i=null}))})}function x_(n){return gn((e,t)=>n<=t)}var ed=F(4671);function Fw(n,e=ed.y){return n=n??rP,(0,ct.e)((t,r)=>{let i,a=!0;t.subscribe((0,ut.x)(r,u=>{const h=e(u);(a||!n(i,h))&&(a=!1,i=h,r.next(u))}))})}function rP(n,e){return n===e}let Oh=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bS=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=gr(t);return new Er.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new St.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Oh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lw=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Pa(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Xo(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bS),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),R_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Oh]}),n})();class CS extends class $w{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new St.x,this._typeaheadSubscription=Dr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new St.x,this.change=new St.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zr.b)(t=>this._pressedLetters.push(t)),Xo(e),gn(()=>this._pressedLetters.length>0),(0,yt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,u=r[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||kh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let td=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function oP(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Gw(n){try{return n.frameElement}catch{return null}}(function AS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Zw(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=Zw(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Ww(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function TS(n){return!function DS(n){return function IS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zw(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function qw(n){return function SS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ks(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ks(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Zw(n){if(!ks(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class MS{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ir(1)).subscribe(e)}}let P_=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new MS(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(td),l.LFG(l.R0b),l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function em(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function tm(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kS=new l.OlP("cdk-input-modality-detector-options"),OS={ignoreKeys:[18,17,224,91,16]},nd=Tl({passive:!0,capture:!0});let Yw=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new fs(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lo(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(em(u)?"keyboard":"mouse"),this._mostRecentTarget=lo(u))},this._onTouchstart=u=>{tm(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lo(u))},this._options={...OS,...a},this.modalityDetected=this._modality.pipe(x_(1)),this.modalityChanged=this.modalityDetected.pipe(Fw()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,nd),i.addEventListener("mousedown",this._onMousedown,nd),i.addEventListener("touchstart",this._onTouchstart,nd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nd),document.removeEventListener("mousedown",this._onMousedown,nd),document.removeEventListener("touchstart",this._onTouchstart,nd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn),l.LFG(l.R0b),l.LFG(ae),l.LFG(kS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PS=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function NS(){return null}}),uP=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let F_=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[a,u]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(PS,8),l.LFG(l.R0b),l.LFG(ae),l.LFG(uP,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lc=new l.OlP("cdk-focus-monitor-default-options"),nm=Tl({passive:!0,capture:!0});let $a=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=h=>{const g=lo(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let E=g;E;E=E.parentElement)v.call(this,h,E)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=gr(t);if(!this._platform.isBrowser||1!==i.nodeType)return st(null);const a=function Vp(n){if(function sw(){if(null==Zu){const n=typeof document<"u"?document.head:null;Zu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zu}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new St.x,rootNode:a};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=gr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=gr(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,g])=>this._originChanged(h,r,g)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=lo(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Or(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Tn),l.LFG(Yw),l.LFG(ae,8),l.LFG(Lc,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qw="cdk-high-contrast-black-on-white",LS="cdk-high-contrast-white-on-black",Xw="cdk-high-contrast-active";let BS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Xw,Qw,LS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Xw,Qw):2===r&&t.add(Xw,LS)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn),l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VS=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BS))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[R_]}),n})();const $S=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function jS(){return!0}});let Pr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!vh()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BS),l.LFG($S,8),l.LFG(ae))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Rc,Rc]}),n})();function Jw(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=mr(e)}}}function Lh(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function B_(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mr(e)}}}function gP(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let rm=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bP{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Vh={enterDuration:225,exitDuration:150},Uh=Tl({passive:!0}),om=["mousedown","touchstart"],am=["mouseup","mouseleave","touchend","touchcancel"];class wP{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gr(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...Vh,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function KS(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,g=t-i.top,v=a.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=g-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=r.color&&(E.style.backgroundColor=r.color),E.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(E);const T=window.getComputedStyle(E),V=T.transitionDuration,G="none"===T.transitionProperty||"0s"===V||"0s, 0s"===V,Q=new bP(this,E,r,G);E.style.transform="scale3d(1, 1, 1)",Q.state=0,r.persistent||(this._mostRecentTransientRipple=Q);let ie=null;return!G&&(v||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $e=()=>this._finishRippleTransition(Q),Xe=()=>this._destroyRipple(Q);E.addEventListener("transitionend",$e),E.addEventListener("transitioncancel",Xe),ie={onTransitionEnd:$e,onTransitionCancel:Xe}}),this._activeRipples.set(Q,ie),(G||!v)&&this._finishRippleTransition(Q),Q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...Vh,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gr(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(om))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(am),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=em(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!tm(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Uh)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(om.forEach(e=>{this._triggerElement.removeEventListener(e,this,Uh)}),this._pointerUpEventsRegistered&&am.forEach(e=>{this._triggerElement.removeEventListener(e,this,Uh)}))}}const QS=new l.OlP("mat-ripple-global-options");let lm=(()=>{class n{constructor(t,r,i,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new wP(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Tn),l.Y36(QS,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pr,Pr]}),n})();const tT=["mat-button",""],nT=["*"],U_=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],rT=Lh(Jw(B_(class{constructor(n){this._elementRef=n}})));let Fl=(()=>{class n extends rT{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of U_)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36($a),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&l.Gf(lm,5),2&t){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:tT,ngContentSelectors:nT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[lm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),Hh=(()=>{class n extends Fl{constructor(t,r,i,a){super(r,t,i),this._ngZone=a,this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($a),l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:tT,ngContentSelectors:nT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[lm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),n})(),H_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[s0,Pr,Pr]}),n})();class cm{}const pi="*";function rd(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ll(n,e=null){return{type:4,styles:e,timings:n}}function a0(n,e=null){return{type:3,steps:n,options:e}}function j_(n,e=null){return{type:2,steps:n,options:e}}function mi(n){return{type:6,styles:n,offset:null}}function Bc(n,e,t){return{type:0,name:n,styles:e,options:t}}function ps(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Vc(n=null){return{type:9,options:n}}function jh(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function G_(n){Promise.resolve().then(n)}class Uc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){G_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class um{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?G_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const{isArray:z_}=Array,{getPrototypeOf:oT,prototype:IP,keys:aT}=Object;function q_(n){if(1===n.length){const e=n[0];if(z_(e))return{args:e,keys:null};if(function lT(n){return n&&"object"==typeof n&&oT(n)===IP}(e)){const t=aT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Z_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var u0=F(9672);function W_(...n){const e=(0,hi.yG)(n),t=(0,hi.jO)(n),{args:r,keys:i}=q_(n);if(0===r.length)return(0,Gt.D)([],e);const a=new Er.y(function ms(n,e,t=ed.y){return r=>{Y_(e,()=>{const{length:i}=n,a=new Array(i);let u=i,h=i;for(let g=0;g<i;g++)Y_(e,()=>{const v=(0,Gt.D)(n[g],e);let E=!1;v.subscribe((0,ut.x)(r,T=>{a[g]=T,E||(E=!0,h--),h||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Z_(i,u):ed.y));return t?a.pipe(Yo(t)):a}function Y_(n,e,t){n?(0,u0.f)(t,n,e):e()}var $h=F(8189);function Gh(...n){return function SP(){return(0,$h.J)(1)}()((0,Gt.D)(n,(0,hi.yG)(n)))}function xi(...n){const e=(0,hi.yG)(n);return(0,ct.e)((t,r)=>{(e?Gh(n,t,e):Gh(n,t)).subscribe(r)})}const d0=new Set;let id,uT=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dT}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function h0(n){if(!d0.has(n))try{id||(id=document.createElement("style"),id.setAttribute("type","text/css"),document.head.appendChild(id)),id.sheet&&(id.sheet.insertRule(`@media ${n} {body{ }}`,0),d0.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dT(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let K_=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new St.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return f0(Na(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=W_(f0(Na(t)).map(u=>this._registerQuery(u).observable));return a=Gh(a.pipe(ir(1)),a.pipe(x_(1),Xo(0))),a.pipe((0,yt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{h.matches=h.matches||g,h.breakpoints[v]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Er.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(xi(r),(0,yt.U)(({matches:u})=>({query:t,matches:u})),Or(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uT),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f0(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function p0(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function m0(n,e){}const g0=new l.OlP("MatSnackBarData");class gs{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Q_=Math.pow(2,31)-1;class X_{constructor(e,t){this._overlayRef=t,this._afterDismissed=new St.x,this._afterOpened=new St.x,this._onAction=new St.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Q_))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let fT=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(X_),l.Y36(g0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,p0,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(r.data.message),l.xp6(1),l.Q6J("ngIf",r.hasAction))},dependencies:[xn,Fl],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const TP={snackBarState:rd("state",[Bc("void, hidden",mi({transform:"scale(0.8)",opacity:0})),Bc("visible",mi({transform:"scale(1)",opacity:1})),ps("* => visible",Ll("150ms cubic-bezier(0, 0, 0.2, 1)")),ps("* => void, * => hidden",Ll("75ms cubic-bezier(0.4, 0.0, 1, 1)",mi({opacity:0})))])};let _0=(()=>{class n extends te{constructor(t,r,i,a,u){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new St.x,this._onExit=new St.x,this._onEnter=new St.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ir(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Tn),l.Y36(gs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(qr,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&l.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&l.d8E("@state",r._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,m0,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",r._live)("role",r._role))},dependencies:[qr],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[TP.snackBarState]}}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xu,Ha,dl,H_,Pr,Pr]}),n})();const v0=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function pT(){return new gs}});let J_=(()=>{class n{constructor(t,r,i,a,u,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a={...this._defaultConfig,...i};return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:gs,useValue:r}]}),u=new C(this.snackBarContainerComponent,r.viewContainerRef,a),h=t.attach(u);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i={...new gs,...this._defaultConfig,...r},a=this._createOverlay(i),u=this._attachSnackBarContainer(a,i),h=new X_(u,a);if(t instanceof l.Rgc){const g=new M(t,null,{$implicit:i.data,snackBarRef:h});h.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(i,h),v=new C(t,void 0,g),E=u.attachComponentPortal(v);h.instance=E.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Or(a.detachments())).subscribe(g=>{a.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),i.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new qp;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,h=!u&&"center"!==t.horizontalPosition;return u?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:X_,useValue:r},{provide:g0,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(F_),l.LFG(l.zs3),l.LFG(K_),l.LFG(n,12),l.LFG(v0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mT=(()=>{class n extends J_{constructor(t,r,i,a,u,h){super(t,r,i,a,u,h),this.simpleSnackBarComponent=fT,this.snackBarContainerComponent=_0,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(F_),l.LFG(l.zs3),l.LFG(K_),l.LFG(n,12),l.LFG(v0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:y0}),n})();const gT=["*",[["mat-toolbar-row"]]],hm=["*","mat-toolbar-row"],ey=Lh(class{constructor(n){this._elementRef=n}});let fm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),AP=(()=>{class n extends ey{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Tn),l.Y36(ae))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,fm,5),2&t){let a;l.iGM(a=l.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:hm,decls:2,vars:0,template:function(t,r){1&t&&(l.F$t(gT),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pr,Pr]}),n})();function sr(n,e){return(0,ct.e)((t,r)=>{let i=null,a=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,ut.x)(r,g=>{i?.unsubscribe();let v=0;const E=a++;(0,fi.Xf)(n(g,E)).subscribe(i=(0,ut.x)(r,T=>r.next(e?e(g,T,E,v++):T),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function ty(n){return(0,yt.U)(()=>n)}function ny(n,e){return e?t=>Gh(e.pipe(ir(1),function w0(){return(0,ct.e)((n,e)=>{n.subscribe((0,ut.x)(e,Ku.Z))})}()),t.pipe(ny(n))):(0,rr.z)((t,r)=>n(t,r).pipe(ir(1),ty(t)))}function pm(n,e=pt.z){const t=oo(n,e);return ny(()=>t)}const Ga=["mat-menu-item",""];function mm(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const zh=["*"];function qh(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a._handleKeydown(i))})("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.closed.emit("click"))})("@transformMenu.start",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a._onAnimationStart(i))})("@transformMenu.done",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a._onAnimationDone(i))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const gm={transformMenu:rd("transformMenu",[Bc("void",mi({opacity:0,transform:"scale(0.8)"})),ps("void => enter",Ll("120ms cubic-bezier(0, 0, 0.2, 1)",mi({opacity:1,transform:"scale(1)"}))),ps("* => void",Ll("100ms 25ms linear",mi({opacity:0})))]),fadeInItems:rd("fadeInItems",[Bc("showing",mi({opacity:1})),ps("void => *",[mi({opacity:0}),Ll("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},yT=new l.OlP("MatMenuContent"),E0=new l.OlP("MAT_MENU_PANEL"),vT=B_(Jw(class{}));let ym=(()=>{class n extends vT{constructor(t,r,i,a,u){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=a,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new St.x,this._focused=new St.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ae),l.Y36($a),l.Y36(E0,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(l.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:Ga,ngContentSelectors:zh,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,mm,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),l.xp6(1),l.Q6J("ngIf",r._triggersSubmenu))},dependencies:[xn,lm],encapsulation:2,changeDetection:0}),n})();const D0=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function I0(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ry=0,Zh=(()=>{class n{constructor(t,r,i,a){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=Dr.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new St.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+ry++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=mr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mr(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new CS(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(xi(this._directDescendantItems),sr(t=>(0,co.T)(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),a=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[a]&&!i[a].disabled?r.setActiveItem(a):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(xi(this._directDescendantItems),sr(r=>(0,co.T)(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:kh(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(ir(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,a=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(xi(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(D0),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,yT,5),l.Suo(i,ym,5),l.Suo(i,ym,4)),2&t){let a;l.iGM(a=l.CRH())&&(r.lazyContent=a.first),l.iGM(a=l.CRH())&&(r._allItems=a),l.iGM(a=l.CRH())&&(r.items=a)}},viewQuery:function(t,r){if(1&t&&l.Gf(l.Rgc,5),2&t){let i;l.iGM(i=l.CRH())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),iy=(()=>{class n extends Zh{constructor(t,r,i,a){super(t,r,i,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(D0),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:E0,useExisting:n}]),l.qOj],ngContentSelectors:zh,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,qh,3,6,"ng-template"))},dependencies:[hn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[gm.transformMenu,gm.fadeInItems]},changeDetection:0}),n})();const S0=new l.OlP("mat-menu-scroll-strategy"),wT={provide:S0,deps:[Rs],useFactory:function bT(n){return()=>n.scrollStrategies.reposition()}},T0=Tl({passive:!0});let CT=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=h,this._dir=g,this._focusMonitor=v,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Dr.w0.EMPTY,this._hoverSubscription=Dr.w0.EMPTY,this._menuCloseSubscription=Dr.w0.EMPTY,this._handleTouchStart=T=>{tm(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=u instanceof Zh?u:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,T0),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,T0),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),a=i.positionStrategy;this._setPosition(t,a),i.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Zh&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Or(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Zh?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(gn(i=>"void"===i.toState),ir(1),Or(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new qp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const a="start"===i.connectionPair.overlayX?"after":"before",u="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(a,u)):t.setPositionClasses(a,u)})}_setPosition(t,r){let[i,a]="before"===t.xPosition?["end","start"]:["start","end"],[u,h]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[g,v]=[u,h],[E,T]=[i,a],P=0;if(this.triggersSubmenu()){if(T=i="before"===t.xPosition?"start":"end",a=E="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const V=this._parentMaterialMenu.items.first;this._parentInnerPadding=V?V._getHostElement().offsetTop:0}P="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(g="top"===u?"bottom":"top",v="top"===h?"bottom":"top");r.withPositions([{originX:i,originY:g,overlayX:E,overlayY:u,offsetY:P},{originX:a,originY:g,overlayX:T,overlayY:u,offsetY:P},{originX:i,originY:v,overlayX:E,overlayY:h,offsetY:-P},{originX:a,originY:v,overlayX:T,overlayY:h,offsetY:-P}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:st(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gn(u=>u!==this._menuItemInstance),gn(()=>this._menuOpen)):st();return(0,co.T)(t,i,a,r)}_handleMousedown(t){em(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(gn(t=>t===this._menuItemInstance&&!t.disabled),pm(0,Me)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Zh&&this.menu._isAnimating?this.menu._animationDone.pipe(ir(1),pm(0,Me),Or(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new M(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rs),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(S0),l.Y36(E0,8),l.Y36(ym,10),l.Y36(Ml,8),l.Y36($a),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._handleClick(a)})("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)}),2&t&&l.uIk("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),vm=(()=>{class n extends CT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),Hc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wT],imports:[dl,Pr,s0,Xu,jp,Pr]}),n})();function jc(n){return n&&"function"==typeof n.connect}class A0{applyChanges(e,t,r,i,a){e.forEachOperation((u,h,g)=>{let v,E;if(null==u.previousIndex){const T=r(u,h,g);v=t.createEmbeddedView(T.templateRef,T.context,T.index),E=1}else null==g?(t.remove(h),E=3):(v=t.get(h),t.move(v,g),E=2);a&&a({context:v?.context,operation:E,record:u})})}detach(){}}const Sr=new l.OlP("_ViewRepeater"),Cm=[[["caption"]],[["colgroup"],["col"]]],Os=["caption","colgroup, col"];function Bl(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=mr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const uo=new l.OlP("CDK_TABLE");let ho=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),fo=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),qa=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class ad{}const ld=Bl(ad);let ea=(()=>{class n extends ld{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=mr(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,ho,5),l.Suo(i,fo,5),l.Suo(i,qa,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.cell=a.first),l.iGM(a=l.CRH())&&(r.headerCell=a.first),l.iGM(a=l.CRH())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class Em{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let Dm=(()=>{class n extends Em{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ea),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),Im=(()=>{class n extends Em{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ea),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class ay{constructor(){this.tasks=[],this.endTasks=[]}}const Sm=new l.OlP("_COALESCED_STYLE_SCHEDULER");let ly=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new St.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ay,this._getScheduleObservable().pipe(Or(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new ay;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Gt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ir(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),cy=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Wh?t.headerCell.template:this instanceof Gc?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class DT extends cy{}const M0=Bl(DT);let Wh=(()=>{class n extends M0{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(uo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class x0 extends cy{}const uy=Bl(x0);let Gc=(()=>{class n extends uy{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(uo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),Tm=(()=>{class n extends cy{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(uo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Ps=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ps],encapsulation:2}),n})(),dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ps],encapsulation:2}),n})(),zc=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Kh=["top","bottom","left","right"];class hy{constructor(e,t,r,i,a=!0,u=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let a=0;a<i.children.length;a++)r.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(P=>P)&&!r.some(P=>P))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],u=a.children.length,h=this._getCellWidths(a,i),g=this._getStickyStartColumnPositions(h,t),v=this._getStickyEndColumnPositions(h,r),E=t.lastIndexOf(!0),T=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const P="rtl"===this.direction,V=P?"right":"left",G=P?"left":"right";for(const Q of e)for(let ie=0;ie<u;ie++){const $e=Q.children[ie];t[ie]&&this._addStickyStyle($e,V,g[ie],ie===E),r[ie]&&this._addStickyStyle($e,G,v[ie],ie===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((Q,ie)=>t[ie]?Q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===T?[]:h.slice(T).map((Q,ie)=>r[ie+T]?Q:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,a="bottom"===r?t.slice().reverse():t,u=[],h=[],g=[];for(let E=0,T=0;E<i.length;E++){if(!a[E])continue;u[E]=T;const P=i[E];g[E]=this._isNativeHtmlTable?Array.from(P.children):[P];const V=P.getBoundingClientRect().height;T+=V,h[E]=V}const v=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<i.length;E++){if(!a[E])continue;const T=u[E],P=E===v;for(const V of g[E])this._addStickyStyle(V,r,T,P)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:g}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:g})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);Kh.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of Kh)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let a=0;a<i.length;a++)r.push(i[a].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let a=0;a<e.length;a++)t[a]&&(r[a]=i,i+=e[a]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let a=e.length;a>0;a--)t[a]&&(r[a]=i,i+=e[a]);return r}}const Am=new l.OlP("CDK_SPL");let Qh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Mm=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Xh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Jh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ef=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T,P,V){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=u,this._platform=g,this._viewRepeater=v,this._coalescedStyleScheduler=E,this._viewportRuler=T,this._stickyPositioningListener=P,this._ngZone=V,this._onDestroy=new St.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new fs({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=mr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=mr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Or(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),jc(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,a,u)=>this._getEmbeddedViewArgs(i.item,u),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(ir(1),Or(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===a&&u.push(r[h]);this._addStickyColumnStyles(u,a)}),i.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let a=this._data[i];const u=this._getRenderRowsForData(a,i,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let h=0;h<u.length;h++){let g=u[h];const v=this._cachedRenderRowsMap.get(g.data);v.has(g.rowDef)?v.get(g.rowDef).push(g):v.set(g.rowDef,[g]),t.push(g)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(u=>{const h=i&&i.has(u)?i.get(u):[];if(h.length){const g=h.shift();return g.dataIndex=r,g}return{data:t,rowDef:u,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),tf(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=tf(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=tf(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=tf(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,h)=>u||!!h.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),r||i||a}_switchDataSource(t){this._data=[],jc(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;jc(this.dataSource)?t=this.dataSource.connect(this):function $c(n){return!!n&&(n instanceof Er.y||(0,Mn.m)(n.lift)&&(0,Mn.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=st(this.dataSource)),this._renderChangeSubscription=t.pipe(Or(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),a=i.map(h=>h.sticky),u=i.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const a=t.viewContainer.get(i);r.push(a.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(a=>!a.when||a.when(r,t));else{let a=this._rowDefs.find(u=>u.when&&u.when(r,t))||this._defaultRowDef;a&&i.push(a)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,a={}){const u=t.viewContainer.createEmbeddedView(r.template,a,i);return this._renderCellTemplateForItem(r,a),u}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))Ps.mostRecentCellOutlet&&Ps.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const u=t.get(r).context;u.count=i,u.first=0===r,u.last=r===i-1,u.even=r%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[r].dataIndex,u.renderIndex=r):u.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup");for(const u of i.outlets)a.appendChild(u.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new hy(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:st()).pipe(Or(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const a=i.createEmbeddedView(t.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Ml,8),l.Y36(ae),l.Y36(Tn),l.Y36(Sr),l.Y36(Sm),l.Y36(kc),l.Y36(Am,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,zc,5),l.Suo(i,ea,5),l.Suo(i,Tm,5),l.Suo(i,Wh,5),l.Suo(i,Gc,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._noDataRow=a.first),l.iGM(a=l.CRH())&&(r._contentColumnDefs=a),l.iGM(a=l.CRH())&&(r._contentRowDefs=a),l.iGM(a=l.CRH())&&(r._contentHeaderRowDefs=a),l.iGM(a=l.CRH())&&(r._contentFooterRowDefs=a)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Qh,7),l.Gf(Mm,7),l.Gf(Xh,7),l.Gf(Jh,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._rowOutlet=i.first),l.iGM(i=l.CRH())&&(r._headerRowOutlet=i.first),l.iGM(i=l.CRH())&&(r._footerRowOutlet=i.first),l.iGM(i=l.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:uo,useExisting:n},{provide:Sr,useClass:A0},{provide:Sm,useClass:ly},{provide:Am,useValue:null}])],ngContentSelectors:Os,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(Cm),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Qh,Mm,Xh,Jh],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function tf(n,e){return n.concat(Array.from(e))}let L0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$p]}),n})();const B0=[[["caption"]],[["colgroup"],["col"]]],V0=["caption","colgroup, col"];let H0=(()=>{class n extends ef{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Sr,useClass:A0},{provide:ef,useExisting:n},{provide:uo,useExisting:n},{provide:Sm,useClass:ly},{provide:Am,useValue:null}]),l.qOj],ngContentSelectors:V0,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(l.F$t(B0),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Qh,Mm,Xh,Jh],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),xm=(()=>{class n extends ho{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:ho,useExisting:n}]),l.qOj]}),n})(),py=(()=>{class n extends fo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:fo,useExisting:n}]),l.qOj]}),n})(),Rm=(()=>{class n extends ea{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:ea,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),my=(()=>{class n extends Dm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),km=(()=>{class n extends Im{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),j0=(()=>{class n extends Wh{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:Wh,useExisting:n}]),l.qOj]}),n})(),gy=(()=>{class n extends Tm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:Tm,useExisting:n}]),l.qOj]}),n})(),qc=(()=>{class n extends cd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:cd,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ps],encapsulation:2}),n})(),G0=(()=>{class n extends dy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:dy,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&l.GkF(0,0)},dependencies:[Ps],encapsulation:2}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[L0,Pr,Pr]}),n})();const Z0=Tl({passive:!0});let NT=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ir.E;const r=gr(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new St.x,u="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,Z0),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",h,Z0)}}),a}stopMonitoring(t){const r=gr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tn),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),yy=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Zc=(()=>{class n extends yy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const na=new l.OlP("NgValueAccessor"),vy={provide:na,useExisting:(0,l.Gpc)(()=>Vl),multi:!0},LT=new l.OlP("CompositionEventMode");let Vl=(()=>{class n extends yy{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nf(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(LT,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([vy]),l.qOj]}),n})();function Ya(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function by(n){return null!=n&&"number"==typeof n.length}const Fr=new l.OlP("NgValidators"),Ul=new l.OlP("NgAsyncValidators"),K0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lr{static min(e){return Om(e)}static max(e){return function rf(n){return e=>{if(Ya(e.value)||Ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return wy(e)}static requiredTrue(e){return function Cy(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return Ey(e)}static minLength(e){return function Dy(n){return e=>Ya(e.value)||!by(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Iy(n){return e=>by(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Sy(n){if(!n)return sf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ya(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return tC(e)}static composeAsync(e){return nC(e)}}function Om(n){return e=>{if(Ya(e.value)||Ya(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function wy(n){return Ya(n.value)?{required:!0}:null}function Ey(n){return Ya(n.value)||K0.test(n.value)?null:{email:!0}}function sf(n){return null}function Ty(n){return null!=n}function Q0(n){return(0,l.QGY)(n)?(0,Gt.D)(n):n}function X0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J0(n,e){return e.map(t=>t(n))}function eC(n){return n.map(e=>function VT(n){return!n.validate}(e)?e:t=>e.validate(t))}function tC(n){if(!n)return null;const e=n.filter(Ty);return 0==e.length?null:function(t){return X0(J0(t,e))}}function Ay(n){return null!=n?tC(eC(n)):null}function nC(n){if(!n)return null;const e=n.filter(Ty);return 0==e.length?null:function(t){return function W0(...n){const e=(0,hi.jO)(n),{args:t,keys:r}=q_(n),i=new Er.y(a=>{const{length:u}=t;if(!u)return void a.complete();const h=new Array(u);let g=u,v=u;for(let E=0;E<u;E++){let T=!1;(0,fi.Xf)(t[E]).subscribe((0,ut.x)(a,P=>{T||(T=!0,v--),h[E]=P},()=>g--,void 0,()=>{(!g||!T)&&(v||a.next(r?Z_(r,h):h),a.complete())}))}});return e?i.pipe(Yo(e)):i}(J0(t,e).map(Q0)).pipe((0,yt.U)(X0))}}function My(n){return null!=n?nC(eC(n)):null}function rC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iC(n){return n._rawValidators}function sC(n){return n._rawAsyncValidators}function xy(n){return n?Array.isArray(n)?n:[n]:[]}function Pm(n,e){return Array.isArray(n)?n.includes(e):n===e}function oC(n,e){const t=xy(e);return xy(n).forEach(i=>{Pm(t,i)||t.push(i)}),t}function aC(n,e){return xy(e).filter(t=>!Pm(n,t))}class lC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ay(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=My(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ri extends lC{get formDirective(){return null}get path(){return null}}class ra extends lC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ry{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ud=(()=>{class n extends Ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ra,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),dd=(()=>{class n extends Ry{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ri,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const uf="VALID",Ka="INVALID",fd="PENDING",Hl="DISABLED";function pd(n){return(df(n)?n.validators:n)||null}function or(n){return Array.isArray(n)?Ay(n):n||null}function hC(n,e){return(df(e)?e.asyncValidators:n)||null}function Ny(n){return Array.isArray(n)?My(n):n||null}function df(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function fC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function Fy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class hf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=or(this._rawValidators),this._composedAsyncValidatorFn=Ny(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uf}get invalid(){return this.status===Ka}get pending(){return this.status==fd}get disabled(){return this.status===Hl}get enabled(){return this.status!==Hl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=or(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ny(e)}addValidators(e){this.setValidators(oC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aC(e,this._rawAsyncValidators))}hasValidator(e){return Pm(this._rawValidators,e)}hasAsyncValidator(e){return Pm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uf||this.status===fd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hl:uf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fd,this._hasOwnPendingAsyncValidator=!0;const t=Q0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Hl:this.errors?Ka:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fd)?fd:this._anyControlsHaveStatus(Ka)?Ka:uf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){df(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class md extends hf{constructor(e,t,r){super(pd(t),hC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fy(this,0,e),Object.keys(e).forEach(r=>{fC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class pC extends md{}function jl(n,e){return[...e.path,n]}function ff(n,e){Vm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function mC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gd(n,e)})}(n,e),function mf(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function GT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bm(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Fm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Vm(n,e){const t=iC(n);null!==e.validator?n.setValidators(rC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sC(n);null!==e.asyncValidator?n.setAsyncValidators(rC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Lm(e._rawValidators,i),Lm(e._rawAsyncValidators,i)}function pf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=iC(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=sC(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Lm(e._rawValidators,r),Lm(e._rawAsyncValidators,r),t}function gd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gC(n,e){Vm(n,e)}function By(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function vC(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vy(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Vl?t=a:function yC(n){return Object.getPrototypeOf(n.constructor)===Zc}(a)?r=a:i=a}),i||r||t||null}const qP={provide:Ri,useExisting:(0,l.Gpc)(()=>_d)},Um=(()=>Promise.resolve())();let _d=(()=>{class n extends Ri{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new md({},Ay(t),My(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Um.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ff(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Um.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Um.then(()=>{const r=this._findContainer(t.path),i=new md({});gC(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Um.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Um.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vC(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fr,10),l.Y36(Ul,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([qP]),l.qOj]}),n})();function gf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _f=class extends hf{constructor(e=null,t,r){super(pd(t),hC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},WT={provide:ra,useExisting:(0,l.Gpc)(()=>Uy)},yd=(()=>Promise.resolve())();let Uy=(()=>{class n extends ra{constructor(t,r,i,a,u){super(),this._changeDetectorRef=u,this.control=new _f,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vy(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),By(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ff(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){yd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);yd.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?jl(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ri,9),l.Y36(Fr,10),l.Y36(Ul,10),l.Y36(na,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([WT]),l.qOj,l.TTD]}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const YT={provide:na,useExisting:(0,l.Gpc)(()=>vf),multi:!0};let vf=(()=>{class n extends Zc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([YT]),l.qOj]}),n})(),DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const $y=new l.OlP("NgModelWithFormControlWarning"),Gy={provide:Ri,useExisting:(0,l.Gpc)(()=>Wc)};let Wc=(()=>{class n extends Ri{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ff(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Fm(t.control||null,t,!1),function zP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,vC(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Fm(r||null,t),(n=>n instanceof _f)(i)&&(ff(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);gC(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function zT(n,e){return pf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vm(this.form,this),this._oldForm&&pf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fr,10),l.Y36(Ul,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Gy]),l.qOj,l.TTD]}),n})();const eA={provide:ra,useExisting:(0,l.Gpc)(()=>bf)};let bf=(()=>{class n extends ra{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vy(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),By(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return jl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Ri,13),l.Y36(Fr,10),l.Y36(Ul,10),l.Y36(na,10),l.Y36($y,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([eA]),l.qOj,l.TTD]}),n})();let Qa=(()=>{class n{constructor(){this._validator=sf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Qy={provide:Fr,useExisting:(0,l.Gpc)(()=>Xy),multi:!0};let Xy=(()=>{class n extends Qa{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function Ky(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>Om(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[l._Bn([Qy]),l.qOj]}),n})();const OC={provide:Fr,useExisting:(0,l.Gpc)(()=>wf),multi:!0};let wf=(()=>{class n extends Qa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>wy}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([OC]),l.qOj]}),n})();const XP={provide:Fr,useExisting:(0,l.Gpc)(()=>$m),multi:!0};let $m=(()=>{class n extends Qa{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.D6c,this.createValidator=t=>Ey}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([XP]),l.qOj]}),n})(),tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[DC]}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tv]}),n})(),BC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$y,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tv]}),n})();class VC extends hf{constructor(e,t,r){super(pd(t),hC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Fy(this,0,e),e.forEach((r,i)=>{fC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function dA(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zm=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return dA(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new md(i,a)}record(t,r=null){const i=this._reduceControls(t);return new pC(i,r)}control(t,r,i){let a={};return this.useNonNullable?(dA(r)?a=r:(a.validators=r,a.asyncValidators=i),new _f(t,{...a,nonNullable:!0})):new _f(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new VC(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof _f||t instanceof hf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:BC}),n})();const n1=["connectionContainer"],hA=["inputContainer"],fA=["label"];function pA(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function UC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function mA(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function gA(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function _A(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function yA(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.updateOutlineGap())}),l.YNc(2,mA,4,1,"ng-container",12),l.YNc(3,gA,1,0,"ng-content",12),l.YNc(4,_A,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function vA(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function bA(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function wA(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function CA(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function Cf(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,CA,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const HC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],$C=new l.OlP("MatError"),GC={transitionMessages:rd("transitionMessages",[Bc("enter",mi({opacity:1,transform:"translateY(0%)"})),ps("void => enter",[mi({opacity:0,transform:"translateY(-5px)"}),Ll("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const SA=new l.OlP("MatHint");let $l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const rv=new l.OlP("MatPrefix"),AA=new l.OlP("MatSuffix");let wd=0;const xA=Lh(class{constructor(n){this._elementRef=n}},"primary"),qm=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ef=new l.OlP("MatFormField");let qC=(()=>{class n extends xA{constructor(t,r,i,a,u,h,g){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+wd++,this._labelId="mat-form-field-label-"+wd++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(xi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Or(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Or(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,co.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Or(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ko(this._label.nativeElement,"transitionend").pipe(ir(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const E=r.querySelectorAll(`${i}, ${a}`);for(let T=0;T<E.length;T++)E[T].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const g=r.querySelectorAll(i),v=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const E=r.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(E),P=t.children,V=this._getStartEnd(P[0].getBoundingClientRect());let G=0;for(let Q=0;Q<P.length;Q++)G+=P[Q].offsetWidth;u=Math.abs(V-T)-5,h=G>0?.75*G+10:0}for(let E=0;E<g.length;E++)g[E].style.width=`${u}px`;for(let E=0;E<v.length;E++)v[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ml,8),l.Y36(qm,8),l.Y36(Tn),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,nv,5),l.Suo(i,nv,7),l.Suo(i,$l,5),l.Suo(i,$l,7),l.Suo(i,TA,5),l.Suo(i,$C,5),l.Suo(i,SA,5),l.Suo(i,rv,5),l.Suo(i,AA,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(r._controlStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._placeholderChild=a.first),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(l.Gf(n1,7),l.Gf(hA,5),l.Gf(fA,5)),2&t){let i;l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Ef,useExisting:n}]),l.qOj],ngContentSelectors:jC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(l.F$t(HC),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),l.YNc(3,pA,9,0,"ng-container",3),l.YNc(4,UC,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,yA,5,16,"label",8),l.qZA()(),l.YNc(10,vA,2,0,"div",9),l.qZA(),l.YNc(11,bA,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,wA,2,1,"div",12),l.YNc(14,Cf,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[xn,Ks,al,Lw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[GC.transitionMessages]},changeDetection:0}),n})(),ZC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dl,Pr,R_,Pr]}),n})();const WC=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),sv=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let YC=0;const kA=gP(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new St.x}});let KC=(()=>{class n extends kA{constructor(t,r,i,a,u,h,g,v,E,T){super(h,a,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=v,this._formField=T,this._uid="mat-input-"+YC++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>Va().has(G)),this._iOSKeyupListener=G=>{const Q=G.target;!Q.value&&0===Q.selectionStart&&0===Q.selectionEnd&&(Q.setSelectionRange(1,1),Q.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,V=P.nodeName.toLowerCase();this._inputValueAccessor=g||P,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=mr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Lr.required)??!1}set required(t){this._required=mr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Va().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){sv.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Tn),l.Y36(ra,10),l.Y36(_d,8),l.Y36(Wc,8),l.Y36(rm),l.Y36(WC,10),l.Y36(NT),l.Y36(l.R0b),l.Y36(Ef,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:nv,useExisting:n}]),l.qOj,l.TTD]}),n})(),a1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rm],imports:[Ns,ZC,Pr,Ns,ZC]}),n})();const ov=["primaryValueBar"],av=Lh(class{constructor(n){this._elementRef=n}},"primary"),QC=new l.OlP("mat-progress-bar-location",{providedIn:"root",factory:function lv(){const n=(0,l.f3M)(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),cv=new l.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let OA=0,XC=(()=>{class n extends av{constructor(t,r,i,a,u,h){super(t),this._ngZone=r,this._animationMode=i,this._changeDetectorRef=h,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new l.vpe,this._animationEndSubscription=Dr.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+OA++;const g=a?a.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${g}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(t){this._value=JC(Pa(t)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=JC(t||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ko(t,"transitionend").pipe(gn(r=>r.target===t)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(QC,8),l.Y36(cv,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(t,r){if(1&t&&l.Gf(ov,5),2&t){let i;l.iGM(i=l.CRH())&&(r._primaryValueBar=i.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),l.ekj("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[l.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.O4$(),l.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),l._UZ(4,"circle",3),l.qZA()(),l._UZ(5,"rect",4),l.qZA(),l.kcU(),l._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),l.qZA()),2&t&&(l.xp6(3),l.Q6J("id",r.progressbarId),l.xp6(2),l.uIk("fill",r._rectangleFillValue),l.xp6(1),l.Q6J("ngStyle",r._bufferTransform()),l.xp6(1),l.Q6J("ngStyle",r._primaryTransform()))},dependencies:[ll],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function JC(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let PA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dl,Pr,Pr]}),n})();function Df(n){return new Er.y(e=>{(0,fi.Xf)(n()).subscribe(e)})}function uv(n,e){}class If{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let dv=(()=>{class n extends te{constructor(t,r,i,a,u,h,g,v){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=a,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=g,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const T=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),T},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=Up(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Up();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Up())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(P_),l.Y36(ae,8),l.Y36(If),l.Y36(td),l.Y36(l.R0b),l.Y36(Qu),l.Y36($a))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(qr,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&l.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,uv,0,0,"ng-template",0)},dependencies:[qr],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Zm{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new St.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!kh(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const eE=new l.OlP("DialogScrollStrategy"),tE=new l.OlP("DialogData"),nE=new l.OlP("DefaultDialogConfig"),rE={provide:eE,deps:[Rs],useFactory:function FA(n){return()=>n.scrollStrategies.block()}};let LA=0,gi=(()=>{class n{constructor(t,r,i,a,u,h){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.x,this._afterOpenedAtThisLevel=new St.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Df(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xi(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,r){(r={...this._defaultOptions||new If,...r}).id=r.id||"cdk-dialog-"+LA++,r.id&&this.getDialogById(r.id);const a=this._getOverlayConfig(r),u=this._overlay.create(a),h=new Zm(u,r),g=this._attachContainer(u,h,r);return h.containerInstance=g,this._attachDialogContent(t,h,g,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Gl(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){Gl(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Gl(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new qp({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const a=i.injector??i.viewContainerRef?.injector,u=[{provide:If,useValue:i},{provide:Zm,useValue:r},{provide:Qu,useValue:t}];let h;i.container?"function"==typeof i.container?h=i.container:(h=i.container.type,u.push(...i.container.providers(i))):h=dv;const g=new C(h,i.viewContainerRef,l.zs3.create({parent:a||this._injector,providers:u}),i.componentFactoryResolver);return t.attach(g).instance}_attachDialogContent(t,r,i,a){const u=this._createInjector(a,r,i);if(t instanceof l.Rgc){let h={$implicit:a.data,dialogRef:r};a.templateContext&&(h={...h,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),i.attachTemplatePortal(new M(t,null,h,u))}else{const h=i.attachComponentPortal(new C(t,a.viewContainerRef,u,a.componentFactoryResolver));r.componentInstance=h.instance}}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:tE,useValue:t.data},{provide:Zm,useValue:r}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(r,t,i)):u.push(...t.providers)),t.direction&&(!a||!a.get(Ml,null,l.XFs.Optional))&&u.push({provide:Ml,useValue:{value:t.direction,change:st()}}),l.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(l.zs3),l.LFG(nE,8),l.LFG(n,12),l.LFG(Ah),l.LFG(eE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Gl(n,e){let t=n.length;for(;t--;)e(n[t])}let BA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gi,rE],imports:[Xu,Ha,VS,Ha]}),n})();function VA(n,e){}const Sf={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},l1={dialogContainer:rd("dialogContainer",[Bc("void, exit",mi({opacity:0,transform:"scale(0.7)"})),Bc("enter",mi({transform:"none"})),ps("* => enter",a0([Ll("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",mi({transform:"none",opacity:1})),jh("@*",Vc(),{optional:!0})]),Sf),ps("* => void, * => exit",a0([Ll("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",mi({opacity:0})),jh("@*",Vc(),{optional:!0})]),Sf)])};class Tf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Sf.params.enterAnimationDuration,this.exitAnimationDuration=Sf.params.exitAnimationDuration}}let iE=(()=>{class n extends dv{constructor(t,r,i,a,u,h,g,v){super(t,r,i,a,u,h,g,v),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(P_),l.Y36(ae,8),l.Y36(Tf),l.Y36(td),l.Y36(l.R0b),l.Y36(Qu),l.Y36($a))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Af=(()=>{class n extends iE{constructor(t,r,i,a,u,h,g,v,E){super(t,r,i,a,u,h,g,E),this._changeDetectorRef=v,this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?this._openAnimationDone(r):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Sf.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Sf.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(P_),l.Y36(ae,8),l.Y36(Tf),l.Y36(td),l.Y36(l.R0b),l.Y36(Qu),l.Y36(l.sBO),l.Y36($a))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,r){1&t&&l.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(l.Ikx("id",r._config.id),l.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.d8E("@dialogContainer",r._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,VA,0,0,"ng-template",0)},dependencies:[qr],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[l1.dialogContainer]}}),n})();class sE{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new St.x,this._beforeClosed=new St.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(gn(i=>"opened"===i.state),ir(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(gn(i=>"closed"===i.state),ir(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,co.T)(this.backdropClick(),this.keydownEvents().pipe(gn(i=>27===i.keyCode&&!this.disableClose&&!kh(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),Wm(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(gn(t=>"closing"===t.state),ir(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Wm(n,e,t){return n._closeInteractionType=e,n.close(t)}const oE=new l.OlP("MatDialogData"),aE=new l.OlP("mat-dialog-default-options"),lE=new l.OlP("mat-dialog-scroll-strategy"),hv={provide:lE,deps:[Rs],useFactory:function UA(n){return()=>n.scrollStrategies.block()}};let cE=0,uE=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T){this._overlay=t,this._defaultOptions=i,this._parentDialog=a,this._dialogRefConstructor=g,this._dialogContainerType=v,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.x,this._afterOpenedAtThisLevel=new St.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Df(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xi(void 0))),this._scrollStrategy=h,this._dialog=r.get(gi)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){let i;(r={...this._defaultOptions||new Tf,...r}).id=r.id||`${this._idPrefix}${cE++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Tf,useValue:r},{provide:If,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(u,h,g)=>(i=new this._dialogRefConstructor(u,r,g),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=a.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(i);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cd=(()=>{class n extends uE{constructor(t,r,i,a,u,h,g,v){super(t,r,a,h,g,u,sE,Af,oE,v)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rs),l.LFG(l.zs3),l.LFG(Oe,8),l.LFG(aE,8),l.LFG(lE),l.LFG(n,12),l.LFG(Ah),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),u1=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Ed(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){Wm(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sE,8),l.Y36(l.SBq),l.Y36(Cd))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._onButtonClick(a)}),2&t&&l.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),$A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Cd,hv],imports:[BA,Xu,Ha,Pr,Pr]}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[y0,MP,Hc,H_,BP,a1,PA,$A]}),n})(),Fs=(()=>{class n{constructor(t){this.snackBar=t}showMessage(t){this.snackBar.open(t,"Fechar",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _i(n){return(0,ct.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ut.x)(t,void 0,void 0,u=>{a=(0,fi.Xf)(n(u,_i(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Wn=F(5813);function fE(){return(0,ct.e)((n,e)=>{let t,r=!1;n.subscribe((0,ut.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function GA(n,e,t,r,i){return(a,u)=>{let h=t,g=e,v=0;a.subscribe((0,ut.x)(u,E=>{const T=v++;g=h?n(g,E,T):(h=!0,E),r&&u.next(g)},i&&(()=>{h&&u.next(g),u.complete()})))}}function Mf(n,e){return(0,ct.e)(GA(n,e,arguments.length>=2,!0))}var vt,ki=F(2011),fv=(F(5881),F(3942)),we=F(5861),Ls=F(9681),Yc=F(4859),zl=F(1877),Zt=F(2090),pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ja={},Ym=Ym||{},$t=pE||self;function xf(){}function Km(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qm="closure_uid_"+(1e9*Math.random()>>>0),f1=0;function p1(n,e,t){return n.call.apply(n.bind,arguments)}function m1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Oi(n,e,t){return(Oi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p1:m1).apply(null,arguments)}function pv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function Kc(){this.s=this.s,this.o=this.o}Kc.prototype.s=!1,Kc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function h1(n){Object.prototype.hasOwnProperty.call(n,Qm)&&n[Qm]||(n[Qm]=++f1)}(this)},Kc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Km(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function Br(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var gE=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",xf,e),$t.removeEventListener("test",xf,e)}catch{}return n}();function Of(n){return/^[\s\xa0]*$/.test(n)}var qA=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pf(n,e){return n<e?-1:n>e?1:0}function Nf(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function ia(n){return-1!=Nf().indexOf(n)}function Xm(n){return Xm[" "](n),n}Xm[" "]=xf;var gv,n,ZA=ia("Opera"),Dd=ia("Trident")||ia("MSIE"),_E=ia("Edge"),Id=_E||Dd,yE=ia("Gecko")&&!(-1!=Nf().toLowerCase().indexOf("webkit")&&!ia("Edge"))&&!(ia("Trident")||ia("MSIE"))&&!ia("Edge"),y1=-1!=Nf().toLowerCase().indexOf("webkit")&&!ia("Edge");function WA(){var n=$t.document;return n?n.documentMode:void 0}e:{var _v="",yv=(n=Nf(),yE?/rv:([^\);]+)(\)|;)/.exec(n):_E?/Edge\/([\d\.]+)/.exec(n):Dd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):y1?/WebKit\/(\S+)/.exec(n):ZA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yv&&(_v=yv?yv[1]:""),Dd){var vv=WA();if(null!=vv&&vv>parseFloat(_v)){gv=String(vv);break e}}gv=_v}var v1={};var b1=$t.document&&Dd&&(WA()||parseInt(gv,10))||void 0;function Pi(n,e){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yE){e:{try{Xm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pi.X.h.call(this)}}yi(Pi,Br);var KA={2:"touch",3:"pen",4:"mouse"};Pi.prototype.h=function(){Pi.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),QA=0;function Bs(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++QA,this.ba=this.ea=!1}function eg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ff(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function vE(n){const e={};for(const t in n)e[t]=n[t];return e}const bE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tg(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<bE.length;a++)t=bE[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Lf(n){this.src=n,this.g={},this.h=0}function ng(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=kf(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(eg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function wv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Lf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=wv(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new Bs(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var rg="closure_lm_"+(1e6*Math.random()|0),ig={};function wE(n,e,t,r,i){if(r&&r.once)return sg(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)wE(n,e[a],t,r,i);return null}return t=Dv(t),n&&n[Qc]?n.N(e,t,Rf(r)?!!r.capture:!!r,i):Cv(n,e,t,!1,r,i)}function Cv(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Rf(i)?!!i.capture:!!i,h=Ev(n);if(h||(n[rg]=h=new Lf(n)),(t=h.add(e,t,r,u,a)).proxy)return t;if(r=function XA(){const e=tl;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)gE||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ag(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sg(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)sg(n,e[a],t,r,i);return null}return t=Dv(t),n&&n[Qc]?n.O(e,t,Rf(r)?!!r.capture:!!r,i):Cv(n,e,t,!0,r,i)}function el(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)el(n,e[a],t,r,i);else r=Rf(r)?!!r.capture:!!r,t=Dv(t),n&&n[Qc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=wv(a=n.g[e],t,r,i))&&(eg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ev(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wv(e,t,r,i)),(t=-1<n?e[n]:null)&&og(t))}function og(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Qc])ng(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ag(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ev(e))?(ng(t,n),0==t.h&&(t.src=null,e[rg]=null)):eg(n)}}}function ag(n){return n in ig?ig[n]:ig[n]="on"+n}function tl(n,e){if(n.ba)n=!0;else{e=new Pi(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&og(n),n=t.call(r,e)}return n}function Ev(n){return(n=n[rg])instanceof Lf?n:null}var CE="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(n){return"function"==typeof n?n:(n[CE]||(n[CE]=function(e){return n.handleEvent(e)}),n[CE])}function Wr(){Kc.call(this),this.i=new Lf(this),this.P=this,this.I=null}function ti(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Br(e,n);else if(e instanceof Br)e.target=e.target||n;else{var i=e;tg(e=new Br(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=lg(u,r,!0,e)&&i}if(i=lg(u=e.g=n,r,!0,e)&&i,i=lg(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=lg(u=e.g=t[a],r,!1,e)&&i}function lg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var h=u.listener,g=u.ha||u.src;u.ea&&ng(n.i,u),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}yi(Wr,Kc),Wr.prototype[Qc]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){el(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eg(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var cg=$t.JSON.stringify;function w1(){var n=Iv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var dg,DE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new IE,n=>n.reset());class IE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function C1(n){$t.setTimeout(()=>{throw n},0)}function ug(n,e){dg||function SE(){var n=$t.Promise.resolve(void 0);dg=function(){n.then(TE)}}(),hg||(dg(),hg=!0),Iv.add(n,e)}var hg=!1,Iv=new class EE{constructor(){this.h=this.g=null}add(e,t){const r=DE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function TE(){for(var n;n=w1();){try{n.h.call(n.g)}catch(t){C1(t)}var e=DE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hg=!1}function Xc(n,e){Wr.call(this),this.h=n||1,this.g=e||$t,this.j=Oi(this.lb,this),this.l=Date.now()}function Sd(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fg(n,e,t){if("function"==typeof n)t&&(n=Oi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Oi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function AE(n){n.g=fg(()=>{n.g=null,n.i&&(n.i=!1,AE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}yi(Xc,Wr),(vt=Xc.prototype).ca=!1,vt.R=null,vt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ti(this,"tick"),this.ca&&(Sd(this),this.start()))}},vt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){Xc.X.M.call(this),Sd(this),delete this.g};class ME extends Kc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AE(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Td(n){Kc.call(this),this.h=n,this.g={}}yi(Td,Kc);var xE=[];function RE(n,e,t,r){Array.isArray(t)||(t&&(xE[0]=t.toString()),t=xE);for(var i=0;i<t.length;i++){var a=wE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function JA(n){Ff(n.g,function(e,t){this.g.hasOwnProperty(t)&&og(e)},n),n.g={}}function Sv(){this.g=!0}function Ad(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function E1(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return cg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Td.prototype.M=function(){Td.X.M.call(this),JA(this)},Td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sv.prototype.Aa=function(){this.g=!1},Sv.prototype.info=function(){};var Md={},nM=null;function Tv(){return nM=nM||new Wr}function rM(n){Br.call(this,Md.Pa,n)}function Bf(n){const e=Tv();ti(e,new rM(e))}function Vf(n,e){Br.call(this,Md.STAT_EVENT,n),this.stat=e}function Ni(n){const e=Tv();ti(e,new Vf(e,n))}function OE(n,e){Br.call(this,Md.Qa,n),this.size=e}function xd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Md.Pa="serverreachability",yi(rM,Br),Md.STAT_EVENT="statevent",yi(Vf,Br),Md.Qa="timingevent",yi(OE,Br);var sa={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Av={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Uf(){}function PE(){}Uf.prototype.h=null;var NE,Jc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hf(){Br.call(this,"d")}function Rd(){Br.call(this,"c")}function Mv(){}function mg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Td(this),this.O=FE,this.T=new Xc(n=Id?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new iM}function iM(){this.i=null,this.g="",this.h=!1}yi(Hf,Br),yi(Rd,Br),yi(Mv,Uf),Mv.prototype.g=function(){return new XMLHttpRequest},Mv.prototype.i=function(){return{}},NE=new Mv;var FE=45e3,xv={},gg={};function Rv(n,e,t){n.K=1,n.v=Fv(nl(e)),n.s=t,n.P=!0,LE(n,null)}function LE(n,e){n.F=Date.now(),jf(n),n.A=nl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),f(t.i,"t",r),n.C=0,t=n.l.H,n.h=new iM,n.g=q1(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ME(Oi(n.La,n,n.g),n.N)),RE(n.S,n.g,"readystatechange",n.ib),e=n.H?vE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Bf(),function kE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var E=v[0];v=v[1];var T=E.split("_");u=2<=T.length&&"type"==T[1]?u+(E+"=")+v+"&":u+(E+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function kv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Ov(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=BE(n,t),i==gg){4==e&&(n.o=4,Ni(14),r=!1),Ad(n.j,n.m,null,"[Incomplete Response]");break}if(i==xv){n.o=4,Ni(15),Ad(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ad(n.j,n.m,i,null),_g(n,i)}kv(n)&&i!=gg&&i!=xv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ni(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),hM(e),e.K=!0,Ni(11))):(Ad(n.j,n.m,t,"[Invalid Chunked Response]"),kd(n),eu(n))}function BE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?gg:(t=Number(e.substring(t,r)),isNaN(t)?xv:(r+=1)+t>e.length?gg:(e=e.substr(r,t),n.C=r+t,e))}function jf(n){n.V=Date.now()+n.O,VE(n,n.O)}function VE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xd(Oi(n.gb,n),e)}function $f(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function eu(n){0==n.l.G||n.I||j1(n.l,n)}function kd(n){$f(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Sd(n.T),JA(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _g(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||W(t.h,n)))if(!n.J&&W(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;GE(t),jE(t)}dM(t),Ni(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=xd(Oi(t.cb,t),6e3));if(1>=L(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else zf(t,11)}else if((n.J||t.g==n)&&GE(t),!Of(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const E=v[3];null!=E&&(t.ma=E,t.j.info("VER="+t.ma));const T=v[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const P=v[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const G=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ne(a,a.h),a.h=null))}if(r.D){const Q=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.za=Q,ar(r.F,r.D,Q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=z1(r,r.H?r.ka:null,r.V),u.J){Ee(r.h,u);var h=u,g=r.J;g&&h.setTimeout(g),h.B&&($f(h),jf(h)),r.g=u}else U1(r);0<t.i.length&&$E(t)}else"stop"!=v[0]&&"close"!=v[0]||zf(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?zf(t,7):uM(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Bf()}catch{}}function UE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Km(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function sM(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Km(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Pv(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Km(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(vt=mg.prototype).setTimeout=function(n){this.O=n},vt.ib=function(n){n=n.target;const e=this.L;e&&3==iu(n)?e.l():this.La(n)},vt.La=function(n){try{if(n==this.g)e:{const E=iu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||Id||this.g&&(this.h.h||this.g.fa()||P1(this.g)))){this.I||4!=E||7==e||Bf(),$f(this);var t=this.g.aa();this.Y=t;t:if(kv(this)){var r=P1(this.g);n="";var i=r.length,a=4==iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kd(this),eu(this);var u="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function eM(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Of(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ni(12),kd(this),eu(this);break e}Ad(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_g(this,t)}this.P?(Ov(this,E,u),Id&&this.i&&3==E&&(RE(this.S,this.T,"tick",this.hb),this.T.start())):(Ad(this.j,this.m,u,null),_g(this,u)),4==E&&kd(this),this.i&&!this.I&&(4==E?j1(this.l,this):(this.i=!1,jf(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ni(12)):(this.o=0,Ni(13)),kd(this),eu(this)}}}catch{}},vt.hb=function(){if(this.g){var n=iu(this.g),e=this.g.fa();this.C<e.length&&($f(this),Ov(this,n,e),this.i&&4!=n&&jf(this))}},vt.cancel=function(){this.I=!0,kd(this)},vt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function tM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bf(),Ni(17)),kd(this),this.o=2,eu(this)):VE(this,this.V-n)};var oM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tu){this.h=void 0!==e?e:n.h,yg(this,n.j),this.s=n.s,this.g=n.g,Nv(this,n.m),this.l=n.l,e=n.i;var t=new s;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),aM(this,t),this.o=n.o}else n&&(t=String(n).match(oM))?(this.h=!!e,yg(this,t[1]||"",!0),this.s=vg(t[2]||""),this.g=vg(t[3]||"",!0),Nv(this,t[4]),this.l=vg(t[5]||"",!0),aM(this,t[6]||"",!0),this.o=vg(t[7]||"")):(this.h=!!e,this.i=new s(null,this.h))}function nl(n){return new tu(n)}function yg(n,e,t){n.j=t?vg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aM(n,e,t){e instanceof s?(n.i=e,function y(n,e){e&&!n.j&&(o(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(c(this,r),f(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gf(e,A1)),n.i=new s(e,n.h))}function ar(n,e,t){n.i.set(e,t)}function Fv(n){return ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,I1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function I1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gf(e,lM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gf(e,lM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gf(t,"/"==t.charAt(0)?T1:S1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gf(t,M1)),n.join("")};var lM=/[#\/\?@]/g,S1=/[#\?:]/g,T1=/[#\?]/g,A1=/[#\?@]/g,M1=/#/g;function s(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function o(n){n.g||(n.g=new Map,n.h=0,n.i&&function D1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function c(n,e){o(n),e=p(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function d(n,e){return o(n),e=p(n,e),n.g.has(e)}function f(n,e,t){c(n,e),0<t.length&&(n.i=null,n.g.set(p(n,e),mE(t)),n.h+=t.length)}function p(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function D(n){this.l=n||A,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=s.prototype).add=function(n,e){o(this),this.i=null,n=p(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},vt.forEach=function(n,e){o(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},vt.oa=function(){o(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},vt.W=function(n){o(this);let e=[];if("string"==typeof n)d(this,n)&&(e=e.concat(this.g.get(p(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},vt.set=function(n,e){return o(this),this.i=null,d(this,n=p(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},vt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var A=10;function k(n){return!!n.h||!!n.g&&n.g.size>=n.j}function L(n){return n.h?1:n.g?n.g.size:0}function W(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ne(n,e){n.g?n.g.add(e):n.h=e}function Ee(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function je(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mE(n.i)}function Ze(){}function dt(){this.g=new Ze}function Mt(n,e,t){const r=t||"";try{UE(n,function(i,a){let u=i;Rf(i)&&(u=cg(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xt(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function un(n){this.l=n.ac||null,this.j=n.jb||!1}function Pn(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}D.prototype.cancel=function(){if(this.i=je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ze.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},Ze.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},yi(un,Uf),un.prototype.g=function(){return new Pn(this.l,this.j)},un.prototype.i=function(n){return function(){return n}}({}),yi(Pn,Wr);var rl=0;function bg(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function nu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ru(n)}function ru(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=Pn.prototype).open=function(n,e){if(this.readyState!=rl)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ru(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nu(this)),this.readyState=rl},vt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bg(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},vt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nu(this):ru(this),3==this.readyState&&bg(this)}},vt.Va=function(n){this.g&&(this.response=this.responseText=n,nu(this))},vt.Ua=function(n){this.g&&(this.response=n,nu(this))},vt.ga=function(){this.g&&nu(this)},vt.setRequestHeader=function(n,e){this.v.append(n,e)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lv=$t.JSON.parse;function Yn(n){Wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wg,this.K=this.L=!1}yi(Yn,Wr);var wg="",Bv=/^https?$/i,Vv=["POST","PUT"];function x1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,R1(n),HE(n)}function R1(n){n.D||(n.D=!0,ti(n,"complete"),ti(n,"error"))}function k1(n){if(n.h&&typeof Ym<"u"&&(!n.C[1]||4!=iu(n)||2!=n.aa()))if(n.v&&4==iu(n))fg(n.Ha,0,n);else if(ti(n,"readystatechange"),4==iu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(oM)[1]||null;if(!i&&$t.self&&$t.self.location){var a=$t.self.location.protocol;i=a.substr(0,a.length-1)}r=!Bv.test(i?i.toLowerCase():"")}t=r}if(t)ti(n,"complete"),ti(n,"success");else{n.m=6;try{var u=2<iu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",R1(n)}}finally{HE(n)}}}function HE(n,e){if(n.g){O1(n);const t=n.g,r=n.C[0]?xf:null;n.g=null,n.C=null,e||ti(n,"ready");try{t.onreadystatechange=r}catch{}}}function O1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function P1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function N1(n){let e="";return Ff(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function cM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=N1(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ar(n,e,t))}function Hv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function F1(n){this.Ca=0,this.i=[],this.j=new Sv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Hv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Hv("baseRetryDelayMs",5e3,n),this.bb=Hv("retryDelaySeedMs",1e4,n),this.$a=Hv("forwardChannelMaxRetries",2,n),this.ta=Hv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new D(n&&n.concurrentRequestLimit),this.Fa=new dt,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function uM(n){if(L1(n),3==n.G){var e=n.U++,t=nl(n.F);ar(t,"SID",n.I),ar(t,"RID",e),ar(t,"TYPE","terminate"),jv(n,t),(e=new mg(n,n.j,e,void 0)).K=2,e.v=Fv(nl(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=q1(e.l,null),e.g.da(e.v)),e.F=Date.now(),jf(e)}G1(n)}function jE(n){n.g&&(hM(n),n.g.cancel(),n.g=null)}function L1(n){jE(n),n.u&&($t.clearTimeout(n.u),n.u=null),GE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function $E(n){k(n.h)||n.m||(n.m=!0,ug(n.Ja,n),n.C=0)}function B1(n,e){var t;t=e?e.m:n.U++;const r=nl(n.F);ar(r,"SID",n.I),ar(r,"RID",t),ar(r,"AID",n.T),jv(n,r),n.o&&n.s&&cM(r,n.o,n.s),t=new mg(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=V1(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ne(n.h,t),Rv(t,r,e)}function jv(n,e){n.ia&&Ff(n.ia,function(t,r){ar(e,r,t)}),n.l&&UE({},function(t,r){ar(e,r,t)})}function V1(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Oi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let g=0;g<t;g++){let v=i[g].h;const E=i[g].g;if(v-=a,0>v)a=Math.max(0,i[g].h-100),h=!1;else try{Mt(E,u,"req"+v+"_")}catch{r&&r(E)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function U1(n){n.g||n.u||(n.Z=1,ug(n.Ia,n),n.A=0)}function dM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=xd(Oi(n.Ia,n),$1(n,n.A)),n.A++,0))}function hM(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function H1(n){n.g=new mg(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=nl(n.sa);ar(e,"RID","rpc"),ar(e,"SID",n.I),ar(e,"CI",n.L?"0":"1"),ar(e,"AID",n.T),ar(e,"TYPE","xmlhttp"),jv(n,e),n.o&&n.s&&cM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Fv(nl(e)),t.s=null,t.P=!0,LE(t,n)}function GE(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function j1(n,e){var t=null;if(n.g==e){GE(n),hM(n),n.g=null;var r=2}else{if(!W(n.h,e))return;t=e.D,Ee(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ti(r=Tv(),new OE(r,t)),$E(n)}else U1(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function pH(n,e){return!(L(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=xd(Oi(n.Ja,n,e),$1(n,n.C)),n.C++,0)))}(n,e)||2==r&&dM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:zf(n,5);break;case 4:zf(n,10);break;case 3:zf(n,6);break;default:zf(n,2)}}function $1(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function zf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Oi(n.kb,n);t||(t=new tu("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||yg(t,"https"),Fv(t)),function Pe(n,e){const t=new Sv;if($t.Image){const r=new Image;r.onload=pv(xt,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pv(xt,t,r,"TestLoadImage: error",!1,e),r.onabort=pv(xt,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pv(xt,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ni(2);n.G=0,n.l&&n.l.va(e),G1(n),L1(n)}function G1(n){if(n.G=0,n.la=[],n.l){const e=je(n.h);(0!=e.length||0!=n.i.length)&&(mv(n.la,e),mv(n.la,n.i),n.h.i.length=0,mE(n.i),n.i.length=0),n.l.ua()}}function z1(n,e,t){var r=t instanceof tu?nl(t):new tu(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Nv(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new tu(null,void 0);r&&yg(a,r),e&&(a.g=e),i&&Nv(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&ar(r,t,e),ar(r,"VER",n.ma),jv(n,r),r}function q1(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yn(t&&n.Da&&!n.ra?new un({jb:!0}):n.ra)).Ka(n.H),e}function Z1(){}function zE(){if(Dd&&!(10<=Number(b1)))throw Error("Environmental error: no available transport.")}function po(n,e){Wr.call(this),this.g=new F1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Of(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Of(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cg(this)}function W1(n){Hf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Y1(){Rd.call(this),this.status=1}function Cg(n){this.g=n}(vt=Yn.prototype).Ka=function(n){this.L=n},vt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():NE.g(),this.C=function pg(n){return n.h||(n.h=n.i())}(this.u?this.u:NE),this.g.onreadystatechange=Oi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void x1(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=kf(Vv,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{O1(this),0<this.B&&((this.K=function Uv(n){return Dd&&function YA(){return function _1(n){var e=v1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=qA(String(gv)).split("."),t=qA("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Pf(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Pf(0==i[2].length,0==a[2].length)||Pf(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oi(this.qa,this)):this.A=fg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){x1(this,a)}},vt.qa=function(){typeof Ym<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ti(this,"complete"),ti(this,"abort"),HE(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),HE(this,!0)),Yn.X.M.call(this)},vt.Ha=function(){this.s||(this.F||this.v||this.l?k1(this):this.fb())},vt.fb=function(){k1(this)},vt.aa=function(){try{return 2<iu(this)?this.g.status:-1}catch{return-1}},vt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lv(e)}},vt.Ea=function(){return this.m},vt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=F1.prototype).ma=8,vt.G=1,vt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new mg(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=vE(a),tg(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=V1(this,i,e),ar(t=nl(this.F),"RID",n),ar(t,"CVER",22),this.D&&ar(t,"X-HTTP-Session-Id",this.D),jv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(N1(a)))+"&"+e:this.o&&cM(t,this.o,a)),ne(this.h,i),this.Ya&&ar(t,"TYPE","init"),this.O?(ar(t,"$req",e),ar(t,"SID","null"),i.Z=!0,Rv(i,t,null)):Rv(i,t,e),this.G=2}}else 3==this.G&&(n?B1(this,n):0==this.i.length||k(this.h)||B1(this))},vt.Ia=function(){if(this.u=null,H1(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=xd(Oi(this.eb,this),n)}},vt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ni(10),jE(this),H1(this))},vt.cb=function(){null!=this.v&&(this.v=null,jE(this),dM(this),Ni(19))},vt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ni(2)):(this.j.info("Failed to ping google.com"),Ni(1))},(vt=Z1.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Ra=function(){},zE.prototype.g=function(n,e){return new po(n,e)},yi(po,Wr),po.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ni(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=z1(n,null,n.V),$E(n)},po.prototype.close=function(){uM(this.g)},po.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=cg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&$E(e)},po.prototype.M=function(){this.g.l=null,delete this.j,uM(this.g),delete this.g,po.X.M.call(this)},yi(W1,Hf),yi(Y1,Rd),yi(Cg,Z1),Cg.prototype.xa=function(){ti(this.g,"a")},Cg.prototype.wa=function(n){ti(this.g,new W1(n))},Cg.prototype.va=function(n){ti(this.g,new Y1)},Cg.prototype.ua=function(){ti(this.g,"b")},zE.prototype.createWebChannel=zE.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Av.COMPLETE="complete",PE.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,Yn.prototype.listenOnce=Yn.prototype.O,Yn.prototype.getLastError=Yn.prototype.Oa,Yn.prototype.getLastErrorCode=Yn.prototype.Ea,Yn.prototype.getStatus=Yn.prototype.aa,Yn.prototype.getResponseJson=Yn.prototype.Sa,Yn.prototype.getResponseText=Yn.prototype.fa,Yn.prototype.send=Yn.prototype.da,Yn.prototype.setWithCredentials=Yn.prototype.Ka;var mH=Ja.createWebChannelTransport=function(){return new zE},gH=Ja.getStatEventTarget=function(){return Tv()},fM=Ja.ErrorCode=sa,_H=Ja.EventType=Av,yH=Ja.Event=Md,K1=Ja.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vH=Ja.FetchXmlHttpFactory=un,qE=Ja.WebChannel=PE,bH=Ja.XhrIo=Yn;const Q1="@firebase/firestore";class vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");let Eg="9.14.0";const Od=new zl.Yd("@firebase/firestore");function pM(){return Od.logLevel}function He(n,...e){if(Od.logLevel<=zl.in.DEBUG){const t=e.map(mM);Od.debug(`Firestore (${Eg}): ${n}`,...t)}}function Vr(n,...e){if(Od.logLevel<=zl.in.ERROR){const t=e.map(mM);Od.error(`Firestore (${Eg}): ${n}`,...t)}}function qf(n,...e){if(Od.logLevel<=zl.in.WARN){const t=e.map(mM);Od.warn(`Firestore (${Eg}): ${n}`,...t)}}function mM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${Eg}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function Bt(n,e){n||ft()}function tt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class X1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class DH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IH{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ni,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,we.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},g=v=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ni)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new X1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new vi(e)}}class SH{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class TH{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new SH(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AH{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,He("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.A=t.token,new J1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function MH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MH(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function Dg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function tN(n){return n+"\0"}class dr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dr.fromMillis(Date.now())}static fromDate(e){return dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new dr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new dr(0,0))}static max(){return new Vt(new dr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $v{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$v.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $v?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends $v{construct(e,t,r){return new _n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends $v{construct(e,t,r){return new Tr(e,t,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(_n.fromString(e))}static fromName(e){return new Ye(_n.fromString(e).popFirst(5))}static empty(){return new Ye(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new _n(e.slice()))}}class ZE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function gM(n){return n.fields.find(e=>2===e.kind)}function Zf(n){return n.fields.filter(e=>2!==e.kind)}ZE.UNKNOWN_ID=-1;class WE{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gv(0,mo.min())}}function nN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(1e9===r?new dr(t+1,0):new dr(t,r));return new mo(i,Ye.empty(),e)}function rN(n){return new mo(n.readTime,n.key,-1)}class mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mo(Vt.min(),Ye.empty(),-1)}static max(){return new mo(Vt.max(),Ye.empty(),-1)}}function _M(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Pd(n){return yM.apply(this,arguments)}function yM(){return yM=(0,we.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==iN)throw n;He("LocalStore","Unexpectedly lost primary lease")}),yM.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,a=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++a,u&&a===i&&t()},g=>r(g))}),u=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(E=>{u[v]=E,++h,h===a&&r(u)},E=>i(E))}})}static doWhile(e,t){return new he((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class YE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ni,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zv(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=vM(r.target.error);this.P.reject(new zv(e,i))}}static open(e,t,r,i){try{return new YE(t,e.transaction(i,r))}catch(a){throw new zv(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new PH(t)}}class il{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===il.D((0,Zt.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),Wf(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Zt.hl)())return!1;if(il.N())return!0;const e=(0,Zt.z$)(),t=il.D(e),r=0<t&&t<10,i=il.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,we.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new zv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new zv(e,h))},a.onupgradeneeded=u=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const g=YE.open(a.db,e,u?"readonly":"readwrite",r),v=i(g).next(E=>(g.V(),E)).catch(E=>(g.abort(E),he.reject(E))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,E="FirebaseError"!==v.name&&h<3;if(He("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),a.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OH{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Wf(this.U.delete())}}class zv extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Nd(n){return"IndexedDbTransactionError"===n.name}class PH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wf(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),Wf(this.store.add(e))}get(e){return Wf(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),Wf(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),Wf(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new he((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=a=>{const u=vM(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new he((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const g=new OH(h),v=t(h.primaryKey,h.value,g);if(v instanceof he){const E=v.catch(T=>(g.done(),he.reject(T)));r.push(E)}g.isDone?i():null===g.G?h.continue():h.continue(g.G)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wf(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vM(r.target.error);t(i)}})}let oN=!1;function vM(n){const e=il.D((0,Zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oN||(oN=!0,setTimeout(()=>{throw r},0)),r}}return n}class NH{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Nd(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Pd(r)}yield t.nt(6e4)}))}}class FH{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return he.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return He("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(h=>(He("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=rN(a);_M(u,r)>0&&(r=u)}),new mo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function aN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Vs.at=-1;class Ar{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new Ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new Ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new KE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new KE(this.root,e,this.comparator,!1)}getReverseIterator(){return new KE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new KE(this.root,e,this.comparator,!0)}}class KE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Fi.RED,this.left=i??Fi.EMPTY,this.right=a??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Fi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Fi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Fi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cN(this.data.getIterator())}getIteratorFrom(e){return new cN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ln(this.comparator);return t.data=e,t}}class cN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ig(n){return n.hasNext()?n.getNext():void 0}class go{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new go([])}unionWith(e){let t=new Ln(Tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const BH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fd(n){if(Bt(!!n),"string"==typeof n){let e=0;const t=BH.exec(n);if(Bt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(n.seconds),nanos:Mr(n.nanos)}}function Mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kf(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function bM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uN(n){const e=n.mapValue.fields.__previous_value__;return bM(e)?uN(e):e}function qv(n){const e=Fd(n.mapValue.fields.__local_write_time__.timestampValue);return new dr(e.seconds,e.nanos)}class VH{constructor(e,t,r,i,a,u,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}function Zv(n){return null==n}function Wv(n){return 0===n&&1/n==-1/0}function dN(n){return"number"==typeof n&&Number.isInteger(n)&&!Wv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},QE={nullValue:"NULL_VALUE"};function Qf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bM(n)?4:mN(n)?9007199254740991:10:ft()}function ql(n,e){if(n===e)return!0;const t=Qf(n);if(t!==Qf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qv(n).isEqual(qv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Fd(r.timestampValue),u=Fd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Kf(n.bytesValue).isEqual(Kf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Mr(r.geoPointValue.latitude)===Mr(i.geoPointValue.latitude)&&Mr(r.geoPointValue.longitude)===Mr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mr(r.integerValue)===Mr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Mr(r.doubleValue),u=Mr(i.doubleValue);return a===u?Wv(a)===Wv(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Dg(n.arrayValue.values||[],e.arrayValue.values||[],ql);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(aN(a)!==aN(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!ql(a[h],u[h])))return!1;return!0}(n,e);default:return ft()}var i}function Yv(n,e){return void 0!==(n.values||[]).find(t=>ql(t,e))}function Vd(n,e){if(n===e)return 0;const t=Qf(n),r=Qf(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Mr(i.integerValue||i.doubleValue),h=Mr(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return hN(n.timestampValue,e.timestampValue);case 4:return hN(qv(n),qv(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Kf(i),h=Kf(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),h=a.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Wt(u[g],h[g]);if(0!==v)return v}return Wt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Wt(Mr(i.latitude),Mr(a.latitude));return 0!==u?u:Wt(Mr(i.longitude),Mr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],h=a.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=Vd(u[g],h[g]);if(v)return v}return Wt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Bd.mapValue&&a===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(a===Bd.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),g=a.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let E=0;E<h.length&&E<v.length;++E){const T=Wt(h[E],v[E]);if(0!==T)return T;const P=Vd(u[h[E]],g[v[E]]);if(0!==P)return P}return Wt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw ft()}}function hN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Fd(n),r=Fd(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function Sg(n){return wM(n)}function wM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Fd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kf(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=wM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${wM(r.fields[h])}`;return a+"}"}(n.mapValue):ft();var e}function Xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CM(n){return!!n&&"integerValue"in n}function Kv(n){return!!n&&"arrayValue"in n}function fN(n){return!!n&&"nullValue"in n}function pN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function XE(n){return!!n&&"mapValue"in n}function Qv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UH(n){return"nullValue"in n?QE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xf(Ld.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function HH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xf(Ld.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bd:ft()}function gN(n,e){const t=Vd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _N(n,e){const t=Vd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Li{constructor(e){this.value=e}static empty(){return new Li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!XE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qv(t)}setAll(e){let t=Tr.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Qv(u):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());XE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ql(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];XE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Yf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Li(Qv(this.value))}}function yN(n){const e=[];return Yf(n.fields,(t,r)=>{const i=new Tr([t]);if(XE(r)){const a=yN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new go(e)}class Kn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,Vt.min(),Vt.min(),Li.empty(),0)}static newFoundDocument(e,t,r){return new Kn(e,1,t,Vt.min(),r,0)}static newNoDocument(e,t){return new Kn(e,2,t,Vt.min(),Li.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Vt.min(),Li.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jH{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function vN(n,e=null,t=[],r=[],i=null,a=null,u=null){return new jH(n,e,t,r,i,a,u)}function Jf(n){const e=tt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Sg(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sg(r)).join(",")),e.ht=t}return e.ht}function Xv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!QH(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ql(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DN(n.startAt,e.startAt)&&DN(n.endAt,e.endAt)}function JE(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function eD(n,e){return n.filters.filter(t=>t instanceof Bi&&t.field.isEqual(e))}function bN(n,e,t){let r=QE,i=!0;for(const a of eD(n,e)){let u=QE,h=!0;switch(a.op){case"<":case"<=":u=UH(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=QE}gN({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];gN({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function wN(n,e,t){let r=Bd,i=!0;for(const a of eD(n,e)){let u=Bd,h=!0;switch(a.op){case">=":case">":u=HH(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Bd}_N({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];_N({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Bi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new GH(e,t,r):"array-contains"===t?new ZH(e,r):"in"===t?new WH(e,r):"not-in"===t?new YH(e,r):"array-contains-any"===t?new KH(e,r):new Bi(e,t,r)}static lt(e,t,r){return"in"===t?new zH(e,r):new qH(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Vd(t,this.value)):null!==t&&Qf(this.value)===Qf(t)&&this.ft(Vd(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GH extends Bi{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.ft(t)}}class zH extends Bi{constructor(e,t){super(e,"in",t),this.keys=CN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qH extends Bi{constructor(e,t){super(e,"not-in",t),this.keys=CN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class ZH extends Bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kv(t)&&Yv(t.arrayValue,this.value)}}class WH extends Bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yv(this.value.arrayValue,t)}}class YH extends Bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yv(this.value.arrayValue,t)}}class KH extends Bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yv(this.value.arrayValue,r))}}class Ud{constructor(e,t){this.position=e,this.inclusive=t}}class Tg{constructor(e,t="asc"){this.field=e,this.dir=t}}function QH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function EN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ye.comparator(Ye.fromName(u.referenceValue),t.key):Vd(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function DN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ql(n.position[t],e.position[t]))return!1;return!0}class su{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=g,this._t=null,this.wt=null}}function IN(n,e,t,r,i,a,u,h){return new su(n,e,t,r,i,a,u,h)}function Ag(n){return new su(n)}function SN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function EM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function DM(n){for(const e of n.filters)if(e.dt())return e.field;return null}function IM(n){return null!==n.collectionGroup}function Mg(n){const e=tt(n);if(null===e._t){e._t=[];const t=DM(e),r=EM(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Tg(t)),e._t.push(new Tg(Tr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Tg(Tr.keyField(),a))}}}return e._t}function _s(n){const e=tt(n);if(!e.wt)if("F"===e.limitType)e.wt=vN(e.path,e.collectionGroup,Mg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Mg(e))t.push(new Tg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ud(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ud(e.startAt.position,e.startAt.inclusive):null;e.wt=vN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function tD(n,e,t){return new su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jv(n,e){return Xv(_s(n),_s(e))&&n.limitType===e.limitType}function TN(n){return`${Jf(_s(n))}|lt:${n.limitType}`}function SM(n){return`Query(target=${function $H(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sg(r.value)}`;var r}).join(", ")}]`),Zv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sg(t)).join(",")),`Target(${e})`}(_s(n))}; limitType=${n.limitType})`}function TM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const h=EN(i,a,u);return i.inclusive?h<=0:h<0}(t.startAt,Mg(t),r)||t.endAt&&!function(i,a,u){const h=EN(i,a,u);return i.inclusive?h>=0:h>0}(t.endAt,Mg(t),r)));var t,r}function AN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MN(n){return(e,t)=>{let r=!1;for(const i of Mg(n)){const a=XH(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function XH(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,a,u){const h=a.data.field(i),g=u.data.field(i);return null!==h&&null!==g?Vd(h,g):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}function xN(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wv(e)?"-0":e}}function RN(n){return{integerValue:""+n}}function kN(n,e){return dN(e)?RN(e):xN(n,e)}class nD{constructor(){this._=void 0}}function JH(n,e,t){return n instanceof xg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ep?PN(n,e):n instanceof tp?NN(n,e):function(r,i){const a=ON(r,i),u=FN(a)+FN(r.yt);return CM(a)&&CM(r.yt)?RN(u):xN(r.It,u)}(n,e)}function ej(n,e,t){return n instanceof ep?PN(n,e):n instanceof tp?NN(n,e):t}function ON(n,e){return n instanceof Rg?CM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class xg extends nD{}class ep extends nD{constructor(e){super(),this.elements=e}}function PN(n,e){const t=LN(e);for(const r of n.elements)t.some(i=>ql(i,r))||t.push(r);return{arrayValue:{values:t}}}class tp extends nD{constructor(e){super(),this.elements=e}}function NN(n,e){let t=LN(e);for(const r of n.elements)t=t.filter(i=>!ql(i,r));return{arrayValue:{values:t}}}class Rg extends nD{constructor(e,t){super(),this.It=e,this.yt=t}}function FN(n){return Mr(n.integerValue||n.doubleValue)}function LN(n){return Kv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eb{constructor(e,t){this.field=e,this.transform=t}}class nj{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iD{}function BN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Og(n.key,hr.none()):new kg(n.key,n.data,hr.none());{const t=n.data,r=Li.empty();let i=new Ln(Tr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new ou(n.key,r,new go(i.toArray()),hr.none())}}function rj(n,e,t){n instanceof kg?function(r,i,a){const u=r.value.clone(),h=HN(r.fieldTransforms,i,a.transformResults);u.setAll(h),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ou?function(r,i,a){if(!rD(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=HN(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(UN(r)),h.setAll(u),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tb(n,e,t,r){return n instanceof kg?function(i,a,u,h){if(!rD(i.precondition,a))return u;const g=i.value.clone(),v=jN(i.fieldTransforms,h,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof ou?function(i,a,u,h){if(!rD(i.precondition,a))return u;const g=jN(i.fieldTransforms,h,a),v=a.data;return v.setAll(UN(i)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(u=t,rD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function ij(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ON(r.transform,i||null);null!=a&&(null===t&&(t=Li.empty()),t.set(r.field,a))}return t||null}function VN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Dg(t,r,(i,a)=>function tj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ep&&r instanceof ep||t instanceof tp&&r instanceof tp?Dg(t.elements,r.elements,ql):t instanceof Rg&&r instanceof Rg?ql(t.yt,r.yt):t instanceof xg&&r instanceof xg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kg extends iD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ou extends iD{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function HN(n,e,t){const r=new Map;Bt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,ej(u,h,t[i]))}return r}function jN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,JH(a,u,e))}return r}class Og extends iD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends iD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sj{constructor(e){this.count=e}}var Yr,yn;function $N(n){switch(n){default:return ft();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function GN(n){if(void 0===n)return Vr("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Yr.OK:return _e.OK;case Yr.CANCELLED:return _e.CANCELLED;case Yr.UNKNOWN:return _e.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return _e.INTERNAL;case Yr.UNAVAILABLE:return _e.UNAVAILABLE;case Yr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Yr.NOT_FOUND:return _e.NOT_FOUND;case Yr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Yr.ABORTED:return _e.ABORTED;case Yr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Yr.DATA_LOSS:return _e.DATA_LOSS;default:return ft()}}(yn=Yr||(Yr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Hd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return lN(this.inner)}size(){return this.innerSize}}const oj=new Ar(Ye.comparator);function Us(){return oj}const zN=new Ar(Ye.comparator);function nb(...n){let e=zN;for(const t of n)e=e.insert(t.key,t);return e}function qN(n){let e=zN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zl(){return rb()}function ZN(){return rb()}function rb(){return new Hd(n=>n.toString(),(n,e)=>n.isEqual(e))}const aj=new Ar(Ye.comparator),lj=new Ln(Ye.comparator);function Jt(...n){let e=lj;for(const t of n)e=e.add(t);return e}const cj=new Ln(Wt);function sD(){return cj}class ib{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,sb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ib(Vt.min(),i,sD(),Us(),Jt())}}class sb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sb(r,t,Jt(),Jt(),Jt())}}class oD{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class WN{constructor(e,t){this.targetId=e,this.At=t}}class YN{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class KN{constructor(){this.Rt=0,this.bt=XN(),this.Pt=ri.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Jt(),t=Jt(),r=Jt();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new sb(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=XN()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class uj{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Us(),this.qt=QN(),this.Kt=new Ln(Wt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(JE(a))if(0===r){const u=new Ye(a.path);this.jt(t,u,Kn.newNoDocument(u,Vt.min()))}else Bt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&JE(h.target)){const g=new Ye(h.target.path);null!==this.Ut.get(g)||this.ee(u,g)||this.jt(u,g,Kn.newNoDocument(g,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=Jt();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new ib(e,t,this.Kt,this.Ut,r);return this.Ut=Us(),this.qt=QN(),this.Kt=new Ln(Wt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new KN,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ln(Wt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new KN),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function QN(){return new Ar(Ye.comparator)}function XN(){return new Ar(Ye.comparator)}const dj={asc:"ASCENDING",desc:"DESCENDING"},hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class fj{constructor(e,t){this.databaseId=e,this.gt=t}}function ob(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(n,e){return n.gt?e.toBase64():e.toUint8Array()}function pj(n,e){return ob(n,e.toTimestamp())}function bi(n){return Bt(!!n),Vt.fromTimestamp(function(e){const t=Fd(e);return new dr(t.seconds,t.nanos)}(n))}function MM(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eF(n){const e=_n.fromString(n);return Bt(lF(e)),e}function ab(n,e){return MM(n.databaseId,e.path)}function Wl(n,e){const t=eF(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(nF(t))}function xM(n,e){return MM(n.databaseId,e)}function tF(n){const e=eF(n);return 4===e.length?_n.emptyPath():nF(e)}function lb(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nF(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rF(n,e,t){return{name:ab(n,e),fields:t.value.mapValue.fields}}function iF(n,e,t){const r=Wl(n,e.name),i=bi(e.updateTime),a=new Li({mapValue:{fields:e.fields}}),u=Kn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function cb(n,e){let t;if(e instanceof kg)t={update:rF(n,e.key,e.value)};else if(e instanceof Og)t={delete:ab(n,e.key)};else if(e instanceof ou)t={update:rF(n,e.key,e.data),updateMask:Ej(e.fieldMask)};else{if(!(e instanceof AM))return ft();t={verify:ab(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof xg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ep)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof tp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rg)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function RM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?hr.updateTime(bi(i.updateTime)):void 0!==i.exists?hr.exists(i.exists):hr.none():hr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let h=null;"setToServerValue"in u?(Bt("REQUEST_TIME"===u.setToServerValue),h=new xg):"appendMissingElements"in u?h=new ep(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new tp(u.removeAllFromArray.values||[]):"increment"in u?h=new Rg(a,u.increment):ft();const g=Tr.fromServerFormat(u.fieldPath);return new eb(g,h)}(n,i)):[];var i;if(e.update){const i=Wl(n,e.update.name),a=new Li({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new go((e.updateMask.fieldPaths||[]).map(v=>Tr.fromServerFormat(v)));return new ou(i,a,u,t,r)}return new kg(i,a,t,r)}if(e.delete){const i=Wl(n,e.delete);return new Og(i,t)}if(e.verify){const i=Wl(n,e.verify);return new AM(i,t)}return ft()}function sF(n,e){return{documents:[xM(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=xM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const v=g.map(E=>function(T){if("=="===T.op){if(pN(T.value))return{unaryFilter:{field:Pg(T.field),op:"IS_NAN"}};if(fN(T.value))return{unaryFilter:{field:Pg(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(pN(T.value))return{unaryFilter:{field:Pg(T.field),op:"IS_NOT_NAN"}};if(fN(T.value))return{unaryFilter:{field:Pg(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pg(T.field),op:bj(T.op),value:T.value}}}(E));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:Pg((E=v).field),direction:vj(E.dir)};var E})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.gt||Zv(v)?v:{value:v});var v,h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function oF(n){let e=tF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Bt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=aF(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(E=>{return new Tg(Ng((T=E).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(E){let T;return T="object"==typeof E?E.value:E,Zv(T)?null:T}(t.limit));let g=null;var E;t.startAt&&(g=new Ud((E=t.startAt).values||[],!!E.before));let v=null;return t.endAt&&(v=function(E){return new Ud(E.values||[],!E.before)}(t.endAt)),IN(e,i,u,a,h,"F",g,v)}function aF(n){return n?void 0!==n.unaryFilter?[Cj(n)]:void 0!==n.fieldFilter?[wj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>aF(e)).reduce((e,t)=>e.concat(t)):ft():[]}function vj(n){return dj[n]}function bj(n){return hj[n]}function Pg(n){return{fieldPath:n.canonicalString()}}function Ng(n){return Tr.fromServerFormat(n.fieldPath)}function wj(n){return Bi.create(Ng(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function Cj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ng(n.unaryFilter.field);return Bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ng(n.unaryFilter.field);return Bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ng(n.unaryFilter.field);return Bi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ng(n.unaryFilter.field);return Bi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function Ej(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ys(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cF(e)),e=Dj(n.get(t),e);return cF(e)}function Dj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function cF(n){return n+"\x01\x01"}function Yl(n){const e=n.length;if(Bt(e>=2),2===e)return Bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ft(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let g;0===i.length?g=h:(i+=h,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:ft()}a=u+2}return new _n(r)}const uF=["userId","batchId"];function aD(n,e){return[n,ys(e)]}function dF(n,e,t){return[n,ys(e),t]}const Ij={},Sj=["prefixPath","collectionGroup","readTime","documentId"],Tj=["prefixPath","collectionGroup","documentId"],Aj=["collectionGroup","readTime","prefixPath","documentId"],Mj=["canonicalId","targetId"],xj=["targetId","path"],Rj=["path","targetId"],kj=["collectionId","parent"],Oj=["indexId","uid"],Pj=["uid","sequenceNumber"],Nj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fj=["indexId","uid","orderedDocumentKey"],Lj=["userId","collectionPath","documentId"],Bj=["userId","collectionPath","largestBatchId"],Vj=["userId","collectionGroup","largestBatchId"],hF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uj=[...hF,"documentOverlays"],fF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pF=fF,Hj=[...pF,"indexConfiguration","indexState","indexEntries"];class OM extends sN{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function wi(n,e){const t=tt(n);return il.M(t.ie,e)}class PM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZN();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const g=BN(u,h);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Dg(this.mutations,e.mutations,(t,r)=>VN(t,r))&&Dg(this.baseMutations,e.baseMutations,(t,r)=>VN(t,r))}}class NM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Bt(e.mutations.length===r.length);let i=aj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new NM(e,t,r,i)}}class FM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jd{constructor(e,t,r,i,a=Vt.min(),u=Vt.min(),h=ri.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mF{constructor(e){this.re=e}}function gF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ab(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ob(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:np(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:np(e.version)}}var i,a;return r}function lD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function np(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rp(n){const e=new dr(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function ip(n,e){const t=(e.baseMutations||[]).map(a=>RM(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>RM(n.re,a)),i=dr.fromMillis(e.localWriteTimeMs);return new PM(e.batchId,i,t,r)}function ub(n){const e=rp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?rp(n.lastLimboFreeSnapshotVersion):Vt.min();let r;var i;return void 0!==n.query.documents?(Bt(1===(i=n.query).documents.length),r=_s(Ag(tF(i.documents[0])))):r=_s(oF(n.query)),new jd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ri.fromBase64String(n.resumeToken))}function _F(n,e){const t=np(e.snapshotVersion),r=np(e.lastLimboFreeSnapshotVersion);let i;i=JE(e.target)?sF(n.re,e.target):kM(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LM(n){const e=oF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tD(e,e.limit,"L"):e}function BM(n,e){return new FM(e.largestBatchId,RM(n.re,e.overlayMutation))}function yF(n,e){const t=e.path.lastSegment();return[n,ys(e.path.popLast()),t]}function vF(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:np(r.readTime),documentKey:ys(r.documentKey.path),largestBatchId:r.largestBatchId}}class $j{getBundleMetadata(e,t){return bF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:rp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return bF(e).put({bundleId:(r=t).id,createTime:np(bi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:LM(i.bundledQuery),readTime:rp(i.readTime)};var i})}saveNamedQuery(e,t){return wF(e).put({name:(r=t).name,readTime:np(bi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function bF(n){return wi(n,"bundles")}function wF(n){return wi(n,"namedQueries")}class cD{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new cD(e,t.uid||"")}getOverlay(e,t){return db(e).get(yF(this.userId,t)).next(r=>r?BM(this.It,r):null)}getOverlays(e,t){const r=Zl();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const h=new FM(t,u);i.push(this.ue(e,h))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(ys(u.getCollectionPath())));const a=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(db(e).Y("collectionPathOverlayIndex",h))}),he.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Zl(),a=ys(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return db(e).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=BM(this.It,g);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Zl();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return db(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,E)=>{const T=BM(this.It,v);a.size()<i||T.largestBatchId===u?(a.set(T.getKey(),T),u=T.largestBatchId):E.done()}).next(()=>a)}ue(e,t){return db(e).put(function(r,i,a){const[u,h,g]=yF(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:cb(r.re,a.mutation)}}(this.It,this.userId,t))}}function db(n){return wi(n,"documentOverlays")}class sp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Mr(e.integerValue));else if("doubleValue"in e){const r=Mr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Wv(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Kf(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?mN(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ft()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ye.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Gj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function CF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Gj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}sp.Te=new sp;class zj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=CF(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=CF(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class qj{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Zj{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class hb{constructor(){this.Be=new zj,this.Le=new qj(this.Be),this.Ue=new Zj(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class op{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new op(this.indexId,this.documentKey,this.arrayValue,r)}}function ap(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=EF(n.arrayValue,e.arrayValue),0!==t?t:(t=EF(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function EF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Wj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=gM(e);if(void 0!==t&&!this.ze(t))return!1;const r=Zf(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Yj{constructor(){this.Ye=new VM}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(mo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class VM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ln(_n.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(_n.comparator)).toArray()}}const uD=new Uint8Array(0);class Kj{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new VM,this.Ze=new Hd(r=>Jf(r),(r,i)=>Xv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:ys(i)};return DF(e).put(a)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[tN(t),""],!1,!0);return DF(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Yl(u.parent))}return r})}addFieldIndex(e,t){const r=dD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=pb(e);return a.next(h=>{u.put(vF(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=dD(e),i=pb(e),a=fb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=fb(e);let i=!0;const a=new Map;return he.forEach(this.tn(t),u=>this.en(e,u).next(h=>{i&&(i=!!h),a.set(u,h)})).next(()=>{if(i){let u=Jt();const h=[];return he.forEach(a,(g,v)=>{var E;He("IndexedDbIndexManager",`Using index ${E=g,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${Jf(t)}`);const T=function(Je,We){const Et=gM(We);if(void 0===Et)return null;for(const At of eD(Je,Et.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(v,g),P=function(Je,We){const Et=new Map;for(const At of Zf(We))for(const on of eD(Je,At.fieldPath))switch(on.op){case"==":case"in":Et.set(At.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return Et.set(At.fieldPath.canonicalString(),on.value),Array.from(Et.values())}return null}(v,g),V=function(Je,We){const Et=[];let At=!0;for(const on of Zf(We)){const Hr=0===on.kind?bN(Je,on.fieldPath,Je.startAt):wN(Je,on.fieldPath,Je.startAt);Et.push(Hr.value),At&&(At=Hr.inclusive)}return new Ud(Et,At)}(v,g),G=function(Je,We){const Et=[];let At=!0;for(const on of Zf(We)){const Hr=0===on.kind?wN(Je,on.fieldPath,Je.endAt):bN(Je,on.fieldPath,Je.endAt);Et.push(Hr.value),At&&(At=Hr.inclusive)}return new Ud(Et,At)}(v,g),Q=this.nn(g,v,V),ie=this.nn(g,v,G),$e=this.sn(g,v,P),Xe=this.rn(g.indexId,T,Q,V.inclusive,ie,G.inclusive,$e);return he.forEach(Xe,Je=>r.J(Je,t.limit).next(We=>{We.forEach(Et=>{const At=Ye.fromSegments(Et.documentKey);u.has(At)||(u=u.add(At),h.push(At))})}))}).next(()=>h)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,h){const g=(null!=t?t.length:1)*Math.max(r.length,a.length),v=g/(null!=t?t.length:1),E=[];for(let T=0;T<g;++T){const P=t?this.on(t[T/v]):uD,V=this.un(e,P,r[T%v],i),G=this.cn(e,P,a[T%v],u),Q=h.map(ie=>this.un(e,P,ie,!0));E.push(...this.createRange(V,G,Q))}return E}un(e,t,r,i){const a=new op(e,Ye.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new op(e,Ye.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new Wj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const h of a)r.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;return he.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let h=new Ln(Tr.comparator),g=!1;for(const v of u.filters){const E=v;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?g=!0:h=h.add(E.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new hb;for(const i of Zf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);sp.Te.ce(a,u)}return r.$e()}on(e){const t=new hb;return sp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new hb;return sp.Te.ce(Xf(this.databaseId,t),r.qe(function(i){const a=Zf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new hb);let a=0;for(const u of Zf(e)){const h=r[a++];for(const g of i)if(this.ln(t,u.fieldPath)&&Kv(h))i=this.fn(i,u,h);else{const v=g.qe(u.kind);sp.Te.ce(h,v)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of i){const g=new hb;g.seed(h.$e()),sp.Te.ce(u,g.qe(t.kind)),a.push(g)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Bi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=dD(e),i=pb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return he.forEach(a,h=>i.get([h.indexId,this.uid]).next(g=>{u.push(function(v,E){const T=E?new Gv(E.sequenceNumber,new mo(rp(E.readTime),new Ye(Yl(E.documentKey)),E.largestBatchId)):Gv.empty(),P=v.fields.map(([V,G])=>new WE(Tr.fromServerFormat(V),G));return new ZE(v.indexId,v.collectionGroup,P,T)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=dD(e),a=pb(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>he.forEach(h,g=>a.put(vF(g.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?he.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),he.forEach(h,g=>this.wn(e,i,g).next(v=>{const E=this.mn(a,g);return v.isEqual(E)?he.resolve():this.gn(e,a,g,v,E)}))))})}yn(e,t,r,i){return fb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return fb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=fb(e);let a=new Ln(ap);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,h)=>{a=a.add(new op(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let r=new Ln(ap);const i=this.an(t,e);if(null==i)return r;const a=gM(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Kv(u))for(const h of u.arrayValue.values||[])r=r.add(new op(t.indexId,e.key,this.on(h),i))}else r=r.add(new op(t.indexId,e.key,uD,i));return r}gn(e,t,r,i,a){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,g,v,E,T){const P=h.getIterator(),V=g.getIterator();let G=Ig(P),Q=Ig(V);for(;G||Q;){let ie=!1,$e=!1;if(G&&Q){const Xe=v(G,Q);Xe<0?$e=!0:Xe>0&&(ie=!0)}else null!=G?$e=!0:ie=!0;ie?(E(Q),Q=Ig(V)):$e?(T(G),G=Ig(P)):(G=Ig(P),Q=Ig(V))}}(i,a,ap,h=>{u.push(this.yn(e,t,r,h))},h=>{u.push(this.pn(e,t,r,h))}),he.waitFor(u)}_n(e){let t=1;return pb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>ap(u,h)).filter((u,h,g)=>!h||0!==ap(u,g[h-1]));const i=[];i.push(e);for(const u of r){const h=ap(u,e),g=ap(u,t);if(0===h)i[0]=e.Ke();else if(h>0&&g<0)i.push(u),i.push(u.Ke());else if(g>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,uD,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,uD,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(IF)}getMinOffset(e,t){return he.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||ft())).next(IF)}}function DF(n){return wi(n,"collectionParents")}function fb(n){return wi(n,"indexEntries")}function dD(n){return wi(n,"indexConfiguration")}function pb(n){return wi(n,"indexState")}function IF(n){Bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_M(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new mo(e.readTime,e.documentKey,t)}const SF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hs(e,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const g=r.Z({range:u},(E,T,P)=>(h++,P.delete()));a.push(g.next(()=>{Bt(1===h)}));const v=[];for(const E of t.mutations){const T=dF(e,E.key.path,t.batchId);a.push(i.delete(T)),v.push(E.key)}return he.waitFor(a).next(()=>v)}function hD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class fD{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Bt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new fD(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Fg(e),u=$d(e);return u.add({}).next(h=>{Bt("number"==typeof h);const g=new PM(h,t,r,i),v=function(P,V,G){const Q=G.baseMutations.map($e=>cb(P.re,$e)),ie=G.mutations.map($e=>cb(P.re,$e));return{userId:V,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:Q,mutations:ie}}(this.It,this.userId,g),E=[];let T=new Ln((P,V)=>Wt(P.canonicalString(),V.canonicalString()));for(const P of i){const V=dF(this.userId,P.key.path,h);T=T.add(P.key.path.popLast()),E.push(u.put(v)),E.push(a.put(V,Ij))}return T.forEach(P=>{E.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),he.waitFor(E).next(()=>g)})}lookupMutationBatch(e,t){return $d(e).get(t).next(r=>r?(Bt(r.userId===this.userId),ip(this.It,r)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return $d(e).Z({index:"userMutationsIndex",range:i},(u,h,g)=>{h.userId===this.userId&&(Bt(h.batchId>=r),a=ip(this.It,h)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $d(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $d(e).W("userMutationsIndex",t).next(r=>r.map(i=>ip(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=aD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Fg(e).Z({range:i},(u,h,g)=>{const[v,E,T]=u,P=Yl(E);if(v===this.userId&&t.path.isEqual(P))return $d(e).get(T).next(V=>{if(!V)throw ft();Bt(V.userId===this.userId),a.push(ip(this.It,V))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Wt);const i=[];return t.forEach(a=>{const u=aD(this.userId,a.path),h=IDBKeyRange.lowerBound(u),g=Fg(e).Z({range:h},(v,E,T)=>{const[P,V,G]=v,Q=Yl(V);P===this.userId&&a.path.isEqual(Q)?r=r.add(G):T.done()});i.push(g)}),he.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=aD(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new Ln(Wt);return Fg(e).Z({range:u},(g,v,E)=>{const[T,P,V]=g,G=Yl(P);T===this.userId&&r.isPrefixOf(G)?G.length===i&&(h=h.add(V)):E.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push($d(e).get(a).next(u=>{if(null===u)throw ft();Bt(u.userId===this.userId),r.push(ip(this.It,u))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TF(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Fg(e).Z({range:r},(a,u,h)=>{if(a[0]===this.userId){const g=Yl(a[1]);i.push(g)}else h.done()}).next(()=>{Bt(0===i.length)})})}containsKey(e,t){return AF(e,this.userId,t)}Rn(e){return MF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AF(n,e,t){const r=aD(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Fg(n).Z({range:a,X:!0},(h,g,v)=>{const[E,T,P]=h;E===e&&T===i&&(u=!0),v.done()}).next(()=>u)}function $d(n){return wi(n,"mutations")}function Fg(n){return wi(n,"documentMutations")}function MF(n){return wi(n,"mutationQueues")}class lp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lp(0)}static vn(){return new lp(-1)}}class Qj{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new lp(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Vt.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Lg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Lg(e).Z((u,h)=>{const g=ub(h);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>he.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Lg(e).Z((r,i)=>{const a=ub(i);t(a)})}Vn(e){return xF(e).get("targetGlobalKey").next(t=>(Bt(null!==t),t))}Sn(e,t){return xF(e).put("targetGlobalKey",t)}Dn(e,t){return Lg(e).put(_F(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Jf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Lg(e).Z({range:i,index:"queryTargetsIndex"},(u,h,g)=>{const v=ub(h);Xv(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Gd(e);return t.forEach(u=>{const h=ys(u.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=Gd(e);return he.forEach(t,a=>{const u=ys(a.path);return he.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Gd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Gd(e);let a=Jt();return i.Z({range:r,X:!0},(u,h,g)=>{const v=Yl(u[1]),E=new Ye(v);a=a.add(E)}).next(()=>a)}containsKey(e,t){const r=ys(t.path),i=IDBKeyRange.bound([r],[tN(r)],!1,!0);let a=0;return Gd(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],g,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}se(e,t){return Lg(e).get(t).next(r=>r?ub(r):null)}}function Lg(n){return wi(n,"targets")}function xF(n){return wi(n,"targetGlobal")}function Gd(n){return wi(n,"targetDocuments")}function RF([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class Xj{constructor(e){this.xn=e,this.buffer=new Ln(RF),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();RF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Nd(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Pd(r)}yield t.Fn(3e5)}))}}class e${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(Vs.at);const r=new Xj(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(SF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SF):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,h,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,u=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,h=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(v=Date.now(),pM()<=zl.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(g-h)+`ms\n\tRemoved ${T} documents in `+(v-g)+`ms\nTotal Duration: ${v-E}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:T})))}}class t${constructor(e,t){this.db=e,this.garbageCollector=new e$(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return pD(e,r)}removeReference(e,t,r){return pD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return pD(e,t)}Gn(e,t){return function(r,i){let a=!1;return MF(r).tt(u=>AF(r,u,i).next(h=>(h&&(a=!0),he.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,h)=>{if(h<=t){const g=this.Gn(e,u).next(v=>{if(!v)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Vt.min()),Gd(e).delete([0,ys(u.path)])))});i.push(g)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return pD(e,t)}Kn(e,t){const r=Gd(e);let i,a=Vs.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(a!==Vs.at&&t(new Ye(Yl(i)),a),a=v,i=g):a=Vs.at}).next(()=>{a!==Vs.at&&t(new Ye(Yl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pD(n,e){return Gd(n).put((r=n.currentSequenceNumber,{targetId:0,path:ys(e.path),sequenceNumber:r}));var r}class kF{constructor(){this.changes=new Hd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n${constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return cp(e).put(r)}removeEntry(e,t,r){return cp(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],lD(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Kn.newInvalidDocument(t);return cp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mb(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Kn.newInvalidDocument(t)};return cp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mb(t))},(i,a)=>{r={document:this.jn(t,a),size:hD(a)}}).next(()=>r)}getEntries(e,t){let r=Us();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=Us(),i=new Ar(Ye.comparator);return this.zn(e,t,(a,u)=>{const h=this.jn(a,u);r=r.insert(a,h),i=i.insert(a,hD(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return he.resolve();let i=new Ln(FF);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(mb(i.first()),mb(i.last())),u=i.getIterator();let h=u.getNext();return cp(e).Z({index:"documentKeyIndex",range:a},(g,v,E)=>{const T=Ye.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&FF(h,T)<0;)r(h,null),h=u.getNext();h&&h.isEqual(T)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?E.j(mb(h)):E.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),lD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cp(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let h=Us();for(const g of u){const v=this.jn(Ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let a=Us();const u=NF(t,r),h=NF(t,mo.max());return cp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,E)=>{const T=this.jn(Ye.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(T.key,T),a.size===i&&E.done()}).next(()=>a)}newChangeBuffer(e){return new r$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PF(e).get("remoteDocumentGlobalKey").next(t=>(Bt(!!t),t))}Qn(e,t){return PF(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function jj(n,e){let t;if(e.document)t=iF(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),i=rp(e.noDocument.readTime);t=Kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=Ye.fromSegments(e.unknownDocument.path),i=rp(e.unknownDocument.version);t=Kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new dr(r[0],r[1]);return Vt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Vt.min()))return r}return Kn.newInvalidDocument(e)}}function OF(n){return new n$(n)}class r$ extends kF{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Hd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ln((a,u)=>Wt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),u.isValidDocument()){const g=gF(this.Yn.It,u);i=i.add(a.path.popLast()),r+=hD(g)-h.size,t.push(this.Yn.addEntry(e,a,g))}else if(r-=h.size,this.trackRemovals){const g=gF(this.Yn.It,u.convertToNoDocument(Vt.min()));t.push(this.Yn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function PF(n){return wi(n,"remoteDocumentGlobal")}function cp(n){return wi(n,"remoteDocumentsV14")}function mb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NF(n,e){const t=e.documentKey.path.toArray();return[n,lD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Wt(t[a],r[a]),i)return i;return i=Wt(t.length,r.length),i||(i=Wt(t[t.length-2],r[r.length-2]),i||Wt(t[t.length-1],r[r.length-1]))}class i${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&tb(r.mutation,i,go.empty(),dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=Zl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=nb();return a.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Zl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let a=Us();const u=rb(),h=rb();return t.forEach((g,v)=>{const E=r.get(v.key);i.has(v.key)&&(void 0===E||E.mutation instanceof ou)?a=a.insert(v.key,v):void 0!==E&&(u.set(v.key,E.mutation.getFieldMask()),tb(E.mutation,v,E.mutation.getFieldMask(),dr.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,E)=>u.set(v,E)),t.forEach((v,E)=>{var T;return h.set(v,new i$(E,null!==(T=u.get(v))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const r=rb();let i=new Ar((u,h)=>u-h),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let E=r.get(g)||go.empty();E=h.applyToLocalView(v,E),r.set(g,E);const T=(i.get(h.batchId)||Jt()).add(g);i=i.insert(h.batchId,T)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,E=g.value,T=ZN();E.forEach(P=>{if(!a.has(P)){const V=BN(t.get(P),r.get(P));null!==V&&T.set(P,V),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,T))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):IM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):he.resolve(Zl());let h=-1,g=a;return u.next(v=>he.forEach(v,(E,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(E)?he.resolve():this.getBaseDocument(e,E,T).next(P=>{g=g.insert(E,P)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,Jt())).next(E=>({batchId:h,changes:qN(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let i=nb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=nb();return this.indexManager.getCollectionParents(e,i).next(u=>he.forEach(u,h=>{const g=(v=t,E=h.child(i),new su(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((E,T)=>{a=a.insert(E,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,g)=>{const v=g.getKey();null===i.get(v)&&(i=i.insert(v,Kn.newInvalidDocument(v)))});let u=nb();return i.forEach((h,g)=>{const v=a.get(h);void 0!==v&&tb(v.mutation,g,go.empty(),dr.now()),TM(t,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(Kn.newInvalidDocument(t))}}class s${constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:bi(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:LM(r.bundledQuery),readTime:bi(r.readTime)}),he.resolve();var r}}class o${constructor(){this.overlays=new Ar(Ye.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zl();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Zl(),a=t.length+1,u=new Ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ar((v,E)=>v-E);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let E=a.get(v.largestBatchId);null===E&&(E=Zl(),a=a.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const h=Zl(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>h.set(v,E)),!(h.size()>=i)););return he.resolve(h)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FM(t,r));let a=this.es.get(t);void 0===a&&(a=Jt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class UM{constructor(){this.ns=new Ln(Ci.ss),this.rs=new Ln(Ci.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ci(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ye(new _n([])),r=new Ci(t,e),i=new Ci(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ye(new _n([])),r=new Ci(t,e),i=new Ci(t,e+1);let a=Jt();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ci(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ye.comparator(e.key,t.key)||Wt(e._s,t._s)}static os(e,t){return Wt(e._s,t._s)||Ye.comparator(e.key,t.key)}}class a${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ln(Ci.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new PM(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new Ci(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),i=new Ci(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);a.push(h)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Wt);return t.forEach(i=>{const a=new Ci(i,0),u=new Ci(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{r=r.add(h._s)})}),he.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ye.isDocumentKey(a)||(a=a.child(""));const u=new Ci(new Ye(a),0);let h=new Ln(Wt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(g._s)),!0)},u),he.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return he.forEach(t.mutations,i=>{const a=new Ci(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ci(t,0),i=this.gs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class l${constructor(e){this.Es=e,this.docs=new Ar(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Us();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Kn.newInvalidDocument(i))}),he.resolve(r)}getAllFromCollection(e,t,r){let i=Us();const a=new Ye(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||_M(rN(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ft()}As(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new c$(this)}getSize(e){return he.resolve(this.size)}}class c$ extends kF{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class u${constructor(e){this.persistence=e,this.Rs=new Hd(t=>Jf(t),Xv),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new UM,this.targetCount=0,this.vs=lp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class BF{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Vs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new u$(this),this.indexManager=new Yj,this.remoteDocumentCache=new l$(r=>this.referenceDelegate.xs(r)),this.It=new mF(t),this.Ns=new s$(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new a$(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new d$(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return he.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class d$ extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class mD{constructor(e){this.persistence=e,this.Fs=new UM,this.$s=null}static Bs(e){return new mD(e)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,r=>{const i=Ye.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,Vt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class h${constructor(e){this.It=e}$(e,t,r,i){const a=new YE("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uF,{unique:!0}),h.createObjectStore("documentMutations"),VF(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=he.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),VF(e)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uF,{unique:!0});const E=g.store("mutations"),T=v.map(P=>E.put(P));return he.waitFor(T)})}(e,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:Lj});g.createIndex("collectionPathOverlayIndex",Bj,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Vj,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:Sj});g.createIndex("documentKeyIndex",Tj),g.createIndex("collectionGroupIndex",Aj)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Oj}).createIndex("sequenceNumberIndex",Pj,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Nj}).createIndex("documentKeyIndex",Fj,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=hD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>he.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>he.forEach(h,g=>{Bt(g.userId===a.userId);const v=ip(this.It,g);return TF(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,h)=>{const g=new _n(u),v=[0,ys(g)];a.push(t.get(v).next(E=>E?he.resolve():t.put({targetId:0,path:ys(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:kj});const r=t.store("collectionParents"),i=new VM,a=u=>{if(i.add(u)){const h=u.lastSegment(),g=u.popLast();return r.put({collectionId:h,parent:ys(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new _n(u);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,g],v)=>{const E=Yl(h);return a(E.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=ub(i),u=_F(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const h=t.store("remoteDocumentsV14"),g=(v=u,v.document?new Ye(_n.fromString(v.document.name).popFirst(5)):v.noDocument?Ye.fromSegments(v.noDocument.path):v.unknownDocument?Ye.fromSegments(v.unknownDocument.path):ft()).path.toArray();var v;const E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(E))}).next(()=>he.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=OF(this.It),a=new BF(mD.Bs,this.It.re);return r.W().next(u=>{const h=new Map;return u.forEach(g=>{var v;let E=null!==(v=h.get(g.userId))&&void 0!==v?v:Jt();ip(this.It,g).keys().forEach(T=>E=E.add(T)),h.set(g.userId,E)}),he.forEach(h,(g,v)=>{const E=new vi(v),T=cD.oe(this.It,E),P=a.getIndexManager(E),V=fD.oe(E,this.It,P,a.referenceDelegate);return new LF(i,V,T,P).recalculateAndSaveOverlaysForDocumentKeys(new OM(t,Vs.at),g).next()})})}}function VF(n){n.createObjectStore("targetDocuments",{keyPath:xj}).createIndex("documentTargetsIndex",Rj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Mj,{unique:!0}),n.createObjectStore("targetGlobal")}const HM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jM{constructor(e,t,r,i,a,u,h,g,v,E,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=h,this.Js=v,this.Ys=E,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!jM.C())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new t$(this,i),this.ii=t+"main",this.It=new mF(g),this.ri=new il(this.ii,this.Xs,new h$(this.It)),this.Cs=new Qj(this.referenceDelegate,this.It),this.remoteDocumentCache=OF(this.It),this.Ns=new $j,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,HM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Vs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Nd(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return gb(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return gD(e).delete(this.clientId)}yi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=wi(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),h=a.filter(g=>-1===u.indexOf(g));return he.forEach(h,g=>i.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):gb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,HM);return!1}}return!(!this.networkEnabled||!this.inForeground)||gD(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new OM(t,Vs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>gD(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return fD.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kj(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return cD.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?Hj:14===u?pF:13===u?fF:12===u?Uj:11===u?hF:void ft();var u;let h;return this.ri.runTransaction(e,i,a,g=>(h=new OM(g,this.Ss?this.Ss.next():Vs.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Fe(_e.FAILED_PRECONDITION,iN);return r(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>r(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return gb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,HM)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gb(e).put("owner",t)}static C(){return il.C()}_i(e){const t=gb(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gb(n){return wi(n,"owner")}function gD(n){return wi(n,"clientMetadata")}function $M(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Jt(),i=Jt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new GM(e,t.fromCache,r,i)}}class UF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(SN(t))return he.resolve(null);let r=_s(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tD(t,null,"F"),r=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Jt(...a);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.Fi(t,h);return this.$i(t,v,u,g.readTime)?this.ki(e,tD(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,r,i){return SN(t)||i.isEqual(Vt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(pM()<=zl.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),SM(t)),this.Bi(e,u,t,nN(i,-1)))})}Fi(e,t){let r=new Ln(MN(e));return t.forEach((i,a)=>{TM(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return pM()<=zl.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",SM(t)),this.Ni.getDocumentsMatchingQuery(e,t,mo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class f${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Ar(Wt),this.qi=new Hd(a=>Jf(a),Xv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function HF(n,e,t,r){return new f$(n,e,t,r)}function jF(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let g=Jt();for(const v of i){u.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(r,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),zM.apply(this,arguments)}function p$(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const E=g.batch,T=E.keys();let P=he.resolve();return T.forEach(V=>{P=P.next(()=>v.getEntry(h,V)).next(G=>{const Q=g.docVersions.get(V);Bt(null!==Q),G.version.compareTo(Q)<0&&(E.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=Jt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $F(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function m$(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const h=[];e.targetChanges.forEach((E,T)=>{const P=i.get(T);if(!P)return;h.push(t.Cs.removeMatchingKeys(a,E.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(a,E.addedDocuments,T)));let V=P.withSequenceNumber(a.currentSequenceNumber);var G,Q,ie;e.targetMismatches.has(T)?V=V.withResumeToken(ri.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),i=i.insert(T,V),Q=V,ie=E,(0===(G=P).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,V))});let g=Us(),v=Jt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),h.push(GF(a,u,e.documentUpdates).next(E=>{g=E.Wi,v=E.zi})),!r.isEqual(Vt.min())){const E=t.Cs.getLastRemoteSnapshotVersion(a).next(T=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(E)}return he.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.Ui=i,a))}function GF(n,e,t){let r=Jt(),i=Jt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Us();return t.forEach((h,g)=>{const v=a.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(Vt.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):He("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:i}})}function g$(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bg(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,he.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new jd(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Vg(n,e,t){return qM.apply(this,arguments)}function qM(){return qM=(0,we.Z)(function*(n,e,t){const r=tt(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Nd(u))throw u;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),qM.apply(this,arguments)}function _D(n,e,t){const r=tt(n);let i=Vt.min(),a=Jt();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const E=tt(h),T=E.qi.get(v);return void 0!==T?he.resolve(E.Ui.get(T)):E.Cs.getTargetData(g,v)}(r,u,_s(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{a=g})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Vt.min(),t?a:Jt())).next(h=>(ZF(r,AN(e),h),{documents:h,Hi:a})))}function zF(n,e){const t=tt(n),r=tt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function qF(n,e){const t=tt(n),r=t.Ki.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,nN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ZF(t,e,i),i))}function ZF(n,e,t){let r=n.Ki.get(e)||Vt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function ZM(){return ZM=(0,we.Z)(function*(n,e,t,r){const i=tt(n);let a=Jt(),u=Us();for(const v of t){const E=e.Ji(v.metadata.name);v.document&&(a=a.add(E));const T=e.Yi(v);T.setReadTime(e.Xi(v.metadata.readTime)),u=u.insert(E,T)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield Bg(i,(v=r,_s(Ag(_n.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>GF(v,h,u).next(E=>(h.apply(v),E)).next(E=>i.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>i.Cs.addMatchingKeys(v,a,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,E.Wi,E.zi)).next(()=>E.Wi)))}),ZM.apply(this,arguments)}function y$(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,we.Z)(function*(n,e,t=Jt()){const r=yield Bg(n,_s(LM(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=bi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const h=r.withResumeToken(ri.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(h.targetId,h),i.Cs.updateTargetData(a,h).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),WM.apply(this,arguments)}function WF(n,e){return`firestore_clients_${n}_${e}`}function YF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function YM(n,e){return`firestore_targets_${n}_${e}`}class yD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Fe(i.error.code,i.error.message))),u?new yD(e,t,i.state,a):(Vr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _b{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new _b(e,r.state,i):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=sD();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=dN(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new vD(e,a):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class KM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new KM(t.clientId,t.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class QM{constructor(){this.activeTargetIds=sD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ar(Wt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=WF(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new QM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(WF(e.persistenceKey,i));if(a){const u=vD.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(YM(this.persistenceKey,e));if(r){const i=_b.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(YM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=Vs.at;if(null!=a)try{const h=JSON.parse(a);Bt("number"==typeof h),u=h}catch(h){Vr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==Vs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new yD(this.currentUser,e,t,r),a=YF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=YF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=YM(this.persistenceKey,e),a=new _b(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return vD.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return yD.Zi(new vi(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return _b.Zi(i,t)}yr(e){return KM.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],h=[];return a.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{a.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=sD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class KF{constructor(){this.Lr=new QM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new QM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class v${qr(e){}shutdown(){}}class QF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const b$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class C$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);He("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,a),this.fo(e,u,h,r).then(g=>(He("RestConnection","Received: ",g),g),g=>{throw qf("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${b$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const h=new bH;h.setWithCredentials(!0),h.listenOnce(_H.COMPLETE,()=>{var v;try{switch(h.getLastErrorCode()){case fM.NO_ERROR:const E=h.getResponseJson();He("Connection","XHR received:",JSON.stringify(E)),a(E);break;case fM.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),u(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case fM.HTTP_ERROR:const T=h.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){let P=h.getResponseJson();Array.isArray(P)&&(P=P[0]);const V=null===(v=P)||void 0===v?void 0:v.error;if(V&&V.status&&V.message){const G=function(Q){const ie=Q.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ie)>=0?ie:_e.UNKNOWN}(V.status);u(new Fe(G,V.message))}else u(new Fe(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);h.send(t,"POST",g,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mH(),u=gH(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new vH({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");He("Connection","Creating WebChannel: "+g,h);const v=a.createWebChannel(g,h);let E=!1,T=!1;const P=new w$({Hr:G=>{T?He("Connection","Not sending because WebChannel is closed:",G):(E||(He("Connection","Opening WebChannel transport."),v.open(),E=!0),He("Connection","WebChannel sending:",G),v.send(G))},Jr:()=>v.close()}),V=(G,Q,ie)=>{G.listen(Q,$e=>{try{ie($e)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return V(v,qE.EventType.OPEN,()=>{T||He("Connection","WebChannel transport opened.")}),V(v,qE.EventType.CLOSE,()=>{T||(T=!0,He("Connection","WebChannel transport closed"),P.io())}),V(v,qE.EventType.ERROR,G=>{T||(T=!0,qf("Connection","WebChannel transport errored:",G),P.io(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),V(v,qE.EventType.MESSAGE,G=>{var Q;if(!T){const ie=G.data[0];Bt(!!ie);const $e=ie,Xe=$e.error||(null===(Q=$e[0])||void 0===Q?void 0:Q.error);if(Xe){He("Connection","WebChannel received error:",Xe);const Je=Xe.status;let We=function(At){const on=Yr[At];if(void 0!==on)return GN(on)}(Je),Et=Xe.message;void 0===We&&(We=_e.INTERNAL,Et="Unknown error status: "+Je+" with message "+Xe.message),T=!0,P.io(new Fe(We,Et)),v.close()}else He("Connection","WebChannel received:",ie),P.ro(ie)}}),V(u,yH.STAT_EVENT,G=>{G.stat===K1.PROXY?He("Connection","Detected buffering proxy"):G.stat===K1.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function XF(){return typeof window<"u"?window:null}function bD(){return typeof document<"u"?document:null}function yb(n){return new fj(n,!0)}class JM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class JF{constructor(e,t,r,i,a,u,h,g){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new JM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,we.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,we.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,we.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E$ extends JF{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function gj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ft(),i=e.targetChange.targetIds||[],a=function(g,v){return g.gt?(Bt(void 0===v||"string"==typeof v),ri.fromBase64String(v||"")):(Bt(void 0===v||v instanceof Uint8Array),ri.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const v=void 0===g.code?_e.UNKNOWN:GN(g.code);return new Fe(v,g.message||"")}(u);t=new YN(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Wl(n,r.document.name),a=bi(r.document.updateTime),u=new Li({mapValue:{fields:r.document.fields}}),h=Kn.newFoundDocument(i,a,u);t=new oD(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Wl(n,r.document),a=r.readTime?bi(r.readTime):Vt.min(),u=Kn.newNoDocument(i,a);t=new oD([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Wl(n,r.document);t=new oD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,a=new sj(r.count||0);t=new WN(r.targetId,a)}}var g;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Vt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?bi(a.readTime):Vt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=lb(this.It),t.addTarget=function(i,a){let u;const h=a.target;return u=JE(h)?{documents:sF(i,h)}:{query:kM(i,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=JN(i,a.resumeToken):a.snapshotVersion.compareTo(Vt.min())>0&&(u.readTime=ob(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function yj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=lb(this.It),t.removeTarget=e,this.Bo(t)}}class D$ extends JF{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _j(n,e){return n&&n.length>0?(Bt(void 0!==e),n.map(t=>function(r,i){let a=bi(r.updateTime?r.updateTime:i);return a.isEqual(Vt.min())&&(a=bi(i)),new nj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.Zo(r,t)}return Bt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lb(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cb(this.It,r))};this.Bo(t)}}class I$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(_e.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(_e.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class T${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vr(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class A${constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(h=>{r.enqueueAndForget((0,we.Z)(function*(){var g;au(u)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(v){const E=tt(v);E._u.add(4),yield Ug(E),E.gu.set("Unknown"),E._u.delete(4),yield vb(E)}),function(v){return g.apply(this,arguments)})(u))}))}),this.gu=new T$(r,i)}}function vb(n){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n){if(au(n))for(const e of n.wu)yield e(!0)}),tx.apply(this,arguments)}function Ug(n){return nx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n){for(const e of n.wu)yield e(!1)}),nx.apply(this,arguments)}function wD(n,e){const t=tt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),sx(t)?ix(t):jg(t).ko()&&rx(t,e))}function bb(n,e){const t=tt(n),r=jg(t);t.du.delete(e),r.ko()&&eL(t,e),0===t.du.size&&(r.ko()?r.Fo():au(t)&&t.gu.set("Unknown"))}function rx(n,e){n.yu.Mt(e.targetId),jg(n).zo(e)}function eL(n,e){n.yu.Mt(e),jg(n).Ho(e)}function ix(n){n.yu=new uj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),jg(n).start(),n.gu.uu()}function sx(n){return au(n)&&!jg(n).No()&&n.du.size>0}function au(n){return 0===tt(n)._u.size}function tL(n){n.yu=void 0}function M$(n){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(n){n.du.forEach((e,t)=>{rx(n,e)})}),ox.apply(this,arguments)}function x$(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(n,e){tL(n),sx(n)?(n.gu.hu(e),ix(n)):n.gu.set("Unknown")}),ax.apply(this,arguments)}function R$(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,we.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof YN&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const u=a.cause;for(const h of a.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i.du.delete(h),i.yu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield CD(n,r)}else if(e instanceof oD?n.yu.Gt(e):e instanceof WN?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Vt.min()))try{const r=yield $F(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.yu.te(a);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(g);v&&i.du.set(g,v.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const g=i.du.get(h);if(!g)return;i.du.set(h,g.withResumeToken(ri.EMPTY_BYTE_STRING,g.snapshotVersion)),eL(i,h);const v=new jd(g.target,h,1,g.sequenceNumber);rx(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield CD(n,r)}var r}),lx.apply(this,arguments)}function CD(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n,e,t){if(!Nd(e))throw e;n._u.add(1),yield Ug(n),n.gu.set("Offline"),t||(t=()=>$F(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield vb(n)}))}),cx.apply(this,arguments)}function nL(n,e){return e().catch(t=>CD(n,t,e))}function Hg(n){return ux.apply(this,arguments)}function ux(){return ux=(0,we.Z)(function*(n){const e=tt(n),t=zd(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;k$(e);)try{const i=yield g$(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,O$(e,i)}catch(i){yield CD(e,i)}rL(e)&&iL(e)}),ux.apply(this,arguments)}function k$(n){return au(n)&&n.fu.length<10}function O$(n,e){n.fu.push(e);const t=zd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function rL(n){return au(n)&&!zd(n).No()&&n.fu.length>0}function iL(n){zd(n).start()}function P$(n){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n){zd(n).eu()}),dx.apply(this,arguments)}function N$(n){return hx.apply(this,arguments)}function hx(){return hx=(0,we.Z)(function*(n){const e=zd(n);for(const t of n.fu)e.Xo(t.mutations)}),hx.apply(this,arguments)}function F$(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(n,e,t){const r=n.fu.shift(),i=NM.from(r,e,t);yield nL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hg(n)}),fx.apply(this,arguments)}function L$(n,e){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n,e){var t;e&&zd(n).Yo&&(yield(t=(0,we.Z)(function*(r,i){if($N(a=i.code)&&a!==_e.ABORTED){const u=r.fu.shift();zd(r).Mo(),yield nL(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Hg(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),rL(n)&&iL(n)}),px.apply(this,arguments)}function sL(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,we.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=au(t);t._u.add(3),yield Ug(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield vb(t)}),mx.apply(this,arguments)}function gx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,we.Z)(function*(n,e){const t=tt(n);e?(t._u.delete(2),yield vb(t)):e||(t._u.add(2),yield Ug(t),t.gu.set("Unknown"))}),_x.apply(this,arguments)}function jg(n){return n.pu||(n.pu=function(e,t,r){const i=tt(e);return i.su(),new E$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:M$.bind(null,n),Zr:x$.bind(null,n),Wo:R$.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.pu.Mo(),sx(n)?ix(n):n.gu.set("Unknown")):(yield n.pu.stop(),tL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function zd(n){return n.Iu||(n.Iu=function(e,t,r){const i=tt(e);return i.su(),new D$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:P$.bind(null,n),Zr:L$.bind(null,n),tu:N$.bind(null,n),Zo:F$.bind(null,n)}),n.wu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Iu.Mo(),yield Hg(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class yx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new yx(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),Nd(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class Gg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=nb(),this.sortedSet=new Ar(this.comparator)}static emptySet(e){return new Gg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oL{constructor(){this.Tu=new Ar(Ye.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ft():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class zg{constructor(e,t,r,i,a,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new zg(e,t,Gg.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class B${constructor(){this.Au=void 0,this.listeners=[]}}class V${constructor(){this.queries=new Hd(e=>TN(e),Jv),this.onlineState="Unknown",this.Ru=new Set}}function vx(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new B$),i)try{a.Au=yield t.onListen(r)}catch(u){const h=$g(u,`Initialization of query '${SM(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&Ex(t)}),bx.apply(this,arguments)}function wx(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Cx.apply(this,arguments)}function U$(n,e){const t=tt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Pu(i)&&(r=!0);u.Au=i}}r&&Ex(t)}function H$(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Ex(n){n.Ru.forEach(e=>{e.next()})}class Dx{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new zg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class j${constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class aL{constructor(e){this.It=e}Ji(e){return Wl(this.It,e)}Yi(e){return e.metadata.exists?iF(this.It,e.document,!1):Kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return bi(e)}}class $${constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lL(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=_n.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new aL(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Jt()).add(a);t.set(u,h)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function _$(n,e,t,r){return ZM.apply(this,arguments)}(e.localStore,new aL(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield y$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function lL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class dL{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Jt(),this.mutatedKeys=Jt(),this.Gu=MN(e),this.Qu=new Gg(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new oL,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,T)=>{const P=i.get(E),V=TM(this.query,T)?T:null,G=!!P&&this.mutatedKeys.has(P.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ie=!1;P&&V?P.data.isEqual(V.data)?G!==Q&&(r.track({type:3,doc:V}),ie=!0):this.Hu(P,V)||(r.track({type:2,doc:V}),ie=!0,(g&&this.Gu(V,g)>0||v&&this.Gu(V,v)<0)&&(h=!0)):!P&&V?(r.track({type:0,doc:V}),ie=!0):P&&!V&&(r.track({type:1,doc:P}),ie=!0,(g||v)&&(h=!0)),ie&&(V?(u=u.add(V),a=Q?a.add(E):a.delete(E)):(u=u.delete(E),a=a.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Qu:u,zu:r,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,E)=>function(T,P){const V=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return V(T)-V(P)}(v.type,E.type)||this.Gu(v.doc,E.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==a.length||g?{snapshot:new zg(this.query,e.Qu,i,a,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new uL(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new cL(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class G${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class z${constructor(e){this.key=e,this.nc=!1}}class q${constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Hd(h=>TN(h),Jv),this.rc=new Map,this.oc=new Set,this.uc=new Ar(Ye.comparator),this.cc=new Map,this.ac=new UM,this.hc={},this.lc=new Map,this.fc=lp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Z$(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,we.Z)(function*(n,e){const t=Wx(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield Bg(t.localStore,_s(e));t.isPrimaryClient&&wD(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield Sx(t,e,r,"current"===h,u.resumeToken)}return i}),Ix.apply(this,arguments)}function Sx(n,e,t,r,i){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n,e,t,r,i){n._c=(T,P,V)=>{return(G=(0,we.Z)(function*(Q,ie,$e,Xe){let Je=ie.view.Wu($e);Je.$i&&(Je=yield _D(Q.localStore,ie.query,!1).then(({documents:At})=>ie.view.Wu(At,Je)));const We=Xe&&Xe.targetChanges.get(ie.targetId),Et=ie.view.applyChanges(Je,Q.isPrimaryClient,We);return Lx(Q,ie.targetId,Et.Xu),Et.snapshot}),function(Q,ie,$e,Xe){return G.apply(this,arguments)})(n,T,P,V);var G};const a=yield _D(n.localStore,e,!0),u=new dL(e,a.Hi),h=u.Wu(a.documents),g=sb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=u.applyChanges(h,n.isPrimaryClient,g);Lx(n,t,v.Xu);const E=new G$(e,t,u);return n.ic.set(e,E),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),Tx.apply(this,arguments)}function W$(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,we.Z)(function*(n,e){const t=tt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Jv(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bb(t.remoteStore,r.targetId),qg(t,r.targetId)}).catch(Pd))):(qg(t,r.targetId),yield Vg(t.localStore,r.targetId,!0))}),Ax.apply(this,arguments)}function Mx(){return Mx=(0,we.Z)(function*(n,e,t){const r=Yx(n);try{const i=yield function(a,u){const h=tt(a),g=dr.now(),v=u.reduce((P,V)=>P.add(V.key),Jt());let E,T;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=Us(),G=Jt();return h.Gi.getEntries(P,v).next(Q=>{V=Q,V.forEach((ie,$e)=>{$e.isValidDocument()||(G=G.add(ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,V)).next(Q=>{E=Q;const ie=[];for(const $e of u){const Xe=ij($e,E.get($e.key).overlayedDocument);null!=Xe&&ie.push(new ou($e.key,Xe,yN(Xe.value.mapValue),hr.exists(!0)))}return h.mutationQueue.addMutationBatch(P,g,ie,u)}).next(Q=>{T=Q;const ie=Q.applyToLocalDocumentSet(E,G);return h.documentOverlayCache.saveOverlays(P,Q.batchId,ie)})}).then(()=>({batchId:T.batchId,changes:qN(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let g=a.hc[a.currentUser.toKey()];g||(g=new Ar(Wt)),g=g.insert(u,h),a.hc[a.currentUser.toKey()]=g}(r,i.batchId,t),yield lu(r,i.changes),yield Hg(r.remoteStore)}catch(i){const a=$g(i,"Failed to persist write");t.reject(a)}}),Mx.apply(this,arguments)}function hL(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n,e){const t=tt(n);try{const r=yield m$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Bt(u.nc):i.removedDocuments.size>0&&(Bt(u.nc),u.nc=!1))}),yield lu(t,r,e)}catch(r){yield Pd(r)}}),xx.apply(this,arguments)}function fL(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const h=u.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,u){const h=tt(a);h.onlineState=u;let g=!1;h.queries.forEach((v,E)=>{for(const T of E.listeners)T.bu(u)&&(g=!0)}),g&&Ex(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function K$(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new Ar(Ye.comparator);u=u.insert(a,Kn.newNoDocument(a,Vt.min()));const h=Jt().add(a),g=new ib(Vt.min(),new Map,new Ln(Wt),u,h);yield hL(r,g),r.uc=r.uc.remove(a),r.cc.delete(e),Bx(r)}else yield Vg(r.localStore,e,!1).then(()=>qg(r,e,t)).catch(Pd)}),Rx.apply(this,arguments)}function Q$(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield p$(t.localStore,e);Fx(t,r,null),Nx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield lu(t,i)}catch(i){yield Pd(i)}}),kx.apply(this,arguments)}function X$(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,u){const h=tt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(E=>(Bt(null!==E),v=E.keys(),h.mutationQueue.removeMutationBatch(g,E))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(r.localStore,e);Fx(r,e,t),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield lu(r,i)}catch(i){yield Pd(i)}}),Ox.apply(this,arguments)}function Px(){return Px=(0,we.Z)(function*(n,e){const t=tt(n);au(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=tt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=$g(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Px.apply(this,arguments)}function Nx(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Fx(n,e,t){const r=tt(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||pL(n,r)})}function pL(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(bb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Bx(n))}function Lx(n,e,t){for(const r of t)r instanceof cL?(n.ac.addReference(r.key,e),e3(n,r)):r instanceof uL?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||pL(n,r.key)):ft()}function e3(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),Bx(n))}function Bx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ye(_n.fromString(e)),r=n.fc.next();n.cc.set(r,new z$(t)),n.uc=n.uc.insert(t,r),wD(n.remoteStore,new jd(_s(Ag(t.path)),r,2,Vs.at))}}function lu(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,g)=>{u.push(r._c(g,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const E=GM.Ci(g.targetId,v);a.push(E)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(h=(0,we.Z)(function*(g,v){const E=tt(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>he.forEach(v,P=>he.forEach(P.Si,V=>E.persistence.referenceDelegate.addReference(T,P.targetId,V)).next(()=>he.forEach(P.Di,V=>E.persistence.referenceDelegate.removeReference(T,P.targetId,V)))))}catch(T){if(!Nd(T))throw T;He("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const P=T.targetId;if(!T.fromCache){const V=E.Ui.get(P),Q=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);E.Ui=E.Ui.insert(P,Q)}}}),function(g,v){return h.apply(this,arguments)})(r.localStore,a))}),Vx.apply(this,arguments)}function t3(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,we.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield jF(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lu(t,r.ji)}var i}),Ux.apply(this,arguments)}function n3(n,e){const t=tt(n),r=t.cc.get(e);if(r&&r.nc)return Jt().add(r.key);{let i=Jt();const a=t.rc.get(e);if(!a)return i;for(const u of a){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function r3(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,we.Z)(function*(n,e){const t=tt(n),r=yield _D(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Lx(t,e.targetId,i.Xu),i}),Hx.apply(this,arguments)}function s3(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n,e){const t=tt(n);return qF(t.localStore,e).then(r=>lu(t,r))}),jx.apply(this,arguments)}function o3(n,e,t,r){return $x.apply(this,arguments)}function $x(){return $x=(0,we.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(u,h){const g=tt(u),v=tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Tn(E,h).next(T=>T?g.localDocuments.getDocuments(E,T):he.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield Hg(i.remoteStore):"acknowledged"===t||"rejected"===t?(Fx(i,e,r||null),Nx(i,e),h=e,tt(tt(i.localStore).mutationQueue).An(h)):ft(),yield lu(i,a)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),$x.apply(this,arguments)}function Gx(){return Gx=(0,we.Z)(function*(n,e){const t=tt(n);if(Wx(t),Yx(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield mL(t,r.toArray());t.dc=!0,yield gx(t.remoteStore,!0);for(const a of i)wD(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(qg(t,u),Vg(t.localStore,u,!0))),bb(t.remoteStore,u)}),yield i,yield mL(t,r),function(a){const u=tt(a);u.cc.forEach((h,g)=>{bb(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Ar(Ye.comparator)}(t),t.dc=!1,yield gx(t.remoteStore,!1)}}),Gx.apply(this,arguments)}function mL(n,e,t){return zx.apply(this,arguments)}function zx(){return zx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const u of e){let h;const g=r.rc.get(u);if(g&&0!==g.length){h=yield Bg(r.localStore,_s(g[0]));for(const v of g){const E=r.ic.get(v),T=yield r3(r,E);T.snapshot&&a.push(T.snapshot)}}else{const v=yield zF(r.localStore,u);h=yield Bg(r.localStore,v),yield Sx(r,gL(v),u,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(a),i}),zx.apply(this,arguments)}function gL(n){return IN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function l3(n){const e=tt(n);return tt(tt(e.localStore).persistence).vi()}function c3(n,e,t,r){return qx.apply(this,arguments)}function qx(){return qx=(0,we.Z)(function*(n,e,t,r){const i=tt(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield qF(i.localStore,AN(a[0])),h=ib.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ri.EMPTY_BYTE_STRING);yield lu(i,u,h);break}case"rejected":yield Vg(i.localStore,e,!0),qg(i,e,r);break;default:ft()}}),qx.apply(this,arguments)}function u3(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,we.Z)(function*(n,e,t){const r=Wx(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const a=yield zF(r.localStore,i),u=yield Bg(r.localStore,a);yield Sx(r,gL(a),u.targetId,!1,u.resumeToken),wD(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield Vg(r.localStore,i,!1).then(()=>{bb(r.remoteStore,i),qg(r,i)}).catch(Pd))}}),Zx.apply(this,arguments)}function Wx(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K$.bind(null,e),e.sc.Wo=U$.bind(null,e.eventManager),e.sc.wc=H$.bind(null,e.eventManager),e}function Yx(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X$.bind(null,e),e}class _L{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.It=yb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return HF(this.persistence,new UF,e.initialUser,this.It)}yc(e){return new BF(mD.Bs,this.It)}gc(e){return new KF}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yL extends _L{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Yx(r.Ac.syncEngine),yield Hg(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return HF(this.persistence,new UF,e.initialUser,this.It)}Tc(e,t){return new Jj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new FH(t,this.persistence);return new NH(e.asyncQueue,r)}yc(e){const t=$M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new jM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XF(),bD(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new KF}}class h3 extends yL{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof XM&&(r.sharedClientState.syncEngine={Fr:o3.bind(null,i),$r:c3.bind(null,i),Br:u3.bind(null,i),vi:l3.bind(null,i),Mr:s3.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,we.Z)(function*(u){yield function a3(n,e){return Gx.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=XF();if(!XM.C(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$M(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Kx{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=t3.bind(null,r.syncEngine),yield gx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new V$}createDatastore(e){const t=yb(e.databaseInfo.databaseId),r=new C$(e.databaseInfo);return new I$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>fL(this.syncEngine,h,0),u=QF.C()?new QF:new v$,new A$(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,h,g,v){const E=new q$(r,i,a,u,h,g);return v&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=tt(t);He("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ug(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Qx(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vL(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bL(n){if(!Ye.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wL(n){if(Ye.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ED(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ED(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function CL(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const EL=new Map;class DL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new EH;switch(t.type){case"gapi":return new TH(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EL.get(e);t&&(He("ComponentProvider","Removing Datastore"),EL.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Kl extends Qi{constructor(e,t,r){super(e,t,Ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Ye(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function SL(n,e,...t){if(n=(0,Zt.m9)(n),Qx("collection","path",e),n instanceof wb){const r=_n.fromString(e,...t);return wL(r),new Kl(n,null,r)}{if(!(n instanceof lr||n instanceof Kl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return wL(r),new Kl(n.firestore,null,r)}}function DD(n,e,...t){if(n=(0,Zt.m9)(n),1===arguments.length&&(e=eN.R()),Qx("doc","path",e),n instanceof wb){const r=_n.fromString(e,...t);return bL(r),new lr(n,null,new Ye(r))}{if(!(n instanceof lr||n instanceof Kl))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_n.fromString(e,...t));return bL(r),new lr(n.firestore,n instanceof Kl?n.converter:null,new Ye(r))}}function TL(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),(n instanceof lr||n instanceof Kl)&&(e instanceof lr||e instanceof Kl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Xx(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&Jv(n._query,e._query)&&n.converter===e.converter}function AL(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ID{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class p3{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ni,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new j$(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,we.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class _3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,u){const h=tt(a),g=lb(h.It)+"/documents",v={documents:u.map(V=>ab(h.It,V))},E=yield h._o("BatchGetDocuments",g,v,u.length),T=new Map;E.forEach(V=>{const G=function mj(n,e){return"found"in e?function(t,r){Bt(!!r.found);const i=Wl(t,r.found.name),a=bi(r.found.updateTime),u=new Li({mapValue:{fields:r.found.fields}});return Kn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){Bt(!!r.missing),Bt(!!r.readTime);const i=Wl(t,r.missing),a=bi(r.readTime);return Kn.newNoDocument(i,a)}(n,e):ft()}(h.It,V);T.set(G.key.toString(),G)});const P=[];return u.forEach(V=>{const G=T.get(V.toString());Bt(!!G),P.push(G)}),P}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Og(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ye.fromPath(i);e.mutations.push(new AM(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const u=tt(i),h=lb(u.It)+"/documents",g={writes:a.map(v=>cb(u.It,v))};yield u.ao("Commit",h,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?hr.exists(!1):hr.updateTime(t):hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(t)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class y3{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new JM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,we.Z)(function*(){const t=new _3(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Zv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$N(t)}return!1}}class v3{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=vi.UNAUTHENTICATED,this.clientId=eN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,we.Z)(function*(h){He("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(He("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$g(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ML(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield jF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Jx.apply(this,arguments)}function xL(n,e){return eR.apply(this,arguments)}function eR(){return eR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield tR(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>sL(e.remoteStore,a)),n.onlineComponents=e}),eR.apply(this,arguments)}function tR(n){return nR.apply(this,arguments)}function nR(){return nR=(0,we.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield ML(n,new _L)),n.offlineComponents}),nR.apply(this,arguments)}function SD(n){return rR.apply(this,arguments)}function rR(){return rR=(0,we.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield xL(n,new Kx)),n.onlineComponents}),rR.apply(this,arguments)}function RL(n){return tR(n).then(e=>e.persistence)}function TD(n){return tR(n).then(e=>e.localStore)}function iR(n){return SD(n).then(e=>e.remoteStore)}function sR(n){return SD(n).then(e=>e.syncEngine)}function Zg(n){return oR.apply(this,arguments)}function oR(){return oR=(0,we.Z)(function*(n){const e=yield SD(n),t=e.eventManager;return t.onListen=Z$.bind(null,e.syncEngine),t.onUnlisten=W$.bind(null,e.syncEngine),t}),oR.apply(this,arguments)}function OL(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,h,g){const v=new ID({next:T=>{a.enqueueAndForget(()=>wx(i,E));const P=T.docs.has(u);!P&&T.fromCache?g.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&h&&"server"===h.source?g.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Dx(Ag(u.path),v,{includeMetadataChanges:!0,Nu:!0});return vx(i,E)}(yield Zg(n),n.asyncQueue,e,t,r)})),r.promise}function PL(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,h,g){const v=new ID({next:T=>{a.enqueueAndForget(()=>wx(i,E)),T.fromCache&&"server"===h.source?g.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new Dx(u,v,{includeMetadataChanges:!0,Nu:!0});return vx(i,E)}(yield Zg(n),n.asyncQueue,e,t,r)})),r.promise}class T3{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new JM(this,"async_queue_retry"),this.Wc=()=>{const t=bD();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=bD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=bD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ni;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Nd(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=yx.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&ft()}verifyOperationInProgress(){}Xc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function aR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class A3{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends wb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new T3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NL(this),this._firestoreClient.terminate()}}function Ur(n){return n._firestoreClient||NL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VH(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new v3(n._authCredentials,n._appCheckCredentials,n._queue,r)}function FL(n,e,t){const r=new ni;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield ML(n,t),yield xL(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===_e.FAILED_PRECONDITION||u.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;qf("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function LL(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(ri.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class up{constructor(e){this._methodName=e}}class AD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const B3=/^__.*__$/;class V3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ou(e,this.data,this.fieldMask,t,this.fieldTransforms):new kg(e,this.data,t,this.fieldTransforms)}}class BL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ou(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class MD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new MD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return kD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(VL(this.sa)&&B3.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class U3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||yb(e)}da(e,t,r,i=!1){return new MD({sa:e,methodName:t,fa:r,path:Tr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function dp(n){const e=n._freezeSettings(),t=yb(n._databaseId);return new U3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xD(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);dR("Data must be an object, but it was:",u,r);const h=jL(r,u);let g,v;if(a.merge)g=new go(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const E=[];for(const T of a.mergeFields){const P=hR(e,T,t);if(!u.contains(P))throw new Fe(_e.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);GL(E,P)||E.push(P)}g=new go(E),v=u.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=u.fieldTransforms;return new V3(new Li(h),g,v)}class Cb extends up{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cb}}function UL(n,e,t){return new MD({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class lR extends up{_toFieldTransform(e){return new eb(e.path,new xg)}isEqual(e){return e instanceof lR}}class H3 extends up{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=UL(this,e,!0),r=this._a.map(a=>hp(a,t)),i=new ep(r);return new eb(e.path,i)}isEqual(e){return this===e}}class j3 extends up{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=UL(this,e,!0),r=this._a.map(a=>hp(a,t)),i=new tp(r);return new eb(e.path,i)}isEqual(e){return this===e}}class $3 extends up{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Rg(e.It,kN(e.It,this.wa));return new eb(e.path,t)}isEqual(e){return this===e}}function cR(n,e,t,r){const i=n.da(1,e,t);dR("Data must be an object, but it was:",i,r);const a=[],u=Li.empty();Yf(r,(g,v)=>{const E=RD(e,g,t);v=(0,Zt.m9)(v);const T=i.ca(E);if(v instanceof Cb)a.push(E);else{const P=hp(v,T);null!=P&&(a.push(E),u.set(E,P))}});const h=new go(a);return new BL(u,h,i.fieldTransforms)}function uR(n,e,t,r,i,a){const u=n.da(1,e,t),h=[hR(e,r,t)],g=[i];if(a.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)h.push(hR(e,a[P])),g.push(a[P+1]);const v=[],E=Li.empty();for(let P=h.length-1;P>=0;--P)if(!GL(v,h[P])){const V=h[P];let G=g[P];G=(0,Zt.m9)(G);const Q=u.ca(V);if(G instanceof Cb)v.push(V);else{const ie=hp(G,Q);null!=ie&&(v.push(V),E.set(V,ie))}}const T=new go(v);return new BL(E,T,u.fieldTransforms)}function HL(n,e,t,r=!1){return hp(t,n.da(r?4:3,e))}function hp(n,e){if($L(n=(0,Zt.m9)(n)))return dR("Unsupported field value:",e,n),jL(n,e);if(n instanceof up)return function(t,r){if(!VL(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let h=hp(u,r.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kN(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:ob(r.It,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ob(r.It,i)}}if(t instanceof AD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ql)return{bytesValue:JN(r.It,t._byteString)};if(t instanceof lr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${ED(t)}`)}(n,e)}function jL(n,e){const t={};return lN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yf(n,(r,i)=>{const a=hp(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function $L(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof dr||n instanceof AD||n instanceof Ql||n instanceof lr||n instanceof up)}function dR(n,e,t){if(!$L(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ED(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function hR(n,e,t){if((e=(0,Zt.m9)(e))instanceof cu)return e._internalPath;if("string"==typeof e)return RD(n,e);throw kD("Field path arguments must be of type string or ",n,!1,void 0,t)}const G3=new RegExp("[~\\*/\\[\\]]");function RD(n,e,t){if(e.search(G3)>=0)throw kD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cu(...e.split("."))._internalPath}catch{throw kD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Fe(_e.INVALID_ARGUMENT,h+n+g)}function GL(n,e){return n.some(t=>t.isEqual(e))}class Eb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class z3 extends Eb{data(){return super.data()}}function OD(n,e){return"string"==typeof e?RD(n,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function zL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}function qd(n,...e){for(const t of e)n=t._apply(n);return n}class q3 extends Db{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=dp(e.firestore),r=function(i,a,u,h,g,v,E){let T;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){QL(E,v);const V=[];for(const G of E)V.push(KL(h,i,G));T={arrayValue:{values:V}}}else T=KL(h,i,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||QL(E,v),T=HL(u,"where",E,"in"===v||"not-in"===v);const P=Bi.create(g,v,T);return function(V,G){if(G.dt()){const ie=DM(V);if(null!==ie&&!ie.isEqual(G.field))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${G.field.toString()}'`);const $e=EM(V);null!==$e&&XL(0,G.field,$e)}const Q=function(ie,$e){for(const Xe of ie.filters)if($e.indexOf(Xe.op)>=0)return Xe.op;return null}(V,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==Q)throw new Fe(_e.INVALID_ARGUMENT,Q===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${Q.toString()}' filters.`)}(i,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Qi(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class W3 extends Db{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Tg(i,a);return function(h,g){if(null===EM(h)){const v=DM(h);null!==v&&XL(0,v,g.field)}}(r,u),u}(e._query,this.ma,this.pa);return new Qi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new su(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qL extends Db{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Qi(e.firestore,e.converter,tD(e._query,this.Ia,this.Ta))}}class ZL extends Db{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=YL(e,this.type,this.Ea,this.Aa);return new Qi(e.firestore,e.converter,(i=t,new su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class WL extends Db{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=YL(e,this.type,this.Ea,this.Aa);return new Qi(e.firestore,e.converter,(i=t,new su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function YL(n,e,t,r){if(t[0]=(0,Zt.m9)(t[0]),t[0]instanceof Eb)return function(i,a,u,h,g){if(!h)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const E of Mg(i))if(E.field.isKeyField())v.push(Xf(a,h.key));else{const T=h.data.field(E.field);if(bM(T))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const P=E.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}v.push(T)}return new Ud(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=dp(n.firestore);return function(a,u,h,g,v,E){const T=a.explicitOrderBy;if(v.length>T.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<v.length;V++){const G=v[V];if(T[V].field.isKeyField()){if("string"!=typeof G)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!IM(a)&&-1!==G.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const Q=a.path.child(_n.fromString(G));if(!Ye.isDocumentKey(Q))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Q}' is not because it contains an odd number of segments.`);const ie=new Ye(Q);P.push(Xf(u,ie))}else{const Q=HL(h,g,G);P.push(Q)}}return new Ud(P,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function KL(n,e,t){if("string"==typeof(t=(0,Zt.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IM(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_n.fromString(t));if(!Ye.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xf(n,new Ye(r))}if(t instanceof lr)return Xf(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ED(t)}.`)}function QL(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function XL(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class fR{convertValue(e,t="none"){switch(Qf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return Yf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new AD(Mr(e.latitude),Mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qv(e));default:return null}}convertTimestamp(e){const t=Fd(e);return new dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_n.fromString(e);Bt(lF(r));const i=new Ld(r.get(1),r.get(3)),a=new Ye(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function PD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nG extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uu extends Eb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(OD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ib extends uu{data(e={}){return super.data(e)}}class Zd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ib(this._firestore,this._userDataWriter,r.key,r,new fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Ib(r._firestore,r._userDataWriter,u.doc.key,u.doc,new fp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new Ib(r._firestore,r._userDataWriter,u.doc.key,u.doc,new fp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:rG(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function JL(n,e){return n instanceof uu&&e instanceof uu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zd&&e instanceof Zd&&n._firestore===e._firestore&&Xx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wd extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function eB(n,e,t){n=dn(n,lr);const r=dn(n.firestore,cr),i=PD(n.converter,e,t);return Wg(r,[xD(dp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,hr.none())])}function tB(n,e,t,...r){n=dn(n,lr);const i=dn(n.firestore,cr),a=dp(i);let u;return u="string"==typeof(e=(0,Zt.m9)(e))||e instanceof cu?uR(a,"updateDoc",n._key,e,t,r):cR(a,"updateDoc",n._key,e),Wg(i,[u.toMutation(n._key,hr.exists(!0))])}function nB(n,...e){var t,r,i;n=(0,Zt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||aR(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(aR(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[u+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let g,v,E;if(n instanceof lr)v=dn(n.firestore,cr),E=Ag(n._key.path),g={next:T=>{e[u]&&e[u](pR(v,n,T))},error:e[u+1],complete:e[u+2]};else{const T=dn(n,Qi);v=dn(T.firestore,cr),E=T._query;const P=new Wd(v);g={next:V=>{e[u]&&e[u](new Zd(v,P,T,V))},error:e[u+1],complete:e[u+2]},zL(n._query)}return function(T,P,V,G){const Q=new ID(G),ie=new Dx(P,Q,V);return T.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return vx(yield Zg(T),ie)})),()=>{Q.bc(),T.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return wx(yield Zg(T),ie)}))}}(Ur(v),E,h,g)}function Wg(n,e){return function(t,r){const i=new ni;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Y$(n,e,t){return Mx.apply(this,arguments)}(yield sR(t),r,i)})),i.promise}(Ur(n),e)}function pR(n,e,t){const r=t.docs.get(e._key),i=new Wd(n);return new uu(n,i,e._key,r,new fp(t.hasPendingWrites,t.fromCache),e.converter)}const fG={maxAttempts:5};class rB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dp(e)}set(e,t,r){this._verifyNotCommitted();const i=Yd(e,this._firestore),a=PD(i.converter,t,r),u=xD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,hr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Yd(e,this._firestore);let u;return u="string"==typeof(t=(0,Zt.m9)(t))||t instanceof cu?uR(this._dataReader,"WriteBatch.update",a._key,t,r,i):cR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yd(e,this._firestore);return this._mutations=this._mutations.concat(new Og(t._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(n,e){if((n=(0,Zt.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class pG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dp(e)}get(e){const t=Yd(e,this._firestore),r=new nG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const a=i[0];if(a.isFoundDocument())return new Eb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Eb(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=Yd(e,this._firestore),a=PD(i.converter,t,r),u=xD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Yd(e,this._firestore);let u;return u="string"==typeof(t=(0,Zt.m9)(t))||t instanceof cu?uR(this._dataReader,"Transaction.update",a._key,t,r,i):cR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Yd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yd(e,this._firestore),r=new Wd(this._firestore);return super.get(e).then(i=>new uu(this._firestore,r,t._key,i._document,new fp(!1,!1),t.converter))}}function mR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sB(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function oB(){if(!function LH(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Eg=Ls.SDK_VERSION,(0,Ls._registerComponent)(new Yc.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new cr(new IH(t.getProvider("auth-internal")),new AH(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(h.options.projectId,g)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(Q1,"3.7.3",n),(0,Ls.registerVersion)(Q1,"3.7.3","esm2017")}();class Sb{constructor(e){this._delegate=e}static fromBase64String(e){return oB(),new Sb(Ql.fromBase64String(e))}static fromUint8Array(e){return sB(),new Sb(Ql.fromUint8Array(e))}toBase64(){return oB(),this._delegate.toBase64()}toUint8Array(){return sB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gR(n){return function EG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class DG{enableIndexedDbPersistence(e,t){return function x3(n,e){LL(n=dn(n,cr));const t=Ur(n),r=n._freezeSettings(),i=new Kx;return FL(t,i,new yL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function R3(n){LL(n=dn(n,cr));const e=Ur(n),t=n._freezeSettings(),r=new Kx;return FL(e,r,new h3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function k3(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!il.C())return Promise.resolve();const i=r+"main";yield il.delete(i)}),function(r){return t.apply(this,arguments)})($M(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function IL(n,e,t,r={}){var i;const a=(n=dn(n,wb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&qf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=vi.MOCK_USER;else{u=(0,Zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new vi(g)}n._authCredentials=new DH(new X1(u,h))}}(this._delegate,e,t,r)}enableNetwork(){return function P3(n){return function b3(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield RL(n),t=yield iR(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i._u.delete(0),vb(i)}(t)}))}(Ur(n=dn(n,cr)))}(this._delegate)}disableNetwork(){return function N3(n){return function w3(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield RL(n),t=yield iR(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=tt(i);a._u.add(0),yield Ug(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ur(n=dn(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,vL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function O3(n){return function(e){const t=new ni;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function J$(n,e){return Px.apply(this,arguments)}(yield sR(e),t)})),t.promise}(Ur(n=dn(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function hG(n,e){return function D3(n,e){const t=new ID(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Zg(n),i=t,tt(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Zg(n),i=t,void tt(r).Ru.delete(i);var r,i}))}}(Ur(n=dn(n,cr)),aR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yg(this,SL(this._delegate,e))}catch(t){throw vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new oa(this,DD(this._delegate,e))}catch(t){throw vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function f3(n,e){if(n=dn(n,wb),Qx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new su(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mG(n,e,t){n=dn(n,cr);const r=Object.assign(Object.assign({},fG),t);return function(i){if(i.maxAttempts<1)throw new Fe(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const h=new ni;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const g=yield function kL(n){return SD(n).then(e=>e.datastore)}(i);new y3(i.asyncQueue,g,u,a,h).run()})),h.promise}(Ur(n),i=>e(new pG(n,i)),r)}(this._delegate,t=>e(new lB(this,t)))}batch(){return Ur(this._delegate),new cB(new rB(this._delegate,e=>Wg(this._delegate,e)))}loadBundle(e){return function F3(n,e){const t=Ur(n=dn(n,cr)),r=new A3;return function I3(n,e,t,r){const i=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return AL(g,v);if(g instanceof ArrayBuffer)return AL(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new p3(g,u);var g}(t,yb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function d3(n,e,t){const r=tt(n);var i;(i=(0,we.Z)(function*(a,u,h){try{const g=yield u.getMetadata();if(yield function(P,V){const G=tt(P),Q=bi(V.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ie=>G.Ns.getBundleMetadata(ie,V.id)).then(ie=>!!ie&&ie.createTime.compareTo(Q)>=0)}(a.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=g).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(lL(g));const v=new $$(g,a.localStore,u.It);let E=yield u.mc();for(;E;){const P=yield v.Fu(E);P&&h._updateProgress(P),E=yield u.mc()}const T=yield v.complete();return yield lu(a,T.Lu,void 0),yield function(P,V){const G=tt(P);return G.persistence.runTransaction("Save bundle","readwrite",Q=>G.Ns.saveBundleMetadata(Q,V))}(a.localStore,g),h._completeWith(T.progress),Promise.resolve(T.Bu)}catch(g){return qf("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var P}),function(a,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield sR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function L3(n,e){return function S3(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield TD(n),e)}))}(Ur(n=dn(n,cr)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class ND extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sb(new Ql(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oa.forKey(t,this.firestore,null)}}class lB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}get(e){const t=mp(e);return this._delegate.get(t).then(r=>new Tb(this._firestore,new uu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=mp(e);return r?(mR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=mp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}}class cB{constructor(e){this._delegate=e}set(e,t,r){const i=mp(e);return r?(mR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=mp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=mp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ib(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ab(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new pp(e,new ND(e),t),i.set(t,a)),a}}pp.INSTANCES=new WeakMap;class oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oa(t,new lr(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new oa(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yg(this.firestore,SL(this._delegate,e))}catch(t){throw vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zt.m9)(e))instanceof lr&&TL(this._delegate,e)}set(e,t){t=mR("DocumentReference.set",t);try{return t?eB(this._delegate,e,t):eB(this._delegate,e)}catch(r){throw vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tB(this._delegate,e):tB(this._delegate,e,t,...r)}catch(i){throw vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function uG(n){return Wg(dn(n.firestore,cr),[new Og(n._key,hr.none())])}(this._delegate)}onSnapshot(...e){const t=uB(e),r=dB(e,i=>new Tb(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function sG(n){n=dn(n,lr);const e=dn(n.firestore,cr),t=Ur(e),r=new Wd(e);return function C3(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const h=yield function(g,v){const E=tt(g);return E.persistence.runTransaction("read document","readonly",T=>E.localDocuments.getDocument(T,v))}(i,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=$g(h,`Failed to get document '${a} from cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield TD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new uu(e,r,n._key,i,new fp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function oG(n){n=dn(n,lr);const e=dn(n.firestore,cr);return OL(Ur(e),n._key,{source:"server"}).then(t=>pR(e,n,t))}(this._delegate):function iG(n){n=dn(n,lr);const e=dn(n.firestore,cr);return OL(Ur(e),n._key).then(t=>pR(e,n,t))}(this._delegate),t.then(r=>new Tb(this.firestore,new uu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oa(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}function vs(n,e,t){return n.message=n.message.replace(e,t),n}function uB(n){for(const e of n)if("object"==typeof e&&!gR(e))return e;return{}}function dB(n,e){var t,r;let i;return i=gR(n[0])?n[0]:gR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Tb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return JL(this._delegate,e._delegate)}}class Ab extends Tb{data(e){const t=this._delegate.data(e);return function CH(n,e){n||ft()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ND(e)}where(e,t,r){try{return new bs(this.firestore,qd(this._delegate,function Z3(n,e,t){const r=e,i=OD("where",n);return new q3(i,r,t)}(e,t,r)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,qd(this._delegate,function Y3(n,e="asc"){const t=e,r=OD("orderBy",n);return new W3(r,t)}(e,t)))}catch(r){throw vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,qd(this._delegate,function K3(n){return CL("limit",n),new qL("limit",n,"F")}(e)))}catch(t){throw vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,qd(this._delegate,function Q3(n){return CL("limitToLast",n),new qL("limitToLast",n,"L")}(e)))}catch(t){throw vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,qd(this._delegate,function X3(...n){return new ZL("startAt",n,!0)}(...e)))}catch(t){throw vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,qd(this._delegate,function J3(...n){return new ZL("startAfter",n,!1)}(...e)))}catch(t){throw vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,qd(this._delegate,function eG(...n){return new WL("endBefore",n,!1)}(...e)))}catch(t){throw vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,qd(this._delegate,function tG(...n){return new WL("endAt",n,!0)}(...e)))}catch(t){throw vs(t,"endAt()","Query.endAt()")}}isEqual(e){return Xx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function lG(n){n=dn(n,Qi);const e=dn(n.firestore,cr),t=Ur(e),r=new Wd(e);return function E3(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const h=yield _D(i,a,!0),g=new dL(a,h.Hi),v=g.Wu(h.documents),E=g.applyChanges(v,!1);u.resolve(E.snapshot)}catch(h){const g=$g(h,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield TD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate):"server"===e?.source?function cG(n){n=dn(n,Qi);const e=dn(n.firestore,cr),t=Ur(e),r=new Wd(e);return PL(t,n._query,{source:"server"}).then(i=>new Zd(e,r,n,i))}(this._delegate):function aG(n){n=dn(n,Qi);const e=dn(n.firestore,cr),t=Ur(e),r=new Wd(e);return zL(n._query),PL(t,n._query).then(i=>new Zd(e,r,n,i))}(this._delegate),t.then(r=>new _R(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uB(e),r=dB(e,i=>new _R(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nB(this._delegate,t,r)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}class SG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ab(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ab(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ab(this._firestore,r))})}isEqual(e){return JL(this._delegate,e._delegate)}}class Yg extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oa(this.firestore,e):null}doc(e){try{return new oa(this.firestore,void 0===e?DD(this._delegate):DD(this._delegate,e))}catch(t){throw vs(t,"doc()","CollectionReference.doc()")}}add(e){return function dG(n,e){const t=dn(n.firestore,cr),r=DD(n),i=PD(n.converter,e);return Wg(t,[xD(dp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oa(this.firestore,t))}isEqual(e){return TL(this._delegate,e._delegate)}withConverter(e){return new Yg(this.firestore,this._delegate.withConverter(e?pp.getInstance(this.firestore,e):null))}}function mp(n){return dn(n,lr)}class yR{constructor(...e){this._delegate=new cu(...e)}static documentId(){return new yR(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,Zt.m9)(e))instanceof cu&&this._delegate._internalPath.isEqual(e._internalPath)}}class gp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _G(){return new lR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gp(e)}static delete(){const e=function gG(){return new Cb("deleteField")}();return e._methodName="FieldValue.delete",new gp(e)}static arrayUnion(...e){const t=function yG(...n){return new H3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gp(t)}static arrayRemove(...e){const t=function vG(...n){return new j3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gp(t)}static increment(e){const t=function bG(n){return new $3("increment",n)}(e);return t._methodName="FieldValue.increment",new gp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const TG={Firestore:aB,GeoPoint:AD,Timestamp:dr,Blob:Sb,Transaction:lB,WriteBatch:cB,DocumentReference:oa,DocumentSnapshot:Tb,Query:bs,QueryDocumentSnapshot:Ab,QuerySnapshot:_R,CollectionReference:Yg,FieldPath:yR,FieldValue:gp,setLogLevel:function IG(n){!function wH(n){Od.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function MG(n){(function AG(n,e){n.INTERNAL.registerComponent(new Yc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},TG)))})(n,(e,t)=>new aB(e,t,new DG)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(fv.Z);var FD=F(5363),xG=F(6063);class RG extends St.x{constructor(e=1/0,t=1/0,r=xG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)h=g;h&&r.splice(0,h+1)}}}var kG=F(3099);function hB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,kG.B)({connector:()=>new RG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const LD=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function BD(n){return(0,ct.e)((e,t)=>{let r=!1;e.subscribe((0,ut.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fB(n=PG){return(0,ct.e)((e,t)=>{let r=!1;e.subscribe((0,ut.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function PG(){return new LD}function du(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,a)=>n(i,a,r)):ed.y,ir(1),t?BD(e):fB(()=>new LD))}function pB(n,e){return(0,Mn.m)(e)?sr(()=>n,e):sr(()=>n)}var vR=F(9468);F(5867);const wR=new Map,gB={activated:!1,tokenObservers:[]},VG={initialized:!1,enabled:!1};function Vi(n){return wR.get(n)||Object.assign({},gB)}function UD(){return VG}class zG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Zt.BH,yield function qG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new Zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yB(n){if(!Vi(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function DR(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,we.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(a["X-Firebase-Client"]=V)}const h={method:"POST",body:JSON.stringify(e),headers:a};let g,v;try{g=yield fetch(n,h)}catch(V){throw ws.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==g.status)throw ws.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(V){throw ws.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const E=v.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const T=1e3*Number(E[1]),P=Date.now();return{token:v.token,expireTimeMillis:P+T,issuedAtTimeMillis:P}}),IR.apply(this,arguments)}function KG(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Mb="firebase-app-check-store";let $D=null;function bB(){return $D||($D=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(ws.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Mb,{keyPath:"compositeKey"})}}catch(r){e(ws.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),$D)}function SR(){return SR=(0,we.Z)(function*(n,e){const r=(yield bB()).transaction(Mb,"readwrite"),a=r.objectStore(Mb).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=g=>{u()},r.onerror=g=>{var v;h(ws.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),SR.apply(this,arguments)}const xb=new zl.Yd("@firebase/app-check");function MR(n,e){return(0,Zt.hl)()?function ez(n,e){return function wB(n,e){return SR.apply(this,arguments)}(function EB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{xb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DB(){return UD().enabled}function IB(){return RR.apply(this,arguments)}function RR(){return RR=(0,we.Z)(function*(){const n=UD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RR.apply(this,arguments)}const oz={error:"UNKNOWN_ERROR"};function az(n){return Zt.US.encodeString(JSON.stringify(n),!1)}function GD(n){return kR.apply(this,arguments)}function kR(){return kR=(0,we.Z)(function*(n,e=!1){const t=n.app;yB(t);const r=Vi(t);let a,i=r.token;if(i&&!Kg(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(Kg(g)?i=g:yield MR(t,void 0))}if(!e&&i&&Kg(i))return{token:i.token};let h,u=!1;if(DB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=DR(KG(t,yield IB()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield MR(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Vi(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?xb.warn(g.message):xb.error(g),a=g}return i?a?h=Kg(i)?{token:i.token,internalError:a}:AB(a):(h={token:i.token},r.token=i,yield MR(t,i)):h=AB(a),u&&TB(t,h),h}),kR.apply(this,arguments)}function PR(n,e){const t=Vi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function SB(n){const{app:e}=n,t=Vi(e);let r=t.tokenRefresher;r||(r=function lz(n){const{app:e}=n;return new zG((0,we.Z)(function*(){let r;if(r=Vi(e).token?yield GD(n,!0):yield GD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function TB(n,e){const t=Vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Kg(n){return n.expireTimeMillis-Date.now()>0}function AB(n){return{token:az(oz),error:n}}class cz{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vi(this.app);for(const t of e)PR(this.app,t.next);return Promise.resolve()}}const FB="app-check-internal";!function Ez(){(0,Ls._registerComponent)(new Yc.wA("app-check",n=>function uz(n,e){return new cz(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FB).initialize()})),(0,Ls._registerComponent)(new Yc.wA(FB,n=>function dz(n){return{getToken:e=>GD(n,e),addTokenListener:e=>function OR(n,e,t,r){const{app:i}=n,a=Vi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Kg(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),SB(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>SB(n))}(n,"INTERNAL",e),removeTokenListener:e=>PR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ls.registerVersion)("@firebase/app-check","0.5.17")}();class qD{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var VR=F(127);const BB=new l.OlP("angularfire2.auth.use-emulator"),VB=new l.OlP("angularfire2.auth.settings"),UB=new l.OlP("angularfire2.auth.tenant-id"),HB=new l.OlP("angularfire2.auth.langugage-code"),jB=new l.OlP("angularfire2.auth.use-device-language"),$B=new l.OlP("angularfire.auth.persistence"),GB=(n,e,t,r,i,a,u,h)=>(0,ki.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),u)for(const[v,E]of Object.entries(u))g.settings[v]=E;return h&&g.setPersistence(h),g},[t,r,i,a,u,h]);let Rb=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T,P,V){const G=new St.x,Q=st(void 0).pipe((0,FD.Q)(u.outsideAngular),sr(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,yt.U)(()=>(0,ki.on)(t,a,r)),(0,yt.U)(ie=>GB(ie,a,h,v,E,T,g,P)),hB({bufferSize:1,refCount:!1}));if(Ao(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{Q.pipe(du()).subscribe();const $e=Q.pipe(sr(We=>We.getRedirectResult().then(Et=>Et,()=>null)),Wn.iC,hB({bufferSize:1,refCount:!1})),Xe=Q.pipe(sr(We=>new Er.y(Et=>({unsubscribe:a.runOutsideAngular(()=>We.onAuthStateChanged(At=>Et.next(At),At=>Et.error(At),()=>Et.complete()))})))),Je=Q.pipe(sr(We=>new Er.y(Et=>({unsubscribe:a.runOutsideAngular(()=>We.onIdTokenChanged(At=>Et.next(At),At=>Et.error(At),()=>Et.complete()))}))));this.authState=$e.pipe(pB(Xe),(0,vR.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular)),this.user=$e.pipe(pB(Je),(0,vR.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular)),this.idToken=this.user.pipe(sr(We=>We?(0,Gt.D)(We.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(sr(We=>We?(0,Gt.D)(We.getIdTokenResult()):st(null))),this.credential=(0,co.T)($e,G,this.authState.pipe(gn(We=>!We))).pipe((0,yt.U)(We=>We?.user?We:null),(0,vR.R)(u.outsideAngular),(0,FD.Q)(u.insideAngular))}return(0,ki.pX)(this,Q,a,{spy:{apply:(ie,$e,Xe)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&Xe.then(Je=>G.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(BB,8),l.LFG(VB,8),l.LFG(UB,8),l.LFG(HB,8),l.LFG(jB,8),l.LFG($B,8),l.LFG(qD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mz=(()=>{class n{constructor(){VR.Z.registerVersion("angularfire",Wn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Rb]}),n})();function zB(n,e){return function xz(n,e=pt.z){return new Er.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function UR(n,e){return zB(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function ZD(n,e){return UR(n,e).pipe(xi(void 0),fE(),(0,yt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const g=i.find(E=>E.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(E=>E.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function qB(n,e,t){return ZD(n,t).pipe(Mf((r,i)=>function kz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Oz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Fw(),(0,yt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function HR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ZB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class WB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ZD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xi(void 0),fE(),gn(([r,i])=>i.length>0||!r),(0,yt.U)(([r,i])=>i),Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZB(e);return qB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return UR(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Wn.iC)}get(e){return(0,Gt.D)(this.query.get(e)).pipe(Wn.iC)}add(e){return this.ref.add(e)}doc(e){return new YB(this.ref.doc(e),this.afs)}}class YB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=XB(r,t);return new WB(i,a,this.afs)}snapshotChanges(){return function Rz(n,e){return zB(n,e).pipe(xi(void 0),fE(),(0,yt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Gt.D)(this.ref.get(e)).pipe(Wn.iC)}}class Pz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZD(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),gn(t=>t.length>0),Wn.iC):ZD(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZB(e);return qB(this.query,t,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(e={}){return UR(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Wn.iC)}get(e){return(0,Gt.D)(this.query.get(e)).pipe(Wn.iC)}}const KB=new l.OlP("angularfire2.enableFirestorePersistence"),QB=new l.OlP("angularfire2.firestore.persistenceSettings"),Nz=new l.OlP("angularfire2.firestore.settings"),Fz=new l.OlP("angularfire2.firestore.use-emulator");function XB(n,e=(t=>t)){return{query:e(n),ref:n}}let JB=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T,P,V,G,Q,ie,$e,Xe){this.schedulers=g;const Je=(0,ki.on)(t,h,r),We=E;T&&GB(Je,h,P,G,Q,ie,V,$e),[this.firestore,this.persistenceEnabled$]=(0,ki.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const Et=h.runOutsideAngular(()=>Je.firestore());if(a&&Et.settings(a),We&&Et.useEmulator(...We),i&&!Ao(u)){const At=()=>{try{return(0,Gt.D)(Et.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(on){return typeof console<"u"&&console.warn(on),st(!1)}};return[Et,h.runOutsideAngular(At)]}return[Et,st(!1)]},[a,We,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=XB(i,r),h=this.schedulers.ngZone.run(()=>a);return new WB(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Pz(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new YB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(KB,8),l.LFG(Nz,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(QB,8),l.LFG(Fz,8),l.LFG(Rb,8),l.LFG(BB,8),l.LFG(VB,8),l.LFG(UB,8),l.LFG(HB,8),l.LFG(jB,8),l.LFG($B,8),l.LFG(qD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lz=(()=>{class n{constructor(){VR.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:KB,useValue:!0},{provide:QB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[JB]}),n})(),jR=(()=>{class n{constructor(t,r){this.firestore=t,this.notification=r}createCollaborator(t){const r=this.firestore.collection("collaborators").add(t);return(0,Gt.D)(r).pipe(_i(i=>(this.notification.showMessage("Erro ao cadastrar."),console.error(i),Ir.E)))}findAll(){const t=this.firestore.collection("collaborators").get();return(0,Gt.D)(t).pipe((0,yt.U)(r=>r.docs.map(i=>{const a=i.data();return a.id=i.id,a})),_i(r=>(this.notification.showMessage("Erro ao buscar dados."),console.error(r),Ir.E)))}findById(t){const r=this.firestore.collection("collaborators").doc(t).get();return(0,Gt.D)(r).pipe((0,yt.U)(i=>{const a=i.data();return a.id=i.id,a}),_i(i=>(this.notification.showMessage("Erro ao buscar pelo id"),console.error(i),Ir.E)))}deleteCollaborator(t){const r=this.firestore.collection("collaborators").doc(t).delete();return(0,Gt.D)(r).pipe(_i(i=>(this.notification.showMessage("Erro ao excluir."),console.error(i),Ir.E)))}updateCollaborator(t){const r=this.firestore.collection("collaborators").doc(t.id).update(t);return(0,Gt.D)(r).pipe(_i(i=>(this.notification.showMessage("Erro ao atualizar."),console.error(i),Ir.E)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JB),l.LFG(Fs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Bz=F(9635);function kb(n,e){const t=(0,Mn.m)(n)?n:()=>n,r=i=>i.error(t());return new Er.y(e?i=>e.schedule(r,0,i):r)}function $R(){return(0,ct.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ut.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class eV extends Er.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ct.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ut.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dr.w0.EMPTY)}return e}refCount(){return $R()(this)}}function _p(n,e){return(0,Mn.m)(e)?(0,rr.z)(n,e,1):(0,rr.z)(n,1)}function GR(n){return n<=0?()=>Ir.E:(0,ct.e)((e,t)=>{let r=[];e.subscribe((0,ut.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tV(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,a)=>n(i,a,r)):ed.y,GR(1),t?BD(e):fB(()=>new LD))}function zR(n){return(0,ct.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const sn="primary",Ob=Symbol("RouteTitle");class Uz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qg(n){return new Uz(n)}function Hz(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],h=n[a];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!nV(n[i],e[i]))return!1;return!0}function nV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function rV(n){return Array.prototype.concat.apply([],n)}function iV(n){return n.length>0?n[n.length-1]:null}function Ui(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kd(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Gt.D)(Promise.resolve(n)):st(n)}const Gz={exact:function aV(n,e,t){if(!vp(n.segments,e.segments)||!WD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aV(n.children[r],e.children[r],t))return!1;return!0},subset:lV},sV={exact:function zz(n,e){return Xl(n,e)},subset:function qz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nV(n[t],e[t]))},ignored:()=>!0};function oV(n,e,t){return Gz[t.paths](n.root,e.root,t.matrixParams)&&sV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lV(n,e,t){return cV(n,e,e.segments,t)}function cV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!vp(i,t)||e.hasChildren()||!WD(i,t,r))}if(n.segments.length===t.length){if(!vp(n.segments,t)||!WD(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!lV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(vp(n.segments,i)&&WD(n.segments,i,r)&&n.children[sn])&&cV(n.children[sn],e,a,r)}}function WD(n,e,t){return e.every((r,i)=>sV[t](n[i].parameters,r.parameters))}class yp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qg(this.queryParams)),this._queryParamMap}toString(){return Yz.serialize(this)}}class cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ui(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return YD(this)}}class Pb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qg(this.parameters)),this._parameterMap}toString(){return fV(this)}}function vp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let uV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new ZR},providedIn:"root"}),n})();class ZR{parse(e){const t=new i6(e);return new yp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nb(e.root,!0)}`,r=function Xz(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${KD(t)}=${KD(i)}`).join("&"):`${KD(t)}=${KD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Kz(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Yz=new ZR;function YD(n){return n.segments.map(e=>fV(e)).join("/")}function Nb(n,e){if(!n.hasChildren())return YD(n);if(e){const t=n.children[sn]?Nb(n.children[sn],!1):"",r=[];return Ui(n.children,(i,a)=>{a!==sn&&r.push(`${a}:${Nb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Wz(n,e){let t=[];return Ui(n.children,(r,i)=>{i===sn&&(t=t.concat(e(r,i)))}),Ui(n.children,(r,i)=>{i!==sn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===sn?[Nb(n.children[sn],!1)]:[`${i}:${Nb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${YD(n)}/${t[0]}`:`${YD(n)}/(${t.join("//")})`}}function dV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function KD(n){return dV(n).replace(/%3B/gi,";")}function WR(n){return dV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function QD(n){return decodeURIComponent(n)}function hV(n){return QD(n.replace(/\+/g,"%20"))}function fV(n){return`${WR(n.path)}${function Qz(n){return Object.keys(n).map(e=>`;${WR(e)}=${WR(n[e])}`).join("")}(n.parameters)}`}const Jz=/^[^\/()?;=#]+/;function XD(n){const e=n.match(Jz);return e?e[0]:""}const e6=/^[^=?&#]+/,n6=/^[^&#]+/;class i6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new cn(e,t)),r}parseSegment(){const e=XD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Pb(QD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=XD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=XD(this.remaining);i&&(r=i,this.capture(r))}e[QD(t)]=QD(r)}parseQueryParam(e){const t=function t6(n){const e=n.match(e6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function r6(n){const e=n.match(n6);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=hV(t),a=hV(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=XD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=sn);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[sn]:new cn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function YR(n){return n.segments.length>0?new cn([],{[sn]:n}):n}function JD(n){const e={};for(const r of Object.keys(n.children)){const a=JD(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function s6(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new cn(n.segments.concat(e.segments),e.children)}return n}(new cn(n.segments,e))}function bp(n){return n instanceof yp}function l6(n,e,t,r,i){if(0===t.length)return Xg(e.root,e.root,e.root,r,i);const a=function gV(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Ui(a.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new mV(t,e,r)}(t);return a.toRoot()?Xg(e.root,e.root,new cn([],{}),r,i):function u(g){const v=function u6(n,e,t,r){if(n.isAbsolute)return new Jg(e.root,!0,0);if(-1===r)return new Jg(t,t===e.root,0);return function _V(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Jg(r,!1,i-a)}(t,r+(Fb(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),E=v.processChildren?Bb(v.segmentGroup,v.index,a.commands):QR(v.segmentGroup,v.index,a.commands);return Xg(e.root,v.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function Fb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lb(n){return"object"==typeof n&&null!=n&&n.outlets}function Xg(n,e,t,r,i){let u,a={};r&&Ui(r,(g,v)=>{a[v]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),u=n===e?t:pV(n,e,t);const h=YR(JD(u));return new yp(h,a,i)}function pV(n,e,t){const r={};return Ui(n.children,(i,a)=>{r[a]=i===e?t:pV(i,e,t)}),new cn(n.segments,r)}class mV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fb(r[0]))throw new l.vHH(4003,!1);const i=r.find(Lb);if(i&&i!==iV(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function QR(n,e,t){if(n||(n=new cn([],{})),0===n.segments.length&&n.hasChildren())return Bb(n,e,t);const r=function h6(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],h=t[r];if(Lb(h))break;const g=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!vV(g,v,u))return a;r+=2}else{if(!vV(g,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new cn(n.segments.slice(0,r.pathIndex),{});return a.children[sn]=new cn(n.segments.slice(r.pathIndex),n.children),Bb(a,0,i)}return r.match&&0===i.length?new cn(n.segments,{}):r.match&&!n.hasChildren()?XR(n,e,t):r.match?Bb(n,0,i):XR(n,e,t)}function Bb(n,e,t){if(0===t.length)return new cn(n.segments,{});{const r=function d6(n){return Lb(n[0])?n[0].outlets:{[sn]:n}}(t),i={};return Ui(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=QR(n.children[u],e,a))}),Ui(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new cn(n.segments,i)}}function XR(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Lb(a)){const g=f6(a.outlets);return new cn(r,g)}if(0===i&&Fb(t[0])){r.push(new Pb(n.segments[e].path,yV(t[0]))),i++;continue}const u=Lb(a)?a.outlets[sn]:`${a}`,h=i<t.length-1?t[i+1]:null;u&&h&&Fb(h)?(r.push(new Pb(u,yV(h))),i+=2):(r.push(new Pb(u,{})),i++)}return new cn(r,{})}function f6(n){const e={};return Ui(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=XR(new cn([],{}),0,t))}),e}function yV(n){const e={};return Ui(n,(t,r)=>e[r]=`${t}`),e}function vV(n,e,t){return n==t.path&&Xl(e,t.parameters)}class hu{constructor(e,t){this.id=e,this.url=t}}class JR extends hu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wp extends hu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eI extends hu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bV extends hu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class p6 extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m6 extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g6 extends hu{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _6 extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y6 extends hu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v6{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class b6{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class w6{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C6{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wV{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class CV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ek(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ek(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tk(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tk(e,this._root).map(t=>t.value)}}function ek(n,e){if(n===e.value)return e;for(const t of e.children){const r=ek(n,t);if(r)return r}return null}function tk(n,e){if(n===e.value)return[e];for(const t of e.children){const r=tk(n,t);if(r.length)return r.unshift(e),r}return[]}class fu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function e_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EV extends CV{constructor(e,t){super(e),this.snapshot=t,nk(this,e)}toString(){return this.snapshot.toString()}}function DV(n,e){const t=function S6(n,e){const u=new tI([],{},{},"",{},sn,e,null,n.root,-1,{});return new SV("",new fu(u,[]))}(n,e),r=new fs([new Pb("",{})]),i=new fs({}),a=new fs({}),u=new fs({}),h=new fs(""),g=new Qd(r,i,u,h,a,sn,e,t.root);return g.snapshot=t.root,new EV(new fu(g,[]),t)}class Qd{constructor(e,t,r,i,a,u,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,yt.U)(v=>v[Ob]))??st(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Qg(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Qg(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IV(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function T6(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tI{constructor(e,t,r,i,a,u,h,g,v,E,T,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.[Ob],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=E,this._correctedLastPathIndex=P??E,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SV extends CV{constructor(e,t){super(t),this.url=e,nk(this,t)}toString(){return TV(this._root)}}function nk(n,e){e.value._routerState=n,e.children.forEach(t=>nk(n,t))}function TV(n){const e=n.children.length>0?` { ${n.children.map(TV).join(", ")} } `:"";return`${n.value}${e}`}function rk(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xl(e.params,t.params)||n.params.next(t.params),function jz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ik(n,e){const t=Xl(n.params,e.params)&&function Zz(n,e){return vp(n,e)&&n.every((t,r)=>Xl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ik(n.parent,e.parent))}function Vb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function M6(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vb(n,r,i);return Vb(n,r)})}(n,e,t);return new fu(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Vb(n,h)),u}}const r=function x6(n){return new Qd(new fs(n.url),new fs(n.params),new fs(n.queryParams),new fs(n.fragment),new fs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Vb(n,a));return new fu(r,i)}}const sk="ngNavigationCancelingError";function AV(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=bp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MV(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function MV(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[sk]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xV(n){return RV(n)&&bp(n.url)}function RV(n){return n&&n[sk]}class R6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ub,this.attachRef=null}}let Ub=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new R6,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nI=!1;let ok=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||sn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,nI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,nI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,nI);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,nI);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new k6(t,h,i.injector);if(r&&function O6(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,g)}else this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ub),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class k6{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qd?this.route:e===Ub?this.childContexts:this.parent.get(e,t)}}let ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[ok],encapsulation:2}),n})();function kV(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ck(n){const e=n.children&&n.children.map(ck),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=ak),t}function aa(n){return n.outlet||sn}function OV(n,e){const t=n.filter(r=>aa(r)===e);return t.push(...n.filter(r=>aa(r)!==e)),t}function Hb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class B6{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rk(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=e_(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Ui(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=e_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=e_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=e_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new D6(a.value.snapshot))}),e.children.length&&this.forwardEvent(new C6(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(rk(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),rk(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Hb(i.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class PV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rI{constructor(e,t){this.component=e,this.route=t}}function V6(n,e,t){const r=n._root;return jb(r,e?e._root:null,t,[r.value])}function t_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function jb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e_(e);return n.children.forEach(u=>{(function H6(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function j6(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vp(n.url,e.url)||!Xl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ik(n,e)||!Xl(n.queryParams,e.queryParams);default:return!ik(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new PV(r)):(a.data=u.data,a._resolvedData=u._resolvedData),jb(n,e,a.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new rI(h.outlet.component,u))}else u&&$b(e,h,i),i.canActivateChecks.push(new PV(r)),jb(n,null,a.component?h?h.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Ui(a,(u,h)=>$b(u,t.getContext(h),i)),i}function $b(n,e,t){const r=e_(n),i=n.value;Ui(r,(a,u)=>{$b(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new rI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gb(n){return"function"==typeof n}function uk(n){return n instanceof LD||"EmptyError"===n?.name}const iI=Symbol("INITIAL_VALUE");function n_(){return sr(n=>W_(n.map(e=>e.pipe(ir(1),xi(iI)))).pipe((0,yt.U)(e=>{for(const t of e)if(!0!==t){if(t===iI)return iI;if(!1===t||t instanceof yp)return t}return!0}),gn(e=>e!==iI),ir(1)))}function NV(n){return(0,Bz.z)((0,Zr.b)(e=>{if(bp(e))throw AV(0,e)}),(0,yt.U)(e=>!0===e))}const dk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FV(n,e,t,r,i){const a=hk(n,e,t);return a.matched?function sq(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?st(i.map(u=>{const h=t_(u,n);return Kd(function W6(n){return n&&Gb(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(n_(),NV()):st(!0)}(r=kV(e,r),e,t).pipe((0,yt.U)(u=>!0===u?a:{...dk})):st(a)}function hk(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dk}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Hz)(t,n,e);if(!i)return{...dk};const a={};Ui(i.posParams,(h,g)=>{a[g]=h.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function sI(n,e,t,r,i="corrected"){if(t.length>0&&function lq(n,e,t){return t.some(r=>oI(n,e,r)&&aa(r)!==sn)}(n,t,r)){const u=new cn(e,function aq(n,e,t,r){const i={};i[sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&aa(a)!==sn){const u=new cn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[aa(a)]=u}return i}(n,e,r,new cn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function cq(n,e,t){return t.some(r=>oI(n,e,r))}(n,t,r)){const u=new cn(n.segments,function oq(n,e,t,r,i,a){const u={};for(const h of r)if(oI(n,t,h)&&!i[aa(h)]){const g=new cn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[aa(h)]=g}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new cn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function oI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function LV(n,e,t,r){return!!(aa(n)===r||r!==sn&&oI(e,t,n))&&("**"===n.path||hk(e,n,t).matched)}function BV(n,e,t){return 0===e.length&&!n.children[t]}const aI=!1;class lI{constructor(e){this.segmentGroup=e||null}}class VV{constructor(e){this.urlTree=e}}function zb(n){return kb(new lI(n))}function UV(n){return kb(new VV(n))}class fq{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=sI(this.urlTree.root,[],[],this.config).segmentGroup,t=new cn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,sn).pipe((0,yt.U)(a=>this.createUrlTree(JD(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_i(a=>{if(a instanceof VV)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof lI?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,sn).pipe((0,yt.U)(i=>this.createUrlTree(JD(i),e.queryParams,e.fragment))).pipe(_i(i=>{throw i instanceof lI?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,aI)}createUrlTree(e,t,r){const i=YR(e);return new yp(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,yt.U)(a=>new cn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Gt.D)(i).pipe(_p(a=>{const u=r.children[a],h=OV(t,a);return this.expandSegmentGroup(e,h,u,a).pipe((0,yt.U)(g=>({segment:g,outlet:a})))}),Mf((a,u)=>(a[u.outlet]=u.segment,a),{}),tV())}expandSegment(e,t,r,i,a,u){return(0,Gt.D)(r).pipe(_p(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,u).pipe(_i(v=>{if(v instanceof lI)return st(null);throw v}))),du(h=>!!h),_i((h,g)=>{if(uk(h))return BV(t,i,a)?st(new cn([],{})):zb(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,u,h){return LV(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):zb(t):zb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UV(a):this.lineralizeSegments(r,a).pipe((0,rr.z)(u=>{const h=new cn(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:E}=hk(t,i,a);if(!h)return zb(t);const T=this.applyRedirectCommands(g,i.redirectTo,E);return i.redirectTo.startsWith("/")?UV(T):this.lineralizeSegments(i,T).pipe((0,rr.z)(P=>this.expandSegment(e,t,r,P.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=kV(r,e),r.loadChildren?(r._loadedRoutes?st({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,yt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new cn(i,{})))):st(new cn(i,{}))):FV(t,r,i,e).pipe(sr(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,rr.z)(E=>{const T=E.injector??e,P=E.routes,{segmentGroup:V,slicedSegments:G}=sI(t,h,g,P),Q=new cn(V.segments,V.children);if(0===G.length&&Q.hasChildren())return this.expandChildren(T,P,Q).pipe((0,yt.U)(Je=>new cn(h,Je)));if(0===P.length&&0===G.length)return st(new cn(h,{}));const ie=aa(r)===a;return this.expandSegment(T,Q,P,G,ie?sn:a,!0).pipe((0,yt.U)(Xe=>new cn(h.concat(Xe.segments),Xe.children)))})):zb(t)))}getChildConfig(e,t,r){return t.children?st({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?st({routes:t._loadedRoutes,injector:t._loadedInjector}):function iq(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?st(!0):st(i.map(u=>{const h=t_(u,n);return Kd(function G6(n){return n&&Gb(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(n_(),NV())}(e,t,r).pipe((0,rr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Zr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function dq(n){return kb(MV(aI,3))}())):st({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return st(r);if(i.numberOfChildren>1||!i.children[sn])return kb(new l.vHH(4e3,aI));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new yp(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ui(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Ui(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,r,i)}),new cn(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,aI);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class mq{}class yq{constructor(e,t,r,i,a,u,h,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=sI(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,sn).pipe((0,yt.U)(t=>{if(null===t)return null;const r=new tI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new fu(r,t),a=new SV(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=IV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Gt.D)(Object.keys(r.children)).pipe(_p(i=>{const a=r.children[i],u=OV(t,i);return this.processSegmentGroup(e,u,a,i)}),Mf((i,a)=>i&&a?(i.push(...a),i):null),function Vz(n,e=!1){return(0,ct.e)((t,r)=>{let i=0;t.subscribe((0,ut.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),BD(null),tV(),(0,yt.U)(i=>{if(null===i)return null;const a=HV(i);return function vq(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Gt.D)(t).pipe(_p(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),du(u=>!!u),_i(u=>{if(uk(u))return BV(r,i,a)?st([]):st(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!LV(t,r,i,a))return st(null);let u;if("**"===t.path){const h=i.length>0?iV(i).parameters:{},g=$V(r)+i.length;u=st({snapshot:new tI(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zV(t),aa(t),t.component??t._loadedComponent??null,t,jV(r),g,qV(t),g),consumedSegments:[],remainingSegments:[]})}else u=FV(r,t,i,e).pipe((0,yt.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:E})=>{if(!h)return null;const T=$V(r)+g.length;return{snapshot:new tI(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zV(t),aa(t),t.component??t._loadedComponent??null,t,jV(r),T,qV(t),T),consumedSegments:g,remainingSegments:v}}));return u.pipe(sr(h=>{if(null===h)return st(null);const{snapshot:g,consumedSegments:v,remainingSegments:E}=h;e=t._injector??e;const T=t._loadedInjector??e,P=function bq(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:G}=sI(r,v,E,P.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===G.length&&V.hasChildren())return this.processChildren(T,P,V).pipe((0,yt.U)(ie=>null===ie?null:[new fu(g,ie)]));if(0===P.length&&0===G.length)return st([new fu(g,[])]);const Q=aa(t)===a;return this.processSegment(T,P,V,G,Q?sn:a).pipe((0,yt.U)(ie=>null===ie?null:[new fu(g,ie)]))}))}}function wq(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function HV(n){const e=[],t=new Set;for(const r of n){if(!wq(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=HV(r.children);e.push(new fu(r.value,i))}return e.filter(r=>!t.has(r))}function jV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $V(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zV(n){return n.data||{}}function qV(n){return n.resolve||{}}function ZV(n){return"string"==typeof n.title||null===n.title}function fk(n){return sr(e=>{const t=n(e);return t?(0,Gt.D)(t).pipe((0,yt.U)(()=>e)):st(e)})}let WV=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[Ob]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(YV)},providedIn:"root"}),n})(),YV=(()=>{class n extends WV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mq{}class Rq extends class xq{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const uI=new l.OlP("",{providedIn:"root",factory:()=>({})}),pk=new l.OlP("ROUTES");let mk=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return st(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kd(t.loadComponent()).pipe((0,Zr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),zR(()=>{this.componentLoaders.delete(t)})),i=new eV(r,()=>new St.x).pipe($R());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return st({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,yt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,v,E=!1;Array.isArray(h)?v=h:(g=h.create(t).injector,v=rV(g.get(pk,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(ck),injector:g}}),zR(()=>{this.childrenLoaders.delete(r)})),u=new eV(a,()=>new St.x).pipe($R());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Kd(t()).pipe((0,rr.z)(r=>r instanceof l.YKP||Array.isArray(r)?st(r):(0,Gt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Oq{}class Pq{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nq(n){throw n}function Fq(n,e,t){return e.parse("/")}const Lq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function QV(){const n=(0,l.f3M)(uV),e=(0,l.f3M)(Ub),t=(0,l.f3M)(Oe),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(pk,{optional:!0})??[],u=(0,l.f3M)(uI,{optional:!0})??{},h=(0,l.f3M)(YV),g=(0,l.f3M)(WV,{optional:!0}),v=(0,l.f3M)(Oq,{optional:!0}),E=(0,l.f3M)(Mq,{optional:!0}),T=new yr(null,n,e,t,r,i,rV(a));return v&&(T.urlHandlingStrategy=v),E&&(T.routeReuseStrategy=E),T.titleStrategy=g??h,function Vq(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,T),T}let yr=(()=>{class n{constructor(t,r,i,a,u,h,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=Nq,this.malformedUriErrorHandler=Fq,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>st(void 0),this.urlHandlingStrategy=new Pq,this.routeReuseStrategy=new Rq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(mk),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new b6(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new v6(P)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const T=u.get(l.R0b);this.isNgZoneEnabled=T instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function $z(){return new yp(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DV(this.currentUrlTree,this.rootComponentType),this.transitions=new fs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(gn(i=>0!==i.id),(0,yt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sr(i=>{let a=!1,u=!1;return st(i).pipe((0,Zr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sr(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return XV(h.source)&&(this.browserUrlTree=h.extractedUrl),st(h).pipe(sr(T=>{const P=this.transitions.getValue();return r.next(new JR(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions.getValue()?Ir.E:Promise.resolve(T)}),function pq(n,e,t,r){return sr(i=>function hq(n,e,t,r,i){return new fq(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,yt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zr.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function Eq(n,e,t,r,i,a){return(0,rr.z)(u=>function _q(n,e,t,r,i,a,u="emptyOnly",h="legacy"){return new yq(n,e,t,r,i,u,h,a).recognize().pipe(sr(g=>null===g?function gq(n){return new Er.y(e=>e.error(n))}(new mq):st(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,yt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zr.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(V,T)}this.browserUrlTree=T.urlAfterRedirects}const P=new p6(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(P)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:V,source:G,restoredState:Q,extras:ie}=h,$e=new JR(P,this.serializeUrl(V),G,Q);r.next($e);const Xe=DV(V,this.rootComponentType).snapshot;return st(i={...h,targetSnapshot:Xe,urlAfterRedirects:V,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ir.E}),(0,Zr.b)(h=>{const g=new m6(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,yt.U)(h=>i={...h,guards:V6(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function K6(n,e){return(0,rr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?st({...t,guardsResult:!0}):function Q6(n,e,t,r){return(0,Gt.D)(n).pipe((0,rr.z)(i=>function rq(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?st(a.map(h=>{const g=Hb(e)??i,v=t_(h,g);return Kd(function Z6(n){return n&&Gb(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):g.runInContext(()=>v(n,e,t,r))).pipe(du())})).pipe(n_()):st(!0)}(i.component,i.route,t,e,r)),du(i=>!0!==i,!0))}(u,r,i,n).pipe((0,rr.z)(h=>h&&function $6(n){return"boolean"==typeof n}(h)?function X6(n,e,t,r){return(0,Gt.D)(e).pipe(_p(i=>Gh(function eq(n,e){return null!==n&&e&&e(new w6(n)),st(!0)}(i.route.parent,r),function J6(n,e){return null!==n&&e&&e(new E6(n)),st(!0)}(i.route,r),function nq(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function U6(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Df(()=>st(u.guards.map(g=>{const v=Hb(u.node)??t,E=t_(g,v);return Kd(function q6(n){return n&&Gb(n.canActivateChild)}(E)?E.canActivateChild(r,n):v.runInContext(()=>E(r,n))).pipe(du())})).pipe(n_())));return st(a).pipe(n_())}(n,i.path,t),function tq(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return st(!0);const i=r.map(a=>Df(()=>{const u=Hb(e)??t,h=t_(a,u);return Kd(function z6(n){return n&&Gb(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(du())}));return st(i).pipe(n_())}(n,i.route,t))),du(i=>!0!==i,!0))}(r,a,n,e):st(h)),(0,yt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Zr.b)(h=>{if(i.guardsResult=h.guardsResult,bp(h.guardsResult))throw AV(0,h.guardsResult);const g=new g6(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),gn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),fk(h=>{if(h.guards.canActivateChecks.length)return st(h).pipe((0,Zr.b)(g=>{const v=new _6(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),sr(g=>{let v=!1;return st(g).pipe(function Dq(n,e){return(0,rr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return st(t);let a=0;return(0,Gt.D)(i).pipe(_p(u=>function Iq(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!ZV(i)&&(a[Ob]=i.title),function Sq(n,e,t,r){const i=function Tq(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return st({});const a={};return(0,Gt.D)(i).pipe((0,rr.z)(u=>function Aq(n,e,t,r){const i=Hb(e)??r,a=t_(n,i);return Kd(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(du(),(0,Zr.b)(h=>{a[u]=h}))),GR(1),ty(a),_i(u=>uk(u)?Ir.E:kb(u)))}(a,n,e,r).pipe((0,yt.U)(u=>(n._resolvedData=u,n.data=IV(n,t).resolve,i&&ZV(i)&&(n.data[Ob]=i.title),null)))}(u.route,r,n,e)),(0,Zr.b)(()=>a++),GR(1),(0,rr.z)(u=>a===i.length?st(t):Ir.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Zr.b)(g=>{const v=new y6(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),fk(h=>{const g=v=>{const E=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Zr.b)(T=>{v.component=T}),(0,yt.U)(()=>{})));for(const T of v.children)E.push(...g(T));return E};return W_(g(h.targetSnapshot.root)).pipe(BD(),ir(1))}),fk(()=>this.afterPreactivation()),(0,yt.U)(h=>{const g=function A6(n,e,t){const r=Vb(n,e._root,t?t._root:void 0);return new EV(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),(0,Zr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(r=>(new B6(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Zr.b)({next(){a=!0},complete(){a=!0}}),zR(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),_i(h=>{if(u=!0,RV(h)){xV(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new eI(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(g),xV(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XV(i.source)};this.scheduleNavigation(v,"imperative",null,E,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new bV(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return Ir.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ck),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:g}=r,v=i||this.routerState.root,E=g?this.currentUrlTree.fragment:u;let T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),l6(v,this.currentUrlTree,t,T,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=bp(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Uq(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Lq}:!1===r?{...Bq}:r,bp(t))return oV(this.currentUrlTree,t,i);const a=this.parseUrl(t);return oV(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new wp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let h,g,v;u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((P,V)=>{h=P,g=V});const E=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:E,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new eI(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return QV()},providedIn:"root"}),n})();function XV(n){return"imperative"!==n}let pu=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new St.x,this.subscription=t.events.subscribe(a=>{a instanceof wp&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yr),l.Y36(Qd),l.Y36(be))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class JV{}let $q=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(gn(t=>t instanceof wp),_p(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Gt.D)(i).pipe((0,$h.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):st(null);const a=i.pipe((0,rr.z)(u=>null===u?st(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Gt.D)([a,u]).pipe((0,$h.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(JV),l.LFG(mk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _k=new l.OlP("");let e2=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof JR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new wV(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function r_(n,e){return{\u0275kind:n,\u0275providers:e}}function yk(n){return[{provide:pk,multi:!0,useValue:n}]}function n2(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(yr),i=n.get(r2);1===n.get(vk)&&r.initialNavigation(),n.get(s2,null,l.XFs.Optional)?.setUpPreloading(),n.get(_k,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const r2=new l.OlP("",{factory:()=>new St.x}),vk=new l.OlP("",{providedIn:"root",factory:()=>1});const s2=new l.OlP("");function Zq(n){return r_(0,[{provide:s2,useExisting:$q},{provide:JV,useExisting:n}])}const o2=new l.OlP("ROUTER_FORROOT_GUARD"),Wq=[Oe,{provide:uV,useClass:ZR},{provide:yr,useFactory:QV},Ub,{provide:Qd,useFactory:function t2(n){return n.routerState.root},deps:[yr]},mk];function Yq(){return new l.PXZ("Router",yr)}let a2=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Wq,[],yk(t),{provide:o2,useFactory:Jq,deps:[[yr,new l.FiY,new l.tp0]]},{provide:uI,useValue:r||{}},r?.useHash?{provide:be,useClass:Ke}:{provide:be,useClass:et},{provide:_k,useFactory:()=>{const n=(0,l.f3M)(yr),e=(0,l.f3M)(Su),t=(0,l.f3M)(uI);return t.scrollOffset&&e.setOffset(t.scrollOffset),new e2(n,e,t)}},r?.preloadingStrategy?Zq(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Yq},r?.initialNavigation?e4(r):[],[{provide:l2,useFactory:n2},{provide:l.tb,multi:!0,useExisting:l2}]]}}static forChild(t){return{ngModule:n,providers:[yk(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(o2,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ak]}),n})();function Jq(n){return"guarded"}function e4(n){return["disabled"===n.initialNavigation?r_(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(yr);return()=>{e.setUpLocationChangeListener()}}},{provide:vk,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?r_(2,[{provide:vk,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(yr),h=e.get(r2);(function i(a){e.get(yr).events.pipe(gn(h=>h instanceof wp||h instanceof eI||h instanceof bV),(0,yt.U)(h=>h instanceof wp||h instanceof eI&&(0===h.code||1===h.code)&&null),gn(h=>null!==h),ir(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||h.closed?st(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const l2=new l.OlP(""),c2="firebasestorage.googleapis.com",u2="storageBucket";class vr extends Zt.ZR{constructor(e,t,r=0){super(bk(e),`Firebase Storage: ${t} (${bk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function bk(n){return"storage/"+n}function wk(){return new vr("unknown","An unknown error occurred, please check the error payload for server response.")}function d2(){return new vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function h2(){return new vr("canceled","User canceled the upload/download.")}function f2(){return new vr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function i_(n){return new vr("invalid-argument",n)}function p2(){return new vr("app-deleted","The Firebase app was deleted.")}function m2(n){return new vr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qb(n,e){return new vr("invalid-format","String does not match format '"+n+"': "+e)}function Zb(n){throw new vr("internal-error","Internal error: "+n)}class Xi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xi.makeFromUrl(e,t)}catch{return new Xi(e,"")}if(""===r.path)return r;throw function d4(n){return new vr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const T=t.replace(/[.]/g,"\\."),Je=[{regex:h,indices:{bucket:1,path:3},postModify:function a(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===c2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<Je.length;We++){const Et=Je[We],At=Et.regex.exec(e);if(At){let Hr=At[Et.indices.path];Hr||(Hr=""),r=new Xi(At[Et.indices.bucket],Hr),Et.postModify(r);break}}if(null==r)throw function u4(n){return new vr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class g4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function pI(n){return"string"==typeof n||n instanceof String}function g2(n){return Ck()&&n instanceof Blob}function Ck(){return typeof Blob<"u"&&!(0,Zt.UG)()}function Ek(n,e,t,r){if(r<e)throw i_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw i_(`Invalid value for '${n}'. Expected ${t} or less.`)}function mu(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function _2(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Xd=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Xd||(Xd={})),Xd))();function y2(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class C4{constructor(e,t,r,i,a,u,h,g,v,E,T,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=E,this.connectionFactory_=T,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,G)=>{this.resolve_=V,this.reject_=G,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function v4(n){return void 0!==n}(g)?a():a(g)}catch(g){u(g)}else if(null!==h){const g=wk();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(i.canceled?this.appDelete_?p2():h2():d2())};this.canceled_?t(0,new mI(!1,null,!0)):this.backoffId_=function _4(n,e,t){let r=1,i=null,a=null,u=!1,h=0;function g(){return 2===h}let v=!1;function E(...ie){v||(v=!0,e.apply(null,ie))}function T(ie){i=setTimeout(()=>{i=null,n(V,g())},ie)}function P(){a&&clearTimeout(a)}function V(ie,...$e){if(v)return void P();if(ie)return P(),void E.call(null,ie,...$e);if(g()||u)return P(),void E.call(null,ie,...$e);let Je;r<64&&(r*=2),1===h?(h=2,Je=0):Je=1e3*(r+Math.random()),T(Je)}let G=!1;function Q(ie){G||(G=!0,P(),!v&&(null!==i?(ie||(h=2),clearTimeout(i),T(0)):ie||(h=1)))}return T(0),a=setTimeout(()=>{u=!0,Q(!0)},t),Q}((r,i)=>{if(i)return void r(!1,new mI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Xd.NO_ERROR,g=a.getStatus();if((!h||y2(g,this.additionalRetryCodes_))&&this.retry){const E=a.getErrorCode()===Xd.ABORT;return void r(!1,new mI(!1,null,E))}const v=-1!==this.successCodes_.indexOf(g);r(!0,new mI(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function y4(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function M4(...n){const e=function A4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Ck())return new Blob(n);throw new vr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const _o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dk{constructor(e,t){this.data=e,this.contentType=t||null}}function Ik(n,e){switch(n){case _o.RAW:return new Dk(v2(e));case _o.BASE64:case _o.BASE64URL:return new Dk(b2(n,e));case _o.DATA_URL:return new Dk(function O4(n){const e=new w2(n);return e.base64?b2(_o.BASE64,e.rest):function k4(n){let e;try{e=decodeURIComponent(n)}catch{throw qb(_o.DATA_URL,"Malformed data URL.")}return v2(e)}(e.rest)}(e),function P4(n){return new w2(n).contentType}(e))}throw wk()}function v2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function b2(n,e){switch(n){case _o.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw qb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _o.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw qb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function R4(n){if(typeof atob>"u")throw function m4(n){return new vr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:qb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class w2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qb(_o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function N4(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Jl{constructor(e,t){let r=0,i="";g2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(g2(this.data_)){const i=function x4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Jl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Jl(r,!0)}}static getBlob(...e){if(Ck()){const t=e.map(r=>r instanceof Jl?r.data_:r);return new Jl(M4.apply(null,t))}{const t=e.map(u=>pI(u)?Ik(_o.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[a++]=u[h]}),new Jl(i,!0)}}uploadData(){return this.data_}}function Sk(n){let e;try{e=JSON.parse(n)}catch{return null}return function w4(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function C2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function B4(n,e){return e}class Cs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||B4}}let gI=null;function Wb(){if(gI)return gI;const n=[];n.push(new Cs("bucket")),n.push(new Cs("generation")),n.push(new Cs("metageneration")),n.push(new Cs("name","fullPath",!0));const t=new Cs("name");t.xform=function e(a,u){return function V4(n){return!pI(n)||n.length<2?n:C2(n)}(u)},n.push(t);const i=new Cs("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new Cs("timeCreated")),n.push(new Cs("updated")),n.push(new Cs("md5Hash",null,!0)),n.push(new Cs("cacheControl",null,!0)),n.push(new Cs("contentDisposition",null,!0)),n.push(new Cs("contentEncoding",null,!0)),n.push(new Cs("contentLanguage",null,!0)),n.push(new Cs("contentType",null,!0)),n.push(new Cs("metadata","customMetadata",!0)),gI=n,gI}function E2(n,e,t){const r=Sk(e);return null===r?null:function H4(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function U4(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Xi(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function Tk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const D2="prefixes";class ec{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tc(n){if(!n)throw wk()}function _I(n,e){return function t(r,i){const a=E2(n,i,e);return tc(null!==a),a}}function s_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function l4(){return new vr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function a4(){return new vr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function o4(n){return new vr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function c4(n){return new vr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Yb(n){const e=s_(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function s4(n){return new vr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function S2(n,e,t){const i=mu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ec(i,"GET",_I(n,t),u);return h.errorHandler=Yb(e),h}function Z4(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const h=mu(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,E=new ec(h,"GET",function z4(n,e){return function t(r,i){const a=function G4(n,e,t){const r=Sk(t);return null===r?null:function $4(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[D2])for(const i of t[D2]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new Xi(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new Xi(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return tc(null!==a),a}}(n,e.bucket),v);return E.urlParams=a,E.errorHandler=s_(e),E}function A2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Q4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class yI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Ak(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{tc(!1)}return tc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const tZ={STATE_CHANGED:"state_changed"},Es={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Mk(n){switch(n){case"running":case"pausing":case"canceling":return Es.RUNNING;case"paused":return Es.PAUSED;case"success":return Es.SUCCESS;case"canceled":return Es.CANCELED;default:return Es.ERROR}}class nZ{constructor(e,t,r){if(function b4(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function o_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class iZ extends class rZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function sl(){return new iZ}class k2{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(y2(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=d2()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function X4(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=A2(e,r,i),h={name:u.fullPath},g=mu(a,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},T=Tk(u,t),G=new ec(g,"POST",function V(Q){let ie;Ak(Q);try{ie=Q.getResponseHeader("X-Goog-Upload-URL")}catch{tc(!1)}return tc(pI(ie)),ie},n.maxUploadRetryTime);return G.urlParams=h,G.headers=E,G.body=T,G.errorHandler=s_(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,sl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function J4(n,e,t,r){const g=new ec(t,"POST",function a(v){const E=Ak(v,["active","final"]);let T=null;try{T=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tc(!1)}T||tc(!1);const P=Number(T);return tc(!isNaN(P)),new yI(P,r.size(),"final"===E)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=s_(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,sl,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new yI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function eZ(n,e,t,r,i,a,u,h){const g=new yI(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function f4(){return new vr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let E=v;i>0&&(E=Math.min(E,i));const T=g.current;let V="";V=0===E?"finalize":v===E?"upload, finalize":"upload";const G={"X-Goog-Upload-Command":V,"X-Goog-Upload-Offset":`${g.current}`},Q=r.slice(T,T+E);if(null===Q)throw f2();const Je=new ec(t,"POST",function ie(We,Et){const At=Ak(We,["active","final"]),on=g.current+E,Hr=r.size();let bo;return bo="final"===At?_I(e,a)(We,Et):null,new yI(on,Hr,"final"===At,bo)},e.maxUploadRetryTime);return Je.headers=G,Je.body=Q.uploadData(),Je.progressCallback=h||null,Je.errorHandler=s_(n),Je}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,sl,i,a,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=S2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,sl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function M2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let Je="";for(let We=0;We<2;We++)Je+=Math.random().toString().slice(2);return Je}();u["Content-Type"]="multipart/related; boundary="+g;const v=A2(e,r,i),E=Tk(v,t),V=Jl.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===V)throw f2();const G={name:v.fullPath},Q=mu(a,n.host,n._protocol),$e=n.maxUploadRetryTime,Xe=new ec(Q,"POST",_I(n,t),$e);return Xe.urlParams=G,Xe.headers=u,Xe.body=V.uploadData(),Xe.errorHandler=s_(e),Xe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,sl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=h2(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Mk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new nZ(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Mk(this._state)){case Es.SUCCESS:o_(this._resolve.bind(null,this.snapshot))();break;case Es.CANCELED:case Es.ERROR:o_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mk(this._state)){case Es.RUNNING:case Es.PAUSED:e.next&&o_(e.next.bind(e,this.snapshot))();break;case Es.SUCCESS:e.complete&&o_(e.complete.bind(e))();break;default:e.error&&o_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Cp{constructor(e,t){this._service=e,this._location=t instanceof Xi?t:Xi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cp(e,t)}get root(){const e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C2(this._location.path)}get storage(){return this._service}get parent(){const e=function F4(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Xi(this._location.bucket,e);return new Cp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw m2(e)}}function P2(n,e,t){return xk.apply(this,arguments)}function xk(){return xk=(0,we.Z)(function*(n,e,t){const i=yield N2(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield P2(n,e,i.nextPageToken))}),xk.apply(this,arguments)}function N2(n,e){null!=e&&"number"==typeof e.maxResults&&Ek("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Z4(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,sl)}function gZ(n){n._throwIfRoot("getDownloadURL");const e=function W4(n,e,t){const i=mu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new ec(i,"GET",function q4(n,e){return function t(r,i){const a=E2(n,i,e);return tc(null!==a),function j4(n,e,t,r){const i=Sk(e);if(null===i||!pI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const T=n.fullPath;return mu("/b/"+u(n.bucket)+"/o/"+u(T),t,r)+_2({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=Yb(e),h}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,sl).then(t=>{if(null===t)throw function p4(){return new vr("no-download-url","The given file does not have any download URLs.")}();return t})}function F2(n,e){const t=function L4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Xi(n._location.bucket,t);return new Cp(n.storage,r)}function L2(n,e){if(n instanceof Rk){const t=n;if(null==t._bucket)throw function h4(){return new vr("no-default-bucket","No default bucket found. Did you set the '"+u2+"' property when initializing the app?")}();const r=new Cp(t,t._bucket);return null!=e?L2(r,e):r}return void 0!==e?F2(n,e):n}function bZ(n,e){if(e&&function yZ(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Rk)return function vZ(n,e){return new Cp(n,e)}(n,e);throw i_("To use ref(service, url), the first argument must be a Storage instance.")}return L2(n,e)}function B2(n,e){const t=e?.[u2];return null==t?null:Xi.makeFromBucketSpec(t,n)}class Rk{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=c2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Xi.makeFromBucketSpec(i,this._host):B2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xi.makeFromBucketSpec(this._url,e):B2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ek("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cp(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new g4(p2());{const u=function T4(n,e,t,r,i,a,u=!0){const h=_2(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function I4(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function E4(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function D4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function S4(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new C4(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,we.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const V2="@firebase/storage";function j2(n,e){return bZ(n=(0,Zt.m9)(n),e)}function xZ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Rk(t,r,i,e,Ls.SDK_VERSION)}!function RZ(){(0,Ls._registerComponent)(new Yc.wA("storage",xZ,"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(V2,"0.9.14",""),(0,Ls.registerVersion)(V2,"0.9.14","esm2017")}();class vI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new vI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new vI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new vI(u,this,this._ref)):{next:t.next?u=>t.next(new vI(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class z2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new gu(e,this._service))}get items(){return this._delegate.items.map(e=>new gu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function MZ(n,e){return F2(n,e)}(this._delegate,e);return new gu(t,this.storage)}get root(){return new gu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new G2(function CZ(n,e,t){return function dZ(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new k2(n,new Jl(e),t)}(n=(0,Zt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=_o.RAW,r){this._throwIfRoot("putString");const i=Ik(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new G2(new k2(this._delegate,new Jl(i.data,!0),a),this)}listAll(){return function SZ(n){return function fZ(n){const e={prefixes:[],items:[]};return P2(n,e).then(()=>e)}(n=(0,Zt.m9)(n))}(this._delegate).then(e=>new z2(e,this.storage))}list(e){return function IZ(n,e){return N2(n=(0,Zt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new z2(t,this.storage))}getMetadata(){return function EZ(n){return function pZ(n){n._throwIfRoot("getMetadata");const e=S2(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,sl)}(n=(0,Zt.m9)(n))}(this._delegate)}updateMetadata(e){return function DZ(n,e){return function mZ(n,e){n._throwIfRoot("updateMetadata");const t=function Y4(n,e,t,r){const a=mu(e.fullServerUrl(),n.host,n._protocol),h=Tk(t,r),v=n.maxOperationRetryTime,E=new ec(a,"PATCH",_I(n,r),v);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=Yb(e),E}(n.storage,n._location,e,Wb());return n.storage.makeRequestWithTokens(t,sl)}(n=(0,Zt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function TZ(n){return gZ(n=(0,Zt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function AZ(n){return function _Z(n){n._throwIfRoot("deleteObject");const e=function K4(n,e){const r=mu(e.fullServerUrl(),n.host,n._protocol),h=new ec(r,"DELETE",function u(g,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Yb(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,sl)}(n=(0,Zt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw m2(e)}}class q2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Z2(e))throw i_("ref() expected a child path but got a URL, use refFromURL instead.");return new gu(j2(this._delegate,e),this)}refFromURL(e){if(!Z2(e))throw i_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xi.makeFromUrl(e,this._delegate.host)}catch{throw i_("refFromUrl() expected a valid full URL but got an invalid one.")}return new gu(j2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function $2(n,e,t,r={}){!function wZ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Zt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Z2(n){return/^[A-Za-z]+:\/\//.test(n)}function NZ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new q2(t,r)}function W2(n){const e=function LZ(n){return new Er.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(Xo(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,yt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function bI(n){return{getDownloadURL:()=>st(void 0).pipe(Wn.fc,sr(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>st(void 0).pipe(Wn.fc,sr(()=>n.getMetadata()),Wn.iC),delete:()=>(0,Gt.D)(n.delete()),child:e=>bI(n.child(e)),updateMetadata:e=>(0,Gt.D)(n.updateMetadata(e)),put:(e,t)=>W2(n.put(e,t)),putString:(e,t,r)=>W2(n.putString(e,t,r)),list:e=>(0,Gt.D)(n.list(e)),listAll:()=>(0,Gt.D)(n.listAll())}}!function FZ(n){const e={TaskState:Es,TaskEvent:tZ,StringFormat:_o,Storage:q2,Reference:gu};n.INTERNAL.registerComponent(new Yc.wA("storage-compat",NZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.22")}(fv.Z);const BZ=new l.OlP("angularfire2.storageBucket"),VZ=new l.OlP("angularfire2.storage.maxUploadRetryTime"),UZ=new l.OlP("angularfire2.storage.maxOperationRetryTime"),HZ=new l.OlP("angularfire2.storage.use-emulator");let Y2=(()=>{class n{constructor(t,r,i,a,u,h,g,v,E,T){const P=(0,ki.on)(t,u,r);this.storage=(0,ki.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const V=u.runOutsideAngular(()=>P.storage(i||void 0)),G=E;return G&&V.useEmulator(...G),g&&V.setMaxUploadRetryTime(g),v&&V.setMaxOperationRetryTime(v),V},[g,v])}ref(t){return bI(this.storage.ref(t))}refFromURL(t){return bI(this.storage.refFromURL(t))}upload(t,r,i){return bI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ki.Dh),l.LFG(ki.xv,8),l.LFG(BZ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wn.HU),l.LFG(VZ,8),l.LFG(UZ,8),l.LFG(HZ,8),l.LFG(qD,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),$Z=(()=>{class n{constructor(){VR.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Y2],imports:[jZ]}),n})(),K2=(()=>{class n{constructor(t,r){this.storage=t,this.notification=r}uploadFoto(t){const r=this.storage.upload(`fotos/${Date.now()}`,t);return(0,Gt.D)(r).pipe(_i(i=>(this.notification.showMessage("Erro no envio do arquivo."),console.error(i),Ir.E)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Y2),l.LFG(Fs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var GZ=F(8247);let kk=(()=>{class n{constructor(t,r){this.firebaseAuth=t,this.notification=r}authenticateByGoogle(){const t=new GZ.Q,r=this.firebaseAuth.signInWithPopup(t);return(0,Gt.D)(r).pipe(_i(i=>(this.notification.showMessage("Erro ao autenticar com Google."),console.error(i),Ir.E)))}authenticateByEmailAndPassword(t){const{email:r,senha:i}=t,a=this.firebaseAuth.signInWithEmailAndPassword(r,i);return(0,Gt.D)(a).pipe(_i(u=>("auth/user-not-found"==u.code?this.notification.showMessage("Usu\xe1rio n\xe3o cadastrado."):"auth/wrong-password"==u.code?this.notification.showMessage("Senha incorreta."):(this.notification.showMessage("Erro ao autenticar."),console.error(u)),Ir.E)))}createUserEmailAndPassword(t){const{email:r,senha:i}=t,a=this.firebaseAuth.createUserWithEmailAndPassword(r,i);return(0,Gt.D)(a).pipe(_i(u=>(alert("Erro ao cadastrar usu\xe1rio."),console.error(u),Ir.E)))}logout(){const t=this.firebaseAuth.signOut();return(0,Gt.D)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rb),l.LFG(Fs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wI=(()=>{class n{constructor(t,r,i){this.authService=t,this.notification=r,this.router=i}ngOnInit(){}logout(){this.authService.logout().subscribe(t=>{this.notification.showMessage("At\xe9 logo!"),this.router.navigate(["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(kk),l.Y36(Fs),l.Y36(yr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:16,vars:1,consts:[[1,"mat-elevation-z8"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"material-icons"],["menu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","/dashboard"],["mat-menu-item","","id","logout",3,"click"]],template:function(t,r){if(1&t&&(l.TgZ(0,"mat-toolbar",0)(1,"span"),l._uU(2,"Collaborators"),l.qZA(),l.TgZ(3,"button",1)(4,"i",2),l._uU(5,"menu"),l.qZA()(),l.TgZ(6,"mat-menu",null,3)(8,"a",4),l._uU(9,"Home"),l.qZA(),l.TgZ(10,"a",5),l._uU(11,"Painel de Controle"),l.qZA(),l.TgZ(12,"a",6),l.NdJ("click",function(){return r.logout()}),l._uU(13,"Sair "),l.TgZ(14,"i",2),l._uU(15,"logout"),l.qZA()()()()),2&t){const i=l.MAs(7);l.xp6(3),l.Q6J("matMenuTriggerFor",i)}},dependencies:[pu,AP,iy,ym,vm,Fl],styles:["mat-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:fixed;top:0}#logout[_ngcontent-%COMP%]{display:flex;align-items:center}#logout[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px}"]}),n})();function zZ(n,e){1&n&&l._UZ(0,"mat-progress-bar",18)}let qZ=(()=>{class n{constructor(t,r,i,a,u){this.notification=t,this.collaboratorService=r,this.router=i,this.route=a,this.uploadService=u,this.isLoadUpload=!1}ngOnInit(){this.initilizeFields()}initilizeFields(){this.collaboratorService.findById(this.route.snapshot.params.id).subscribe(r=>{this.collaborator=r})}updateCollaborator(t){t.valid?this.collaboratorService.updateCollaborator(this.collaborator).subscribe(r=>{this.notification.showMessage("Atualizado com sucesso."),this.router.navigate(["/dashboard"])}):this.notification.showMessage("Dados inv\xe1lidos.")}uploadFile(t){this.isLoadUpload=!0,this.uploadService.uploadFoto(t.target.files[0]).subscribe(i=>{this.isLoadUpload=!1,i.ref.getDownloadURL().then(h=>{this.collaborator.fotoUrl=h})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fs),l.Y36(jR),l.Y36(yr),l.Y36(Qd),l.Y36(K2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-collaborator"]],decls:54,vars:10,consts:[[1,"container"],["formEdit","ngForm"],["appearance","outline",1,"full-width"],["type","text","matInput","","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],[1,"double-width"],["type","text","matInput","","placeholder","CPF","name","cpf","required","",3,"ngModel","ngModelChange"],["type","date","matInput","","placeholder","Data de Nascimento","name","dataNascimento","required","",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Cargo","name","cargo","required","",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Setor","name","setor","required","",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Estado","name","estado","required","",3,"ngModel","ngModelChange"],["type","text","matInput","","placeholder","Cidade","name","cidade","required","",3,"ngModel","ngModelChange"],["type","number","matInput","","placeholder","Remunera\xe7\xe3o (R$)","name","remuneracao","required","","min","0",3,"ngModel","ngModelChange"],["type","email","matInput","","placeholder","E-mail","name","email","required","","email","",3,"ngModel","ngModelChange"],["for","foto"],["type","file",1,"upload-photo",3,"change"],["mode","indeterminate",4,"ngIf"],["mat-raised-button","",1,"full-width","btn-submit",3,"click"],["mat-raised-button","","routerLink","/dashboard",1,"full-width","btn-close"],["mode","indeterminate"]],template:function(t,r){if(1&t){const i=l.EpF();l._UZ(0,"app-header"),l.TgZ(1,"div",0)(2,"h1"),l._uU(3,"Editar colaborador"),l.qZA(),l.TgZ(4,"form",null,1)(6,"mat-form-field",2)(7,"mat-label"),l._uU(8,"Nome"),l.qZA(),l.TgZ(9,"input",3),l.NdJ("ngModelChange",function(u){return r.collaborator.nome=u}),l.qZA()(),l.TgZ(10,"div",4)(11,"mat-form-field",2)(12,"mat-label"),l._uU(13,"CPF"),l.qZA(),l.TgZ(14,"input",5),l.NdJ("ngModelChange",function(u){return r.collaborator.cpf=u}),l.qZA()(),l.TgZ(15,"mat-form-field",2)(16,"mat-label"),l._uU(17,"Data de Nascimento"),l.qZA(),l.TgZ(18,"input",6),l.NdJ("ngModelChange",function(u){return r.collaborator.dataNascimento=u}),l.qZA()()(),l.TgZ(19,"div",4)(20,"mat-form-field",2)(21,"mat-label"),l._uU(22,"Cargo"),l.qZA(),l.TgZ(23,"input",7),l.NdJ("ngModelChange",function(u){return r.collaborator.cargo=u}),l.qZA()(),l.TgZ(24,"mat-form-field",2)(25,"mat-label"),l._uU(26,"Setor"),l.qZA(),l.TgZ(27,"input",8),l.NdJ("ngModelChange",function(u){return r.collaborator.setor=u}),l.qZA()()(),l.TgZ(28,"div",4)(29,"mat-form-field",2)(30,"mat-label"),l._uU(31,"Estado"),l.qZA(),l.TgZ(32,"input",9),l.NdJ("ngModelChange",function(u){return r.collaborator.estado=u}),l.qZA()(),l.TgZ(33,"mat-form-field",2)(34,"mat-label"),l._uU(35,"Cidade"),l.qZA(),l.TgZ(36,"input",10),l.NdJ("ngModelChange",function(u){return r.collaborator.cidade=u}),l.qZA()()(),l.TgZ(37,"mat-form-field",2)(38,"mat-label"),l._uU(39,"Remunera\xe7\xe3o (R$)"),l.qZA(),l.TgZ(40,"input",11),l.NdJ("ngModelChange",function(u){return r.collaborator.remuneracao=u}),l.qZA()(),l.TgZ(41,"mat-form-field",2)(42,"mat-label"),l._uU(43,"E-mail"),l.qZA(),l.TgZ(44,"input",12),l.NdJ("ngModelChange",function(u){return r.collaborator.email=u}),l.qZA()(),l.TgZ(45,"label",13),l._uU(46,"Selecione uma foto"),l.qZA(),l.TgZ(47,"input",14),l.NdJ("change",function(u){return r.uploadFile(u)}),l.qZA(),l.YNc(48,zZ,1,0,"mat-progress-bar",15),l.TgZ(49,"div",4)(50,"button",16),l.NdJ("click",function(){l.CHM(i);const u=l.MAs(5);return l.KtG(r.updateCollaborator(u))}),l._uU(51,"Editar"),l.qZA(),l.TgZ(52,"a",17),l._uU(53,"Cancelar"),l.qZA()()()()}2&t&&(l.xp6(9),l.Q6J("ngModel",r.collaborator.nome),l.xp6(5),l.Q6J("ngModel",r.collaborator.cpf),l.xp6(4),l.Q6J("ngModel",r.collaborator.dataNascimento),l.xp6(5),l.Q6J("ngModel",r.collaborator.cargo),l.xp6(4),l.Q6J("ngModel",r.collaborator.setor),l.xp6(5),l.Q6J("ngModel",r.collaborator.estado),l.xp6(4),l.Q6J("ngModel",r.collaborator.cidade),l.xp6(4),l.Q6J("ngModel",r.collaborator.remuneracao),l.xp6(4),l.Q6J("ngModel",r.collaborator.email),l.xp6(4),l.Q6J("ngIf",r.isLoadUpload))},dependencies:[xn,pu,vd,Vl,vf,ud,dd,wf,$m,Xy,Uy,_d,Fl,Hh,qC,$l,KC,XC,wI],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.double-width[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.double-width[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:48%}.btn-submit[_ngcontent-%COMP%]{margin-top:30px;background-color:#6b98f1;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#587dc8}.btn-close[_ngcontent-%COMP%]{margin-top:30px;background-color:#ca5656;color:#fff}.btn-close[_ngcontent-%COMP%]:hover{background-color:#aa4747}.upload-photo[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #BABABA;border-radius:5px;cursor:pointer}.upload-photo[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}"]}),n})();function ZZ(n,e){1&n&&l._UZ(0,"mat-progress-bar",18)}let WZ=(()=>{class n{constructor(t,r,i,a,u){this.notification=r,this.collaboratorService=i,this.router=a,this.uploadService=u,this.isLoadUpload=!1,this.fotoUrl="",this.formCollaborator=t.group({nome:["",[Lr.required]],cpf:["",[Lr.required]],dataNascimento:["",[Lr.required]],cargo:["",[Lr.required]],setor:["",[Lr.required]],estado:["",[Lr.required]],cidade:["",[Lr.required]],remuneracao:["",[Lr.required,Lr.min(0)]],email:["",[Lr.required,Lr.email]]})}ngOnInit(){}createCollaborator(){if(this.formCollaborator.valid){const t=this.formCollaborator.value;t.fotoUrl=this.fotoUrl,this.collaboratorService.createCollaborator(t).subscribe(r=>{this.notification.showMessage("Cadastrado com sucesso."),this.router.navigate(["/dashboard"])})}else this.notification.showMessage("Dados inv\xe1lidos.")}uploadFile(t){this.isLoadUpload=!0,this.uploadService.uploadFoto(t.target.files[0]).subscribe(i=>{this.isLoadUpload=!1,i.ref.getDownloadURL().then(h=>{this.fotoUrl=h})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zm),l.Y36(Fs),l.Y36(jR),l.Y36(yr),l.Y36(K2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-new-collaborator"]],decls:53,vars:2,consts:[[1,"container"],[3,"formGroup"],["appearance","outline",1,"full-width"],["type","text","matInput","","placeholder","Nome","formControlName","nome"],[1,"double-width"],["type","text","matInput","","placeholder","CPF","formControlName","cpf"],["type","date","matInput","","placeholder","Data de Nascimento","formControlName","dataNascimento"],["type","text","matInput","","placeholder","Cargo","formControlName","cargo"],["type","text","matInput","","placeholder","Setor","formControlName","setor"],["type","text","matInput","","placeholder","Estado","formControlName","estado"],["type","text","matInput","","placeholder","Cidade","formControlName","cidade"],["type","number","matInput","","placeholder","Remunera\xe7\xe3o (R$)","formControlName","remuneracao"],["type","email","matInput","","placeholder","E-mail","formControlName","email"],["for","foto"],["type","file",1,"upload-photo",3,"change"],["mode","indeterminate",4,"ngIf"],["mat-raised-button","",1,"full-width","btn-submit",3,"click"],["mat-raised-button","","routerLink","/dashboard",1,"full-width","btn-close"],["mode","indeterminate"]],template:function(t,r){1&t&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0)(2,"h1"),l._uU(3,"Novo colaborador"),l.qZA(),l.TgZ(4,"form",1)(5,"mat-form-field",2)(6,"mat-label"),l._uU(7,"Nome"),l.qZA(),l._UZ(8,"input",3),l.qZA(),l.TgZ(9,"div",4)(10,"mat-form-field",2)(11,"mat-label"),l._uU(12,"CPF"),l.qZA(),l._UZ(13,"input",5),l.qZA(),l.TgZ(14,"mat-form-field",2)(15,"mat-label"),l._uU(16,"Data de Nascimento"),l.qZA(),l._UZ(17,"input",6),l.qZA()(),l.TgZ(18,"div",4)(19,"mat-form-field",2)(20,"mat-label"),l._uU(21,"Cargo"),l.qZA(),l._UZ(22,"input",7),l.qZA(),l.TgZ(23,"mat-form-field",2)(24,"mat-label"),l._uU(25,"Setor"),l.qZA(),l._UZ(26,"input",8),l.qZA()(),l.TgZ(27,"div",4)(28,"mat-form-field",2)(29,"mat-label"),l._uU(30,"Estado"),l.qZA(),l._UZ(31,"input",9),l.qZA(),l.TgZ(32,"mat-form-field",2)(33,"mat-label"),l._uU(34,"Cidade"),l.qZA(),l._UZ(35,"input",10),l.qZA()(),l.TgZ(36,"mat-form-field",2)(37,"mat-label"),l._uU(38,"Remunera\xe7\xe3o (R$)"),l.qZA(),l._UZ(39,"input",11),l.qZA(),l.TgZ(40,"mat-form-field",2)(41,"mat-label"),l._uU(42,"E-mail"),l.qZA(),l._UZ(43,"input",12),l.qZA(),l.TgZ(44,"label",13),l._uU(45,"Selecione uma foto"),l.qZA(),l.TgZ(46,"input",14),l.NdJ("change",function(a){return r.uploadFile(a)}),l.qZA(),l.YNc(47,ZZ,1,0,"mat-progress-bar",15),l.TgZ(48,"div",4)(49,"button",16),l.NdJ("click",function(){return r.createCollaborator()}),l._uU(50,"Cadastrar"),l.qZA(),l.TgZ(51,"a",17),l._uU(52,"Cancelar"),l.qZA()()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.formCollaborator),l.xp6(43),l.Q6J("ngIf",r.isLoadUpload))},dependencies:[xn,pu,vd,Vl,vf,ud,dd,Wc,bf,Fl,Hh,qC,$l,KC,XC,wI],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.double-width[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.double-width[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:48%}.btn-submit[_ngcontent-%COMP%]{margin-top:30px;background-color:#6b98f1;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#587dc8}.btn-close[_ngcontent-%COMP%]{margin-top:30px;background-color:#ca5656;color:#fff}.btn-close[_ngcontent-%COMP%]:hover{background-color:#aa4747}.upload-photo[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #BABABA;border-radius:5px;cursor:pointer}.upload-photo[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}"]}),n})(),Q2=(()=>{class n{transform(t){return null==t||null==t||""==t?"assets/images/avatar.png":t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"avatar",type:n,pure:!0}),n})(),YZ=(()=>{class n{constructor(t){this.collaborator=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-details"]],decls:40,vars:12,consts:[[1,"dialog-container"],["mat-icon-button","","mat-dialog-close",""],[1,"material-icons"],["alt","Avatar",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1)(2,"i",2),l._uU(3,"close"),l.qZA()(),l._UZ(4,"img",3),l.ALo(5,"avatar"),l.TgZ(6,"h3"),l._uU(7),l.qZA(),l.TgZ(8,"span")(9,"strong"),l._uU(10,"CPF:"),l.qZA(),l._uU(11),l.qZA(),l.TgZ(12,"span")(13,"strong"),l._uU(14,"Data de Nascimento:"),l.qZA(),l._uU(15),l.qZA(),l.TgZ(16,"span")(17,"strong"),l._uU(18,"Cargo:"),l.qZA(),l._uU(19),l.qZA(),l.TgZ(20,"span")(21,"strong"),l._uU(22,"Setor:"),l.qZA(),l._uU(23),l.qZA(),l.TgZ(24,"span")(25,"strong"),l._uU(26,"Estado:"),l.qZA(),l._uU(27),l.qZA(),l.TgZ(28,"span")(29,"strong"),l._uU(30,"Cidade:"),l.qZA(),l._uU(31),l.qZA(),l.TgZ(32,"span")(33,"strong"),l._uU(34,"E-mail:"),l.qZA(),l._uU(35),l.qZA(),l.TgZ(36,"span")(37,"strong"),l._uU(38,"Remunera\xe7\xe3o:"),l.qZA(),l._uU(39),l.qZA()()),2&t&&(l.xp6(4),l.s9C("src",l.lcZ(5,10,r.collaborator.fotoUrl),l.LSH),l.xp6(3),l.Oqu(r.collaborator.nome),l.xp6(4),l.hij(" ",r.collaborator.cpf,""),l.xp6(4),l.hij(" ",r.collaborator.dataNascimento,""),l.xp6(4),l.hij(" ",r.collaborator.cargo,""),l.xp6(4),l.hij(" ",r.collaborator.setor,""),l.xp6(4),l.hij(" ",r.collaborator.estado,""),l.xp6(4),l.hij(" ",r.collaborator.cidade,""),l.xp6(4),l.hij(" ",r.collaborator.email,""),l.xp6(4),l.hij(" R$",r.collaborator.remuneracao,""))},dependencies:[Fl,u1,Q2],styles:[".dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:60px;margin:0 auto}.dialog-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:20px}.dialog-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;line-height:25px}"]}),n})();function KZ(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Foto "),l.qZA())}function QZ(n,e){if(1&n&&(l.TgZ(0,"td",19),l._UZ(1,"img",20),l.ALo(2,"avatar"),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.s9C("src",l.lcZ(2,1,t.fotoUrl),l.LSH)}}function XZ(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Nome "),l.qZA())}function JZ(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.nome," ")}}function eW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," E-mail "),l.qZA())}function tW(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.email," ")}}function nW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," CPF "),l.qZA())}function rW(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.cpf," ")}}function iW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Cargo "),l.qZA())}function sW(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.cargo," ")}}function oW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Setor "),l.qZA())}function aW(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.setor," ")}}function lW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Excluir "),l.qZA())}function cW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",19)(1,"button",21),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.deleteCollaborator(a.id))}),l.TgZ(2,"i",17),l._uU(3,"delete"),l.qZA()()()}}function uW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Editar "),l.qZA())}const dW=function(n){return["/dashboard/edit",n]};function hW(n,e){if(1&n&&(l.TgZ(0,"td",19)(1,"a",22)(2,"i",17),l._uU(3,"edit"),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("routerLink",l.VKq(1,dW,t.id))}}function fW(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1," Detalhes "),l.qZA())}function pW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",19)(1,"button",21),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.openDetails(a))}),l.TgZ(2,"i",17),l._uU(3,"more_horiz"),l.qZA()()()}}function mW(n,e){1&n&&l._UZ(0,"tr",23)}function gW(n,e){1&n&&l._UZ(0,"tr",24)}let _W=(()=>{class n{constructor(t,r,i){this.collaboratorService=t,this.notification=r,this.dialog=i,this.displayedColumns=["foto","nome","email","cpf","cargo","setor","excluir","editar","detalhes"],this.dataSource=[]}ngOnInit(){this.initializeTable()}initializeTable(){this.collaboratorService.findAll().subscribe(t=>{this.dataSource=t})}deleteCollaborator(t){this.collaboratorService.deleteCollaborator(t).subscribe(r=>{this.notification.showMessage("Apagado."),this.initializeTable()})}openDetails(t){this.dialog.open(YZ,{width:"400px",data:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(jR),l.Y36(Fs),l.Y36(Cd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:38,vars:4,consts:[[1,"container"],["tabindex","0",1,"table-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","foto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nome"],["matColumnDef","email"],["matColumnDef","cpf"],["matColumnDef","cargo"],["matColumnDef","setor"],["matColumnDef","excluir"],["matColumnDef","editar"],["matColumnDef","detalhes"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-fab","","routerLink","/dashboard/new",1,"btn-new"],[1,"material-icons"],["mat-header-cell",""],["mat-cell",""],["alt","Avatar",1,"avatar",3,"src"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0)(2,"h1"),l._uU(3,"Painel de Controle"),l.qZA(),l.TgZ(4,"section",1)(5,"table",2),l.ynx(6,3),l.YNc(7,KZ,2,0,"th",4),l.YNc(8,QZ,3,3,"td",5),l.BQk(),l.ynx(9,6),l.YNc(10,XZ,2,0,"th",4),l.YNc(11,JZ,2,1,"td",5),l.BQk(),l.ynx(12,7),l.YNc(13,eW,2,0,"th",4),l.YNc(14,tW,2,1,"td",5),l.BQk(),l.ynx(15,8),l.YNc(16,nW,2,0,"th",4),l.YNc(17,rW,2,1,"td",5),l.BQk(),l.ynx(18,9),l.YNc(19,iW,2,0,"th",4),l.YNc(20,sW,2,1,"td",5),l.BQk(),l.ynx(21,10),l.YNc(22,oW,2,0,"th",4),l.YNc(23,aW,2,1,"td",5),l.BQk(),l.ynx(24,11),l.YNc(25,lW,2,0,"th",4),l.YNc(26,cW,4,0,"td",5),l.BQk(),l.ynx(27,12),l.YNc(28,uW,2,0,"th",4),l.YNc(29,hW,4,3,"td",5),l.BQk(),l.ynx(30,13),l.YNc(31,fW,2,0,"th",4),l.YNc(32,pW,4,0,"td",5),l.BQk(),l.YNc(33,mW,1,0,"tr",14),l.YNc(34,gW,1,0,"tr",15),l.qZA()(),l.TgZ(35,"a",16)(36,"i",17),l._uU(37,"add"),l.qZA()()()),2&t&&(l.xp6(5),l.Q6J("dataSource",r.dataSource),l.xp6(28),l.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),l.xp6(1),l.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[pu,Fl,Hh,H0,py,j0,Rm,xm,gy,my,km,qc,G0,wI,Q2],styles:["table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{height:70vh;overflow:auto}.avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50px}.btn-new[_ngcontent-%COMP%]{position:absolute;right:30px;bottom:30px;background-color:#517fdc}"]}),n})(),CI=(()=>{class n{constructor(t,r,i){this.firebaseAuth=t,this.router=r,this.notification=i}canActivate(t,r){return this.firebaseAuth.authState.pipe((0,yt.U)(i=>!!i||(this.notification.showMessage("Acesso restrito! Fa\xe7a login."),this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rb),l.LFG(yr),l.LFG(Fs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yW=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"home-container"]],template:function(t,r){1&t&&(l._UZ(0,"app-header"),l.TgZ(1,"div",0)(2,"h1"),l._uU(3,"Tenha controle da sua empresa com "),l.TgZ(4,"strong"),l._uU(5,"Collaborators"),l.qZA()()())},dependencies:[wI],styles:[".home-container[_ngcontent-%COMP%]{padding-top:64px;width:100%;height:100%;background-color:#e6e6e6;background-image:url(/app-collaborators/assets/images/background-home.png);background-size:50%;background-repeat:no-repeat;background-position:100% 100%}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:15%;font-size:5vh;line-height:7vh;position:absolute;left:20%;top:30%}"]}),n})(),canActivate:[CI],title:"Home | Collaborators"},{path:"login",component:(()=>{class n{constructor(t,r,i,a){this.authService=r,this.notification=i,this.router=a,this.formLogin=t.group({email:["",[Lr.required,Lr.email]],senha:["",[Lr.required]]})}ngOnInit(){}signInGoogle(){this.authService.authenticateByGoogle().subscribe(t=>{this.notification.showMessage("Bem-vindo(a)!"),this.router.navigate(["/home"])})}signInEmailAndPassword(){this.formLogin.valid?this.authService.authenticateByEmailAndPassword(this.formLogin.value).subscribe(r=>{this.notification.showMessage("Bem-vindo(a)!"),this.router.navigate(["/home"])}):this.notification.showMessage("Dados inv\xe1lidos.")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zm),l.Y36(kk),l.Y36(Fs),l.Y36(yr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:1,consts:[["id","login-container"],[1,"login-form"],[3,"click"],["src","assets/icons/google.svg","alt","Logo Google"],[3,"formGroup"],["type","email","placeholder","E-mail","formControlName","email"],["type","password","placeholder","Senha","formControlName","senha"],["type","submit",3,"click"],["routerLink","/cadastrar"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Login"),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return r.signInGoogle()}),l._UZ(5,"img",3),l.qZA(),l.TgZ(6,"form",4),l._UZ(7,"input",5)(8,"input",6),l.TgZ(9,"button",7),l.NdJ("click",function(){return r.signInEmailAndPassword()}),l._uU(10,"Entrar"),l.qZA()(),l.TgZ(11,"span"),l._uU(12,"Ainda n\xe3o \xe9 cadastrado? "),l.TgZ(13,"a",8),l._uU(14,"Cadastre-se"),l.qZA()()()()),2&t&&(l.xp6(6),l.Q6J("formGroup",r.formLogin))},dependencies:[pu,vd,Vl,ud,dd,Wc,bf],styles:["#login-container[_ngcontent-%COMP%]{height:100%;width:100%;background:#E6E6E6;display:flex;align-items:center;justify-content:center}#login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.login-form[_ngcontent-%COMP%]{width:clamp(300px,90%,600px);background:#FFFFFF;border-radius:30px;padding:30px 50px;box-shadow:0 0 30px #a8a4a4;display:flex;flex-direction:column;align-items:center}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:60px;background-color:#6b98f1;color:#fff;border-radius:10px;border:none;box-shadow:0 0 10px #7b7b7b;cursor:pointer}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#517fdc}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:60px;border:1px solid #6A6A6A;border-radius:10px;margin-top:30px;padding:0 20px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px}#login-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:25px;color:#6a6a6a}#login-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#6a6a6a;cursor:pointer}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:17px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0;outline:0;border:2px solid #6A6A6A}"]}),n})(),title:"Login | Collaborators"},{path:"cadastrar",component:(()=>{class n{constructor(t,r,i,a){this.authService=r,this.router=i,this.notification=a,this.formCadastro=t.group({email:["",[Lr.required,Lr.email]],senha:["",[Lr.required]]})}ngOnInit(){}signInGoogle(){this.authService.authenticateByGoogle().subscribe(t=>{this.notification.showMessage("Bem-vindo(a)!"),this.router.navigate(["/home"])})}createUserEmailAndPassword(){this.formCadastro.valid?this.authService.createUserEmailAndPassword(this.formCadastro.value).subscribe(r=>{this.notification.showMessage("Usu\xe1rio cadastrado."),this.router.navigate(["/login"])}):this.notification.showMessage("Dados inv\xe1lidos.")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zm),l.Y36(kk),l.Y36(yr),l.Y36(Fs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cadastrar-usuario"]],decls:14,vars:1,consts:[["id","login-container"],[1,"login-form"],[3,"click"],["src","assets/icons/google.svg","alt","Logo Google"],[3,"formGroup"],["type","email","placeholder","E-mail","formControlName","email"],["type","password","placeholder","Senha","formControlName","senha"],["type","submit",3,"click"],["routerLink","/login"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h1"),l._uU(3,"Cadastre-se"),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return r.signInGoogle()}),l._UZ(5,"img",3),l.qZA(),l.TgZ(6,"form",4),l._UZ(7,"input",5)(8,"input",6),l.TgZ(9,"button",7),l.NdJ("click",function(){return r.createUserEmailAndPassword()}),l._uU(10,"Cadastrar"),l.qZA()(),l.TgZ(11,"span")(12,"a",8),l._uU(13,"Voltar para Login"),l.qZA()()()()),2&t&&(l.xp6(6),l.Q6J("formGroup",r.formCadastro))},dependencies:[pu,vd,Vl,ud,dd,Wc,bf],styles:["#login-container[_ngcontent-%COMP%]{height:100%;width:100%;background:#E6E6E6;display:flex;align-items:center;justify-content:center}#login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.login-form[_ngcontent-%COMP%]{width:clamp(300px,90%,600px);background:#FFFFFF;border-radius:30px;padding:30px 50px;box-shadow:0 0 30px #a8a4a4;display:flex;flex-direction:column;align-items:center}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:60px;background-color:#6b98f1;color:#fff;border-radius:10px;border:none;box-shadow:0 0 10px #7b7b7b;cursor:pointer}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#517fdc}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:60px;border:1px solid #6A6A6A;border-radius:10px;margin-top:30px;padding:0 20px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:30px}#login-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:25px;color:#6a6a6a}#login-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700;color:#6a6a6a;cursor:pointer}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:17px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0;outline:0;border:2px solid #6A6A6A}"]}),n})(),title:"Cadastre-se | Collaborators"},{path:"dashboard",component:_W,canActivate:[CI],title:"Painel de Controle | Collaborators"},{path:"dashboard/new",component:WZ,canActivate:[CI],title:"Novo colaborador | Collaborators"},{path:"dashboard/edit/:id",component:qZ,canActivate:[CI],title:"Editar Colaborador | Collaborators"}];let vW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a2.forRoot(yW),a2]}),n})(),bW=(()=>{class n{constructor(){this.title="app-collaborators"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[ok]}),n})();function X2(n){return new l.vHH(3e3,!1)}function t8(){return typeof window<"u"&&typeof window.document<"u"}function Ok(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jd(n){switch(n.length){case 0:return new Uc;case 1:return n[0];default:return new um(n)}}function J2(n,e,t,r,i=new Map,a=new Map){const u=[],h=[];let g=-1,v=null;if(r.forEach(E=>{const T=E.get("offset"),P=T==g,V=P&&v||new Map;E.forEach((G,Q)=>{let ie=Q,$e=G;if("offset"!==Q)switch(ie=e.normalizePropertyName(ie,u),$e){case"!":$e=i.get(Q);break;case pi:$e=a.get(Q);break;default:$e=e.normalizeStyleValue(Q,ie,$e,u)}V.set(ie,$e)}),P||h.push(V),v=V,g=T}),u.length)throw function $W(n){return new l.vHH(3502,!1)}();return h}function Pk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Nk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Nk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Nk(t,"destroy",n)))}}function Nk(n,e,t){const a=Fk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function Fk(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function yo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function eU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Lk=(n,e)=>!1,tU=(n,e,t)=>[],nU=null;function Bk(n){const e=n.parentNode||n.host;return e===nU?null:e}(Ok()||typeof Element<"u")&&(t8()?(nU=(()=>document.documentElement)(),Lk=(n,e)=>{for(;e;){if(e===n)return!0;e=Bk(e)}return!1}):Lk=(n,e)=>n.contains(e),tU=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ep=null,rU=!1;const iU=Lk,sU=tU;let oU=(()=>{class n{validateStyleProperty(t){return function r8(n){Ep||(Ep=function i8(){return typeof document<"u"?document.body:null}()||{},rU=!!Ep.style&&"WebkitAppearance"in Ep.style);let e=!0;return Ep.style&&!function n8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ep.style,!e&&rU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ep.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return iU(t,r)}getParentElement(t){return Bk(t)}query(t,r,i){return sU(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,h=[],g){return new Uc(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vk=(()=>{class n{}return n.NOOP=new oU,n})();const Uk="ng-enter",EI="ng-leave",DI="ng-trigger",II=".ng-trigger",lU="ng-animating",Hk=".ng-animating";function _u(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jk(parseFloat(e[1]),e[2])}function jk(n,e){return"s"===e?1e3*n:n}function SI(n,e,t){return n.hasOwnProperty("duration")?n:function a8(n,e,t){let i,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(X2()),{duration:0,delay:0,easing:""};i=jk(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(a=jk(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else i=n;if(!t){let h=!1,g=e.length;i<0&&(e.push(function wW(){return new l.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function CW(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,X2())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Kb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function eh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function dU(n,e,t){return t?e+":"+t+";":""}function hU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=dU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=dU(0,d8(t),n.style[t]));n.setAttribute("style",e)}function nc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Gk(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Ok()&&hU(n))}function Dp(n,e){n.style&&(e.forEach((t,r)=>{const i=Gk(r);n.style[i]=""}),Ok()&&hU(n))}function Qb(n){return Array.isArray(n)?1==n.length?n[0]:j_(n):n}const $k=new RegExp("{{\\s*(.+?)\\s*}}","g");function fU(n){let e=[];if("string"==typeof n){let t;for(;t=$k.exec(n);)e.push(t[1]);$k.lastIndex=0}return e}function Xb(n,e,t){const r=n.toString(),i=r.replace($k,(a,u)=>{let h=e[u];return null==h&&(t.push(function DW(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function TI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const u8=/-+([a-z0-9])/g;function Gk(n){return n.replace(u8,(...e)=>e[1].toUpperCase())}function d8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function IW(n){return new l.vHH(3004,!1)}()}}function pU(n,e){return window.getComputedStyle(n)[e]}function _8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function y8(n,e,t){if(":"==n[0]){const g=function v8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function VW(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function BW(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],u=r[3];e.push(mU(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(mU(u,i))}(r,t,e)):t.push(n),t}const RI=new Set(["true","1"]),kI=new Set(["false","0"]);function mU(n,e){const t=RI.has(n)||kI.has(n),r=RI.has(e)||kI.has(e);return(i,a)=>{let u="*"==n||n==i,h="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?RI.has(n):kI.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?RI.has(e):kI.has(e)),u&&h}}const b8=new RegExp("s*:selfs*,?","g");function zk(n,e,t,r){return new w8(n).build(e,t,r)}class w8{constructor(e){this._driver=e}build(e,t,r){const i=new D8(t);return this._resetContextStyleTimingState(i),vo(this,Qb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function TW(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,a.push(this.visitState(g,t))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,t);r+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function AW(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{fU(g).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&(TI(a.values()),t.errors.push(function MW(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=vo(this,Qb(e.animation),t);return{type:1,matchers:_8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ip(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>vo(this,r,t)),options:Ip(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const h=vo(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Ip(e.options)}}visitAnimate(e,t){const r=function S8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qk(SI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=qk(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=SI(t,e);return qk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:mi({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=mi(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===pi?r.push(h):t.errors.push(new l.vHH(3002,!1)):r.push(cU(h));let a=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let g of h.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),E=v.get(g);let T=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(function RW(n,e,t,r,i){return new l.vHH(3010,!1)}()),T=!1),a=E.startTime),T&&v.set(g,{startTime:a,endTime:i}),t.options&&function c8(n,e,t){const r=e.params||{},i=fU(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function EW(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kW(){return new l.vHH(3011,!1)}()),r;let a=0;const u=[];let h=!1,g=!1,v=0;const E=e.steps.map($e=>{const Xe=this._makeStyleAst($e,t);let Je=null!=Xe.offset?Xe.offset:function I8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Xe.styles),We=0;return null!=Je&&(a++,We=Xe.offset=Je),g=g||We<0||We>1,h=h||We<v,v=We,u.push(We),Xe});g&&t.errors.push(function OW(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function PW(){return new l.vHH(3200,!1)}());const T=e.steps.length;let P=0;a>0&&a<T?t.errors.push(function NW(){return new l.vHH(3202,!1)}()):0==a&&(P=1/(T-1));const V=T-1,G=t.currentTime,Q=t.currentAnimateTimings,ie=Q.duration;return E.forEach(($e,Xe)=>{const Je=P>0?Xe==V?1:P*Xe:u[Xe],We=Je*ie;t.currentTime=G+Q.delay+We,Q.duration=We,this._validateStyleAst($e,t),$e.offset=Je,r.styles.push($e)}),r}visitReference(e,t){return{type:8,animation:vo(this,Qb(e.animation),t),options:Ip(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ip(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ip(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function C8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(b8,"")),n=n.replace(/@\*/g,II).replace(/@\w+/g,t=>II+"-"+t.slice(1)).replace(/:animating/g,Hk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,yo(t.collectedStyles,t.currentQuerySelector,new Map);const h=vo(this,Qb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Ip(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function FW(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:SI(e.timings,t.errors,!0);return{type:12,animation:vo(this,Qb(e.animation),t),timings:r,options:null}}}class D8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ip(n){return n?(n=Kb(n)).params&&(n.params=function E8(n){return n?Kb(n):null}(n.params)):n={},n}function qk(n,e,t){return{duration:n,delay:e,easing:t}}function Zk(n,e,t,r,i,a,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:h}}class OI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const M8=new RegExp(":enter","g"),R8=new RegExp(":leave","g");function Wk(n,e,t,r,i,a=new Map,u=new Map,h,g,v=[]){return(new k8).buildKeyframes(n,e,t,r,i,a,u,h,g,v)}class k8{buildKeyframes(e,t,r,i,a,u,h,g,v,E=[]){v=v||new OI;const T=new Yk(e,t,v,i,a,E,[]);T.options=g;const P=g.delay?_u(g.delay):0;T.currentTimeline.delayNextStep(P),T.currentTimeline.setStyles([u],null,T.errors,g),vo(this,r,T);const V=T.timelines.filter(G=>G.containsAnimation());if(V.length&&h.size){let G;for(let Q=V.length-1;Q>=0;Q--){const ie=V[Q];if(ie.element===t){G=ie;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([h],null,T.errors,g)}return V.length?V.map(G=>G.buildKeyframes()):[Zk(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const u="number"==typeof a?a:_u(Xb(a,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?_u(r.duration):null,h=null!=r.delay?_u(r.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),vo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=PI);const u=_u(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>vo(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?_u(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),vo(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return SI(t.params?Xb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*a),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?_u(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=PI);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((v,E)=>{t.currentQueryIndex=E;const T=t.createSubContext(e.options,v);a&&T.delayNextStep(a),v===t.element&&(g=T.currentTimeline),vo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const E=t.currentTimeline;g&&E.delayNextStep(g);const T=E.currentTime;vo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const PI={};class Yk{constructor(e,t,r,i,a,u,h,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new NI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=_u(r.duration)),null!=r.delay&&(i.delay=_u(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=Xb(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Yk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=PI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new O8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(M8,"."+this._enterClassName)).replace(R8,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!a&&0==h.length&&u.push(function LW(n){return new l.vHH(3014,!1)}()),h}}class NI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new NI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||pi),this._currentKeyframe.set(t,pi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},u=function P8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,pi)}else eh(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of u){const v=Xb(g,a,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??pi),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const v=eh(h,new Map,this._backFill);v.forEach((E,T)=>{"!"===E?e.add(T):E===pi&&t.add(T)}),r||v.set("offset",g/this.duration),i.push(v)});const a=e.size?TI(e.values()):[],u=t.size?TI(t.values()):[];if(r){const h=i[0],g=new Map(h);h.set("offset",0),g.set("offset",1),i=[h,g]}return Zk(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class O8 extends NI{constructor(e,t,r,i,a,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,h=t/u,g=eh(e[0]);g.set("offset",0),a.push(g);const v=eh(e[0]);v.set("offset",yU(h)),a.push(v);const E=e.length-1;for(let T=1;T<=E;T++){let P=eh(e[T]);const V=P.get("offset");P.set("offset",yU((t+V*r)/u)),a.push(P)}r=u,t=0,i="",e=a}return Zk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function yU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Kk{}const N8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class F8 extends Kk{normalizePropertyName(e,t){return Gk(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(N8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function SW(n,e){return new l.vHH(3005,!1)}())}return u+a}}function vU(n,e,t,r,i,a,u,h,g,v,E,T,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:E,totalTime:T,errors:P}}const Qk={};class bU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function L8(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,u,h,g,v,E){const T=[],P=this.ast.options&&this.ast.options.params||Qk,G=this.buildStyles(r,h&&h.params||Qk,T),Q=g&&g.params||Qk,ie=this.buildStyles(i,Q,T),$e=new Set,Xe=new Map,Je=new Map,We="void"===i,Et={params:B8(Q,P),delay:this.ast.options?.delay},At=E?[]:Wk(e,t,this.ast.animation,a,u,G,ie,Et,v,T);let on=0;if(At.forEach(bo=>{on=Math.max(bo.duration+bo.delay,on)}),T.length)return vU(t,this._triggerName,r,i,We,G,ie,[],[],Xe,Je,on,T);At.forEach(bo=>{const yu=bo.element,FU=yo(Xe,yu,new Set);bo.preStyleProps.forEach(Sp=>FU.add(Sp));const ew=yo(Je,yu,new Set);bo.postStyleProps.forEach(Sp=>ew.add(Sp)),yu!==t&&$e.add(yu)});const Hr=TI($e.values());return vU(t,this._triggerName,r,i,We,G,ie,At,Hr,Xe,Je,on)}}function B8(n,e){const t=Kb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class V8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Kb(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(i[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=Xb(u,i,t));const g=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,g,u,t),r.set(g,u)})}),r}}class H8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new V8(i.style,i.options&&i.options.params||{},r))}),wU(this.states,"true","1"),wU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new bU(e,i,this.states))}),this.fallbackTransition=function j8(n,e,t){return new bU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $8=new OI;class G8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=zk(this._driver,t,r,[]);if(r.length)throw function GW(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=J2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let u;const h=new Map;if(a?(u=Wk(this._driver,t,a,Uk,EI,new Map,new Map,r,$8,i),u.forEach(E=>{const T=yo(h,E.element,new Map);E.postStyleProps.forEach(P=>T.set(P,null))})):(i.push(function zW(){return new l.vHH(3300,!1)}()),u=[]),i.length)throw function qW(n){return new l.vHH(3504,!1)}();h.forEach((E,T)=>{E.forEach((P,V)=>{E.set(V,this._driver.computeStyle(T,V,pi))})});const v=Jd(u.map(E=>{const T=h.get(E.element);return this._buildPlayer(E,new Map,T)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ZW(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Fk(t,"","","");return Pk(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const CU="ng-animate-queued",Xk="ng-animate-disabled",Y8=[],EU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},la="__ng_removed";class Jk{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function e5(n){return n??null}(r?e.value:e),r){const a=Kb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Jb="void",eO=new Jk(Jb);class Q8{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ca(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function WW(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function YW(n){return new l.vHH(3303,!1)}();if(!function t5(n){return"start"==n||"done"==n}(r))throw function KW(n,e){return new l.vHH(3400,!1)}();const a=yo(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const h=yo(this._engine.statesByElement,e,new Map);return h.has(t)||(ca(e,DI),ca(e,DI+"-"+t),h.set(t,eO)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function QW(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new tO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ca(e,DI),ca(e,DI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const v=new Jk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(t,v),g||(g=eO),v.value!==Jb&&g.value===v.value){if(!function s5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const Q=[],ie=a.matchStyles(g.value,g.params,Q),$e=a.matchStyles(v.value,v.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Dp(e,ie),nc(e,$e)})}return}const P=yo(this._engine.playersByElement,e,[]);P.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==t&&Q.queued&&Q.destroy()});let V=a.matchTransition(g.value,v.value,e,v.params),G=!1;if(!V){if(!i)return;V=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:g,toState:v,player:u,isFallbackTransition:G}),G||(ca(e,CU),u.onStart(()=>{a_(e,CU)})),u.onDone(()=>{let Q=this.players.indexOf(u);Q>=0&&this.players.splice(Q,1);const ie=this._engine.playersByElement.get(e);if(ie){let $e=ie.indexOf(u);$e>=0&&ie.splice($e,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,II,!0);r.forEach(i=>{if(i[la])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(a.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const E=this.trigger(e,v,Jb,i);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Jd(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const g=this._triggers.get(u).fallbackTransition,v=r.get(u)||eO,E=new Jk(Jb),T=new tO(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:E,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[la];(!a||a===EU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==r.triggerName){const g=Fk(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Pk(r.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class X8{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Q8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const v=r.indexOf(g);r.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(FI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!FI(t))return;const a=t[la];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ca(e,Xk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),a_(e,Xk))}removeNode(e,t,r,i){if(FI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[la]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return FI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,II,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Hk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[la];if(t&&t.setForRemoval){if(e[la]=EU,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Xk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ca(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Jd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function XW(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new OI,i=[],a=new Map,u=[],h=new Map,g=new Map,v=new Map,E=new Set;this.disabledNodes.forEach(bt=>{E.add(bt);const Ot=this.driver.query(bt,".ng-animate-queued",!0);for(let Ht=0;Ht<Ot.length;Ht++)E.add(Ot[Ht])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),V=SU(P,this.collectedEnterElements),G=new Map;let Q=0;V.forEach((bt,Ot)=>{const Ht=Uk+Q++;G.set(Ot,Ht),bt.forEach(bn=>ca(bn,Ht))});const ie=[],$e=new Set,Xe=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Ot=this.collectedLeaveElements[bt],Ht=Ot[la];Ht&&Ht.setForRemoval&&(ie.push(Ot),$e.add(Ot),Ht.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(bn=>$e.add(bn)):Xe.add(Ot))}const Je=new Map,We=SU(P,Array.from($e));We.forEach((bt,Ot)=>{const Ht=EI+Q++;Je.set(Ot,Ht),bt.forEach(bn=>ca(bn,Ht))}),e.push(()=>{V.forEach((bt,Ot)=>{const Ht=G.get(Ot);bt.forEach(bn=>a_(bn,Ht))}),We.forEach((bt,Ot)=>{const Ht=Je.get(Ot);bt.forEach(bn=>a_(bn,Ht))}),ie.forEach(bt=>{this.processLeaveNode(bt)})});const Et=[],At=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ht=>{const bn=Ht.player,Ei=Ht.element;if(Et.push(bn),this.collectedEnterElements.length){const Ji=Ei[la];if(Ji&&Ji.setForMove){if(Ji.previousTriggersValues&&Ji.previousTriggersValues.has(Ht.triggerName)){const Tp=Ji.previousTriggersValues.get(Ht.triggerName),ua=this.statesByElement.get(Ht.element);if(ua&&ua.has(Ht.triggerName)){const VI=ua.get(Ht.triggerName);VI.value=Tp,ua.set(Ht.triggerName,VI)}}return void bn.destroy()}}const rc=!T||!this.driver.containsElement(T,Ei),wo=Je.get(Ei),th=G.get(Ei),br=this._buildInstruction(Ht,r,th,wo,rc);if(br.errors&&br.errors.length)return void At.push(br);if(rc)return bn.onStart(()=>Dp(Ei,br.fromStyles)),bn.onDestroy(()=>nc(Ei,br.toStyles)),void i.push(bn);if(Ht.isFallbackTransition)return bn.onStart(()=>Dp(Ei,br.fromStyles)),bn.onDestroy(()=>nc(Ei,br.toStyles)),void i.push(bn);const VU=[];br.timelines.forEach(Ji=>{Ji.stretchStartingKeyframe=!0,this.disabledNodes.has(Ji.element)||VU.push(Ji)}),br.timelines=VU,r.append(Ei,br.timelines),u.push({instruction:br,player:bn,element:Ei}),br.queriedElements.forEach(Ji=>yo(h,Ji,[]).push(bn)),br.preStyleProps.forEach((Ji,Tp)=>{if(Ji.size){let ua=g.get(Tp);ua||g.set(Tp,ua=new Set),Ji.forEach((VI,iO)=>ua.add(iO))}}),br.postStyleProps.forEach((Ji,Tp)=>{let ua=v.get(Tp);ua||v.set(Tp,ua=new Set),Ji.forEach((VI,iO)=>ua.add(iO))})});if(At.length){const bt=[];At.forEach(Ot=>{bt.push(function JW(n,e){return new l.vHH(3505,!1)}())}),Et.forEach(Ot=>Ot.destroy()),this.reportError(bt)}const on=new Map,Hr=new Map;u.forEach(bt=>{const Ot=bt.element;r.has(Ot)&&(Hr.set(Ot,Ot),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,on))}),i.forEach(bt=>{const Ot=bt.element;this._getPreviousPlayers(Ot,!1,bt.namespaceId,bt.triggerName,null).forEach(bn=>{yo(on,Ot,[]).push(bn),bn.destroy()})});const bo=ie.filter(bt=>AU(bt,g,v)),yu=new Map;IU(yu,this.driver,Xe,v,pi).forEach(bt=>{AU(bt,g,v)&&bo.push(bt)});const ew=new Map;V.forEach((bt,Ot)=>{IU(ew,this.driver,new Set(bt),g,"!")}),bo.forEach(bt=>{const Ot=yu.get(bt),Ht=ew.get(bt);yu.set(bt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const Sp=[],LU=[],BU={};u.forEach(bt=>{const{element:Ot,player:Ht,instruction:bn}=bt;if(r.has(Ot)){if(E.has(Ot))return Ht.onDestroy(()=>nc(Ot,bn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(bn.totalTime),void i.push(Ht);let Ei=BU;if(Hr.size>1){let wo=Ot;const th=[];for(;wo=wo.parentNode;){const br=Hr.get(wo);if(br){Ei=br;break}th.push(wo)}th.forEach(br=>Hr.set(br,Ei))}const rc=this._buildAnimation(Ht.namespaceId,bn,on,a,ew,yu);if(Ht.setRealPlayer(rc),Ei===BU)Sp.push(Ht);else{const wo=this.playersByElement.get(Ei);wo&&wo.length&&(Ht.parentPlayer=Jd(wo)),i.push(Ht)}}else Dp(Ot,bn.fromStyles),Ht.onDestroy(()=>nc(Ot,bn.toStyles)),LU.push(Ht),E.has(Ot)&&i.push(Ht)}),LU.forEach(bt=>{const Ot=a.get(bt.element);if(Ot&&Ot.length){const Ht=Jd(Ot);bt.setRealPlayer(Ht)}}),i.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ie.length;bt++){const Ot=ie[bt],Ht=Ot[la];if(a_(Ot,EI),Ht&&Ht.hasAnimation)continue;let bn=[];if(h.size){let rc=h.get(Ot);rc&&rc.length&&bn.push(...rc);let wo=this.driver.query(Ot,Hk,!0);for(let th=0;th<wo.length;th++){let br=h.get(wo[th]);br&&br.length&&bn.push(...br)}}const Ei=bn.filter(rc=>!rc.destroyed);Ei.length?n5(this,Ot,Ei):this.processLeaveNode(Ot)}return ie.length=0,Sp.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Ot=this.players.indexOf(bt);this.players.splice(Ot,1)}),bt.play()}),Sp}elementContainsData(e,t){let r=!1;const i=t[la];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!a||a==Jb;h.forEach(v=>{v.queued||!g&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,E=v!==a,T=yo(r,v,[]);this._getPreviousPlayers(v,E,u,h,t.toState).forEach(V=>{const G=V.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),V.destroy(),T.push(V)})}Dp(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const h=t.triggerName,g=t.element,v=[],E=new Set,T=new Set,P=t.timelines.map(G=>{const Q=G.element;E.add(Q);const ie=Q[la];if(ie&&ie.removedBeforeQueried)return new Uc(G.duration,G.delay);const $e=Q!==g,Xe=function r5(n){const e=[];return TU(n,e),e}((r.get(Q)||Y8).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===Q),Je=a.get(Q),We=u.get(Q),Et=J2(0,this._normalizer,0,G.keyframes,Je,We),At=this._buildPlayer(G,Et,Xe);if(G.subTimeline&&i&&T.add(Q),$e){const on=new tO(e,h,Q);on.setRealPlayer(At),v.push(on)}return At});v.forEach(G=>{yo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function J8(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,G.element,G))}),E.forEach(G=>ca(G,lU));const V=Jd(P);return V.onDestroy(()=>{E.forEach(G=>a_(G,lU)),nc(g,t.toStyles)}),T.forEach(G=>{yo(i,G,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Uc(e.duration,e.delay)}}class tO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Uc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Pk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function FI(n){return n&&1===n.nodeType}function DU(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IU(n,e,t,r,i){const a=[];t.forEach(g=>a.push(DU(g)));const u=[];r.forEach((g,v)=>{const E=new Map;g.forEach(T=>{const P=e.computeStyle(v,T,i);E.set(T,P),(!P||0==P.length)&&(v[la]=K8,u.push(v))}),n.set(v,E)});let h=0;return t.forEach(g=>DU(g,a[h++])),u}function SU(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(h){if(!h)return 1;let g=a.get(h);if(g)return g;const v=h.parentNode;return g=t.has(v)?v:i.has(v)?1:u(v),a.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function ca(n,e){n.classList?.add(e)}function a_(n,e){n.classList?.remove(e)}function n5(n,e,t){Jd(t).onDone(()=>n.processLeaveNode(e))}function TU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof um?TU(r.players,e):e.push(r)}}function AU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class LI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new X8(e,t,r),this._timelineEngine=new G8(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const g=[],E=zk(this._driver,a,g,[]);if(g.length)throw function jW(n,e){return new l.vHH(3404,!1)}();h=function U8(n,e,t){return new H8(n,e,t)}(i,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=eU(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,h]=eU(r);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let a5=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&nc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nc(this._element,this._initialStyles),this._endStyles&&(nc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dp(this._element,this._endStyles),this._endStyles=null),nc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nO(n){let e=null;return n.forEach((t,r)=>{(function l5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class MU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:pU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class c5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return iU(e,t)}getParentElement(e){return Bk(e)}query(e,t,r){return sU(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const v=new Map,E=u.filter(V=>V instanceof MU);(function h8(n,e){return 0===n||0===e})(r,i)&&E.forEach(V=>{V.currentSnapshot.forEach((G,Q)=>v.set(Q,G))});let T=function l8(n){return n.length?n[0]instanceof Map?n:n.map(e=>cU(e)):[]}(t).map(V=>eh(V));T=function f8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,u)=>{r.has(u)||i.push(u),r.set(u,a)}),i.length)for(let a=1;a<e.length;a++){let u=e[a];i.forEach(h=>u.set(h,pU(n,h)))}}return e}(e,T,v);const P=function o5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nO(e[0]),e.length>1&&(r=nO(e[e.length-1]))):e instanceof Map&&(t=nO(e)),t||r?new a5(n,t,r):null}(e,T);return new MU(e,T,g,P)}}let u5=(()=>{class n extends cm{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?j_(t):t;return xU(this._renderer,null,r,"register",[i]),new d5(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ae))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class d5 extends class iT{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h5(this._id,e,t||{},this._renderer)}}class h5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const RU="@.disabled";let f5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(a);return E||(E=new kU("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,E)),E}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(u,h,t,E.name,E)};return r.data.animation.forEach(g),new p5(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(LI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class kU{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==RU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class p5 extends kU{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==RU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function m5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function g5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let _5=(()=>{class n extends LI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae),l.LFG(Vk),l.LFG(Kk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const OU=[{provide:cm,useClass:u5},{provide:Kk,useFactory:function y5(){return new F8}},{provide:LI,useClass:_5},{provide:l.FYo,useFactory:function v5(n,e,t){return new f5(n,e,t)},deps:[Ta,LI,l.R0b]}],rO=[{provide:Vk,useFactory:()=>new c5},{provide:l.QbO,useValue:"BrowserAnimations"},...OU],PU=[{provide:Vk,useClass:oU},{provide:l.QbO,useValue:"NoopAnimations"},...OU];let b5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?PU:rO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:rO,imports:[no]}),n})();const NU_firebaseConfig={apiKey:"AIzaSyD571W4WKYs2JAMZrCkmNWHTzFtONfb5oI",authDomain:"app-colaboradores-b18ad.firebaseapp.com",projectId:"app-colaboradores-b18ad",storageBucket:"app-colaboradores-b18ad.appspot.com",messagingSenderId:"722549842156",appId:"1:722549842156:web:07d9a603c7a13d223f45c9"};let w5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[bW]}),n.\u0275inj=l.cJS({imports:[no,vW,b5,BC,cA,hE,Lz,ki.hO.initializeApp(NU_firebaseConfig),Mz,$Z]}),n})();(0,l.G48)(),Ra().bootstrapModule(w5).catch(n=>console.error(n))},5867:(ht,Se,F)=>{F.d(Se,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.14.0","app")},127:(ht,Se,F)=>{F.d(Se,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(ht,Se,F)=>{F.r(Se);var l=F(5861),j=F(3942),O=F(8247),oe=F(2090),ae=(F(9681),F(1877),F(4859));function fe(){return window}function z(){return(z=(0,l.Z)(function*(H,R,B){var re;const{BuildInfo:Ne}=fe();(0,O.ap)(R.sessionId,"AuthEvent did not contain a session ID");const at=yield me(R.sessionId),lt={};return(0,O.aq)()?lt.ibi=Ne.packageName:(0,O.ar)()?lt.apn=Ne.packageName:(0,O.as)(H,"operation-not-supported-in-this-environment"),Ne.displayName&&(lt.appDisplayName=Ne.displayName),lt.sessionId=at,(0,O.at)(H,B,R.type,void 0,null!==(re=R.eventId)&&void 0!==re?re:void 0,lt)})).apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(H){const{BuildInfo:R}=fe(),B={};(0,O.aq)()?B.iosBundleId=R.packageName:(0,O.ar)()?B.androidPackageName=R.packageName:(0,O.as)(H,"operation-not-supported-in-this-environment"),yield(0,O.au)(H,B)})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(H,R,B){const{cordova:re}=fe();let Ne=()=>{};try{yield new Promise((at,lt)=>{let Te=null;function Le(){var Lt;at();const mn=null===(Lt=re.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof mn&&mn(),"function"==typeof B?.close&&B.close()}function Nt(){Te||(Te=window.setTimeout(()=>{lt((0,O.aw)(H,"redirect-cancelled-by-user"))},2e3))}function pn(){"visible"===document?.visibilityState&&Nt()}R.addPassiveListener(Le),document.addEventListener("resume",Nt,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",pn,!1),Ne=()=>{R.removePassiveListener(Le),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",pn,!1),Te&&window.clearTimeout(Te)}})}finally{Ne()}})).apply(this,arguments)}function me(H){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(H){const R=Ke(H),B=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(B)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(H){if((0,O.ap)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const R=new ArrayBuffer(H.length),B=new Uint8Array(R);for(let re=0;re<H.length;re++)B[re]=H.charCodeAt(re);return B}class Re extends O.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(R)),super.onEvent(R)}initialized(){var R=this;return(0,l.Z)(function*(){yield R.initPromise})()}}function se(H){return de.apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(H){const R=yield ee()._get(pe(H));return R&&(yield ee()._remove(pe(H))),R})).apply(this,arguments)}function K(){const H=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const re=Math.floor(Math.random()*R.length);H.push(R.charAt(re))}return H.join("")}function ee(){return(0,O.az)(O.b)}function pe(H){return(0,O.aA)("authEvent",H.config.apiKey,H.name)}function Ve(H){if(!H?.includes("?"))return{};const[R,...B]=H.split("?");return(0,oe.zd)(B.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function Yt(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function xr(H=(0,oe.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function ts(){try{const H=self.localStorage,R=O.aI();if(H)return H.setItem(R,"1"),H.removeItem(R),!function es(H=(0,oe.z$)()){return function jr(){return(0,oe.w1)()&&11===document?.documentMode}()||function Nn(H=(0,oe.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,oe.hl)()}catch{return $r()&&(0,oe.hl)()}return!1}function $r(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function jt(){return"http:"===Yt()||"https:"===Yt()}()||(0,oe.ru)()||xr())&&!function Hi(){return(0,oe.b$)()||(0,oe.UG)()}()&&ts()&&!$r()}function Di(){return xr()&&typeof document<"u"}function Qe(){return(Qe=(0,l.Z)(function*(){return!!Di()&&new Promise(H=>{const R=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),H(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},wn=O.ax,fr="persistence";function En(H){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(H){yield H._initializationPromise;const R=gt(),B=O.aA(fr,H.config.apiKey,H.name);R&&R.setItem(B,H._getPersistence())})).apply(this,arguments)}function gt(){var H;try{return(null===(H=function Qn(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const _t=O.ax;class Pt{constructor(){this.browserResolver=O.az(O.k),this.cordovaResolver=O.az(class an{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(R){var B=this;return(0,l.Z)(function*(){const re=R._key();let Ne=B.eventManagers.get(re);return Ne||(Ne=new Re(R),B.eventManagers.set(re,Ne),B.attachCallbackListeners(R,Ne)),Ne})()}_openPopup(R){(0,O.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,B,re,Ne){var at=this;return(0,l.Z)(function*(){!function be(H){var R,B,re,Ne,at,lt,Te,Le,Nt,pn;const Lt=fe();(0,O.ax)("function"==typeof(null===(R=Lt?.universalLinks)||void 0===R?void 0:R.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(B=Lt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(at=null===(Ne=null===(re=Lt?.cordova)||void 0===re?void 0:re.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===at?void 0:at.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(Le=null===(Te=null===(lt=Lt?.cordova)||void 0===lt?void 0:lt.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Le?void 0:Le.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(pn=null===(Nt=Lt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===pn?void 0:pn.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const lt=yield at._initialize(R);yield lt.initialized(),lt.resetRedirect(),(0,O.aD)(),yield at._originValidation(R);const Te=function Ce(H,R,B=null){return{type:R,eventId:B,urlResponse:null,sessionId:K(),postBody:null,tenantId:H.tenantId,error:(0,O.aw)(H,"no-auth-event")}}(R,re,Ne);yield function Ge(H,R){return ee()._set(pe(H),R)}(R,Te);const Le=yield function Z(H,R,B){return z.apply(this,arguments)}(R,Te,B),Nt=yield function ke(H){const{cordova:R}=fe();return new Promise(B=>{R.plugins.browsertab.isAvailable(re=>{let Ne=null;re?R.plugins.browsertab.openUrl(H):Ne=R.InAppBrowser.open(H,(0,O.av)()?"_blank":"_system","location=yes"),B(Ne)})})}(Le);return function De(H,R,B){return it.apply(this,arguments)}(R,lt,Nt)})()}_isIframeWebStorageSupported(R,B){throw new Error("Method not implemented.")}_originValidation(R){const B=R._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function X(H){return Ue.apply(this,arguments)}(R)),this.originValidationPromises[B]}attachCallbackListeners(R,B){const{universalLinks:re,handleOpenURL:Ne,BuildInfo:at}=fe(),lt=setTimeout((0,l.Z)(function*(){yield se(R),B.onEvent(qe())}),500),Te=function(){var pn=(0,l.Z)(function*(Lt){clearTimeout(lt);const mn=yield se(R);let rs=null;mn&&Lt?.url&&(rs=function ve(H,R){var B,re;const Ne=function Be(H){const R=Ve(H),B=R.link?decodeURIComponent(R.link):void 0,re=Ve(B).link,Ne=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Ve(Ne).link||Ne||re||B||H}(R);if(Ne.includes("/__/auth/callback")){const at=Ve(Ne),lt=at.firebaseError?function le(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,Te=null===(re=null===(B=lt?.code)||void 0===B?void 0:B.split("auth/"))||void 0===re?void 0:re[1],Le=Te?(0,O.aw)(Te):null;return Le?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Ne,postBody:null}}return null}(mn,Lt.url)),B.onEvent(rs||qe())});return function(mn){return pn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Te);const Le=Ne,Nt=`${at.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var pn=(0,l.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(Nt)&&Te({url:Lt}),"function"==typeof Le)try{Le(Lt)}catch(mn){console.error(mn)}});return function(Lt){return pn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(R){var B=this;return(0,l.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,B,re,Ne){var at=this;return(0,l.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(R,B,re,Ne)})()}_openRedirect(R,B,re,Ne){var at=this;return(0,l.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(R,B,re,Ne)})()}_isIframeWebStorageSupported(R,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,B)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,l.Z)(function*(){if(R.underlyingResolver)return;const B=yield function ns(){return Qe.apply(this,arguments)}();R.underlyingResolver=B?R.cordovaResolver:R.browserResolver})()}}function Kr(H){return H.unwrap()}function Rr(H){return Gr(H)}function Gr(H){const{_tokenResponse:R}=H instanceof oe.ZR?H.customData:H;if(!R)return null;if(!(H instanceof oe.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return O.P.credentialFromResult(H);const B=R.providerId;if(!B||B===O.o.PASSWORD)return null;let re;switch(B){case O.o.GOOGLE:re=O.Q;break;case O.o.FACEBOOK:re=O.N;break;case O.o.GITHUB:re=O.T;break;case O.o.TWITTER:re=O.W;break;default:const{oauthIdToken:Ne,oauthAccessToken:at,oauthTokenSecret:lt,pendingToken:Te,nonce:Le}=R;return at||lt||Ne||Te?Te?B.startsWith("saml.")?O.aL._create(B,Te):O.J._fromParams({providerId:B,signInMethod:B,pendingToken:Te,idToken:Ne,accessToken:at}):new O.U(B).credential({idToken:Ne,accessToken:at,rawNonce:Le}):null}return H instanceof oe.ZR?re.credentialFromError(H):re.credentialFromResult(H)}function Ut(H,R){return R.catch(B=>{throw B instanceof oe.ZR&&function Rt(H,R){var B,re;const Ne=null===(B=R.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(re=R)||void 0===re?void 0:re.code))R.resolver=new ur(H,O.an(H,R));else if(Ne){const at=Gr(R),lt=R;at&&(lt.credential=at,lt.tenantId=Ne.tenantId||void 0,lt.email=Ne.email||void 0,lt.phoneNumber=Ne.phoneNumber||void 0)}}(H,B),B}).then(B=>{const Ne=B.user;return{operationType:B.operationType,credential:Rr(B),additionalUserInfo:O.al(B),user:An.getOrCreate(Ne)}})}function ii(H,R){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(H,R){const B=yield R;return{verificationId:B.verificationId,confirm:re=>Ut(H,B.confirm(re))}})).apply(this,arguments)}class ur{constructor(R,B){this.resolver=B,this.auth=function Xn(H){return H.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Ut(Kr(this.auth),this.resolver.resolveSignIn(R))}}class An{constructor(R){this._delegate=R,this.multiFactor=O.ao(R)}static getOrCreate(R){return An.USER_MAP.has(R)||An.USER_MAP.set(R,new An(R)),An.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var B=this;return(0,l.Z)(function*(){return Ut(B.auth,O.Z(B._delegate,R))})()}linkWithPhoneNumber(R,B){var re=this;return(0,l.Z)(function*(){return ii(re.auth,O.l(re._delegate,R,B))})()}linkWithPopup(R){var B=this;return(0,l.Z)(function*(){return Ut(B.auth,O.d(B._delegate,R,Pt))})()}linkWithRedirect(R){var B=this;return(0,l.Z)(function*(){return yield En(O.aE(B.auth)),O.g(B._delegate,R,Pt)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var B=this;return(0,l.Z)(function*(){return Ut(B.auth,O._(B._delegate,R))})()}reauthenticateWithPhoneNumber(R,B){return ii(this.auth,O.r(this._delegate,R,B))}reauthenticateWithPopup(R){return Ut(this.auth,O.e(this._delegate,R,Pt))}reauthenticateWithRedirect(R){var B=this;return(0,l.Z)(function*(){return yield En(O.aE(B.auth)),O.h(B._delegate,R,Pt)})()}sendEmailVerification(R){return O.ab(this._delegate,R)}unlink(R){var B=this;return(0,l.Z)(function*(){return yield O.ak(B._delegate,R),B})()}updateEmail(R){return O.ag(this._delegate,R)}updatePassword(R){return O.ah(this._delegate,R)}updatePhoneNumber(R){return O.u(this._delegate,R)}updateProfile(R){return O.af(this._delegate,R)}verifyBeforeUpdateEmail(R,B){return O.ac(this._delegate,R,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}An.USER_MAP=new WeakMap;const nt=O.ax;let Ie=(()=>{class H{constructor(B,re){if(this.app=B,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=B.options;nt(Ne,"invalid-api-key",{appName:B.name}),nt(Ne,"invalid-api-key",{appName:B.name});const at=typeof window<"u"?Pt:void 0;this._delegate=re.initialize({options:{persistence:Dt(Ne,B.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?An.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,re){O.G(this._delegate,B,re)}applyActionCode(B){return O.a2(this._delegate,B)}checkActionCode(B){return O.a3(this._delegate,B)}confirmPasswordReset(B,re){return O.a1(this._delegate,B,re)}createUserWithEmailAndPassword(B,re){var Ne=this;return(0,l.Z)(function*(){return Ut(Ne._delegate,O.a5(Ne._delegate,B,re))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return O.aa(this._delegate,B)}isSignInWithEmailLink(B){return O.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,l.Z)(function*(){nt($n(),B._delegate,"operation-not-supported-in-this-environment");const re=yield O.j(B._delegate,Pt);return re?Ut(B._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function fn(H,R){(0,O.aE)(H)._logFramework(R)}(this._delegate,B)}onAuthStateChanged(B,re,Ne){const{next:at,error:lt,complete:Te}=rt(B,re,Ne);return this._delegate.onAuthStateChanged(at,lt,Te)}onIdTokenChanged(B,re,Ne){const{next:at,error:lt,complete:Te}=rt(B,re,Ne);return this._delegate.onIdTokenChanged(at,lt,Te)}sendSignInLinkToEmail(B,re){return O.a7(this._delegate,B,re)}sendPasswordResetEmail(B,re){return O.a0(this._delegate,B,re||void 0)}setPersistence(B){var re=this;return(0,l.Z)(function*(){let Ne;switch(function js(H,R){wn(Object.values(Gn).includes(R),H,"invalid-persistence-type"),(0,oe.b$)()?wn(R!==Gn.SESSION,H,"unsupported-persistence-type"):(0,oe.UG)()?wn(R===Gn.NONE,H,"unsupported-persistence-type"):$r()?wn(R===Gn.NONE||R===Gn.LOCAL&&(0,oe.hl)(),H,"unsupported-persistence-type"):wn(R===Gn.NONE||ts(),H,"unsupported-persistence-type")}(re._delegate,B),B){case Gn.SESSION:Ne=O.a;break;case Gn.LOCAL:Ne=(yield O.az(O.i)._isAvailable())?O.i:O.b;break;case Gn.NONE:Ne=O.L;break;default:return O.as("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Ut(this._delegate,O.X(this._delegate))}signInWithCredential(B){return Ut(this._delegate,O.Y(this._delegate,B))}signInWithCustomToken(B){return Ut(this._delegate,O.$(this._delegate,B))}signInWithEmailAndPassword(B,re){return Ut(this._delegate,O.a6(this._delegate,B,re))}signInWithEmailLink(B,re){return Ut(this._delegate,O.a9(this._delegate,B,re))}signInWithPhoneNumber(B,re){return ii(this._delegate,O.s(this._delegate,B,re))}signInWithPopup(B){var re=this;return(0,l.Z)(function*(){return nt($n(),re._delegate,"operation-not-supported-in-this-environment"),Ut(re._delegate,O.c(re._delegate,B,Pt))})()}signInWithRedirect(B){var re=this;return(0,l.Z)(function*(){return nt($n(),re._delegate,"operation-not-supported-in-this-environment"),yield En(re._delegate),O.f(re._delegate,B,Pt)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return O.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=Gn,H})();function rt(H,R,B){let re=H;"function"!=typeof H&&({next:re,error:R,complete:B}=H);const Ne=re;return{next:lt=>Ne(lt&&An.getOrCreate(lt)),error:R,complete:B}}function Dt(H,R){const B=function vn(H,R){const B=gt();if(!B)return[];const re=O.aA(fr,H,R);switch(B.getItem(re)){case Gn.NONE:return[O.L];case Gn.LOCAL:return[O.i,O.a];case Gn.SESSION:return[O.a];default:return[]}}(H,R);if(typeof self<"u"&&!B.includes(O.i)&&B.push(O.i),typeof window<"u")for(const re of[O.b,O.a])B.includes(re)||B.push(re);return B.includes(O.L)||B.push(O.L),B}class It{constructor(){this.providerId="phone",this._delegate=new O.P(Kr(j.Z.auth()))}static credential(R,B){return O.P.credential(R,B)}verifyPhoneNumber(R,B){return this._delegate.verifyPhoneNumber(R,B)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=O.P.PROVIDER_ID;const en=O.ax;class q{constructor(R,B,re=j.Z.app()){var Ne;en(null===(Ne=re.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new O.R(R,B,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(H){H.INTERNAL.registerComponent(new ae.wA("auth-compat",R=>{const B=R.getProvider("app-compat").getImmediate(),re=R.getProvider("auth");return new Ie(B,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:q,TwitterAuthProvider:O.W,Auth:Ie,AuthCredential:O.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.2.24")}(j.Z)},9751:(ht,Se,F)=>{F.d(Se,{y:()=>fe});var l=F(930),j=F(727),O=F(8822),oe=F(9635),ue=F(2416),ge=F(576),ae=F(2806);let fe=(()=>{class X{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const De=new X;return De.source=this,De.operator=ke,De}subscribe(ke,De,it){const be=function z(X){return X&&X instanceof l.Lv||function Z(X){return X&&(0,ge.m)(X.next)&&(0,ge.m)(X.error)&&(0,ge.m)(X.complete)}(X)&&(0,j.Nn)(X)}(ke)?ke:new l.Hp(ke,De,it);return(0,ae.x)(()=>{const{operator:me,source:et}=this;be.add(me?me.call(be,et):et?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(ke){try{return this._subscribe(ke)}catch(De){ke.error(De)}}forEach(ke,De){return new(De=ye(De))((it,be)=>{const me=new l.Hp({next:et=>{try{ke(et)}catch(Ke){be(Ke),me.unsubscribe()}},error:be,complete:it});this.subscribe(me)})}_subscribe(ke){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,oe.U)(ke)(this)}toPromise(ke){return new(ke=ye(ke))((De,it)=>{let be;this.subscribe(me=>be=me,me=>it(me),()=>De(be))})}}return X.create=Ue=>new X(Ue),X})();function ye(X){var Ue;return null!==(Ue=X??ue.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ht,Se,F)=>{F.d(Se,{x:()=>ae});var l=F(9751),j=F(727);const oe=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(8737),ge=F(2806);let ae=(()=>{class ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new fe(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(z)}})}error(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:Ue,observers:ke}=this;return X||Ue?j.Lc:(this.currentObservers=null,ke.push(z),new j.w0(()=>{this.currentObservers=null,(0,ue.P)(ke,z)}))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:Ue,isStopped:ke}=this;X?z.error(Ue):ke&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return ye.create=(Z,z)=>new fe(Z,z),ye})();class fe extends ae{constructor(Z,z){super(),this.destination=Z,this.source=z}next(Z){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,Z)}error(Z){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,Z)}complete(){var Z,z;null===(z=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===z||z.call(Z)}_subscribe(Z){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe(Z))&&void 0!==X?X:j.Lc}}},930:(ht,Se,F)=>{F.d(Se,{Hp:()=>it,Lv:()=>X});var l=F(576),j=F(727),O=F(2416),oe=F(7849),ue=F(5032);const ge=ye("C",void 0,void 0);function ye(Oe,Re,Ce){return{kind:Oe,value:Re,error:Ce}}var Z=F(3410),z=F(2806);class X extends j.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,j.Nn)(Re)&&Re.add(this)):this.destination=Ke}static create(Re,Ce,Ge){return new it(Re,Ce,Ge)}next(Re){this.isStopped?et(function fe(Oe){return ye("N",Oe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?et(function ae(Oe){return ye("E",void 0,Oe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?et(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ke(Oe,Re){return Ue.call(Oe,Re)}class De{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Re)}catch(Ge){be(Ge)}}error(Re){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Re)}catch(Ge){be(Ge)}else be(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ce){be(Ce)}}}class it extends X{constructor(Re,Ce,Ge){let se;if(super(),(0,l.m)(Re)||!Re)se={next:Re??void 0,error:Ce??void 0,complete:Ge??void 0};else{let de;this&&O.v.useDeprecatedNextContext?(de=Object.create(Re),de.unsubscribe=()=>this.unsubscribe(),se={next:Re.next&&ke(Re.next,de),error:Re.error&&ke(Re.error,de),complete:Re.complete&&ke(Re.complete,de)}):se=Re}this.destination=new De(se)}}function be(Oe){O.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Oe):(0,oe.h)(Oe)}function et(Oe,Re){const{onStoppedNotification:Ce}=O.v;Ce&&Z.z.setTimeout(()=>Ce(Oe,Re))}const Ke={closed:!0,next:ue.Z,error:function me(Oe){throw Oe},complete:ue.Z}},727:(ht,Se,F)=>{F.d(Se,{Lc:()=>ge,w0:()=>ue,Nn:()=>ae});var l=F(576);const O=(0,F(3888).d)(ye=>function(z){ye(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,Ue)=>`${Ue+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=F(8737);class ue{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(ke){Z=ke instanceof O?ke.errors:[ke]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ke of Ue)try{fe(ke)}catch(De){Z=Z??[],De instanceof O?Z=[...Z,...De.errors]:Z.push(De)}}if(Z)throw new O(Z)}}add(Z){var z;if(Z&&Z!==this)if(this.closed)fe(Z);else{if(Z instanceof ue){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(Z)}}_hasParent(Z){const{_parentage:z}=this;return z===Z||Array.isArray(z)&&z.includes(Z)}_addParent(Z){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(Z),z):z?[z,Z]:Z}_removeParent(Z){const{_parentage:z}=this;z===Z?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,Z)}remove(Z){const{_finalizers:z}=this;z&&(0,oe.P)(z,Z),Z instanceof ue&&Z._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const ge=ue.EMPTY;function ae(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,l.m)(ye.remove)&&(0,l.m)(ye.add)&&(0,l.m)(ye.unsubscribe)}function fe(ye){(0,l.m)(ye)?ye():ye.unsubscribe()}},2416:(ht,Se,F)=>{F.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Se,F)=>{F.d(Se,{E:()=>j});const j=new(F(9751).y)(ue=>ue.complete())},8996:(ht,Se,F)=>{F.d(Se,{D:()=>Re});var l=F(8421),j=F(5363),O=F(9468),ge=F(9751),fe=F(2202),ye=F(576),Z=F(9672);function X(Ce,Ge){if(!Ce)throw new Error("Iterable cannot be null");return new ge.y(se=>{(0,Z.f)(se,Ge,()=>{const de=Ce[Symbol.asyncIterator]();(0,Z.f)(se,Ge,()=>{de.next().then(ve=>{ve.done?se.complete():se.next(ve.value)})},0,!0)})})}var Ue=F(3670),ke=F(8239),De=F(1144),it=F(6495),be=F(2206),me=F(4532),et=F(3260);function Re(Ce,Ge){return Ge?function Oe(Ce,Ge){if(null!=Ce){if((0,Ue.c)(Ce))return function oe(Ce,Ge){return(0,l.Xf)(Ce).pipe((0,O.R)(Ge),(0,j.Q)(Ge))}(Ce,Ge);if((0,De.z)(Ce))return function ae(Ce,Ge){return new ge.y(se=>{let de=0;return Ge.schedule(function(){de===Ce.length?se.complete():(se.next(Ce[de++]),se.closed||this.schedule())})})}(Ce,Ge);if((0,ke.t)(Ce))return function ue(Ce,Ge){return(0,l.Xf)(Ce).pipe((0,O.R)(Ge),(0,j.Q)(Ge))}(Ce,Ge);if((0,be.D)(Ce))return X(Ce,Ge);if((0,it.T)(Ce))return function z(Ce,Ge){return new ge.y(se=>{let de;return(0,Z.f)(se,Ge,()=>{de=Ce[fe.h](),(0,Z.f)(se,Ge,()=>{let ve,K;try{({value:ve,done:K}=de.next())}catch(ee){return void se.error(ee)}K?se.complete():se.next(ve)},0,!0)}),()=>(0,ye.m)(de?.return)&&de.return()})}(Ce,Ge);if((0,et.L)(Ce))return function Ke(Ce,Ge){return X((0,et.Q)(Ce),Ge)}(Ce,Ge)}throw(0,me.z)(Ce)}(Ce,Ge):(0,l.Xf)(Ce)}},8421:(ht,Se,F)=>{F.d(Se,{Xf:()=>Ue});var l=F(655),j=F(1144),O=F(8239),oe=F(9751),ue=F(3670),ge=F(2206),ae=F(4532),fe=F(6495),ye=F(3260),Z=F(576),z=F(7849),X=F(8822);function Ue(Oe){if(Oe instanceof oe.y)return Oe;if(null!=Oe){if((0,ue.c)(Oe))return function ke(Oe){return new oe.y(Re=>{const Ce=Oe[X.L]();if((0,Z.m)(Ce.subscribe))return Ce.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,j.z)(Oe))return function De(Oe){return new oe.y(Re=>{for(let Ce=0;Ce<Oe.length&&!Re.closed;Ce++)Re.next(Oe[Ce]);Re.complete()})}(Oe);if((0,O.t)(Oe))return function it(Oe){return new oe.y(Re=>{Oe.then(Ce=>{Re.closed||(Re.next(Ce),Re.complete())},Ce=>Re.error(Ce)).then(null,z.h)})}(Oe);if((0,ge.D)(Oe))return me(Oe);if((0,fe.T)(Oe))return function be(Oe){return new oe.y(Re=>{for(const Ce of Oe)if(Re.next(Ce),Re.closed)return;Re.complete()})}(Oe);if((0,ye.L)(Oe))return function et(Oe){return me((0,ye.Q)(Oe))}(Oe)}throw(0,ae.z)(Oe)}function me(Oe){return new oe.y(Re=>{(function Ke(Oe,Re){var Ce,Ge,se,de;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,l.KL)(Oe);!(Ge=yield Ce.next()).done;)if(Re.next(Ge.value),Re.closed)return}catch(ve){se={error:ve}}finally{try{Ge&&!Ge.done&&(de=Ce.return)&&(yield de.call(Ce))}finally{if(se)throw se.error}}Re.complete()})})(Oe,Re).catch(Ce=>Re.error(Ce))})}},6451:(ht,Se,F)=>{F.d(Se,{T:()=>ge});var l=F(8189),j=F(8421),O=F(515),oe=F(3269),ue=F(8996);function ge(...ae){const fe=(0,oe.yG)(ae),ye=(0,oe._6)(ae,1/0),Z=ae;return Z.length?1===Z.length?(0,j.Xf)(Z[0]):(0,l.J)(ye)((0,ue.D)(Z,fe)):O.E}},5403:(ht,Se,F)=>{F.d(Se,{x:()=>j});var l=F(930);function j(oe,ue,ge,ae,fe){return new O(oe,ue,ge,ae,fe)}class O extends l.Lv{constructor(ue,ge,ae,fe,ye,Z){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=Z,this._next=ge?function(z){try{ge(z)}catch(X){ue.error(X)}}:super._next,this._error=fe?function(z){try{fe(z)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(z){ue.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(ht,Se,F)=>{F.d(Se,{U:()=>O});var l=F(4482),j=F(5403);function O(oe,ue){return(0,l.e)((ge,ae)=>{let fe=0;ge.subscribe((0,j.x)(ae,ye=>{ae.next(oe.call(ue,ye,fe++))}))})}},8189:(ht,Se,F)=>{F.d(Se,{J:()=>O});var l=F(5577),j=F(4671);function O(oe=1/0){return(0,l.z)(j.y,oe)}},5577:(ht,Se,F)=>{F.d(Se,{z:()=>fe});var l=F(4004),j=F(8421),O=F(4482),oe=F(9672),ue=F(5403),ae=F(576);function fe(ye,Z,z=1/0){return(0,ae.m)(Z)?fe((X,Ue)=>(0,l.U)((ke,De)=>Z(X,ke,Ue,De))((0,j.Xf)(ye(X,Ue))),z):("number"==typeof Z&&(z=Z),(0,O.e)((X,Ue)=>function ge(ye,Z,z,X,Ue,ke,De,it){const be=[];let me=0,et=0,Ke=!1;const Oe=()=>{Ke&&!be.length&&!me&&Z.complete()},Re=Ge=>me<X?Ce(Ge):be.push(Ge),Ce=Ge=>{ke&&Z.next(Ge),me++;let se=!1;(0,j.Xf)(z(Ge,et++)).subscribe((0,ue.x)(Z,de=>{Ue?.(de),ke?Re(de):Z.next(de)},()=>{se=!0},void 0,()=>{if(se)try{for(me--;be.length&&me<X;){const de=be.shift();De?(0,oe.f)(Z,De,()=>Ce(de)):Ce(de)}Oe()}catch(de){Z.error(de)}}))};return ye.subscribe((0,ue.x)(Z,Re,()=>{Ke=!0,Oe()})),()=>{it?.()}}(X,Ue,ye,z)))}},5363:(ht,Se,F)=>{F.d(Se,{Q:()=>oe});var l=F(9672),j=F(4482),O=F(5403);function oe(ue,ge=0){return(0,j.e)((ae,fe)=>{ae.subscribe((0,O.x)(fe,ye=>(0,l.f)(fe,ue,()=>fe.next(ye),ge),()=>(0,l.f)(fe,ue,()=>fe.complete(),ge),ye=>(0,l.f)(fe,ue,()=>fe.error(ye),ge)))})}},3099:(ht,Se,F)=>{F.d(Se,{B:()=>ue});var l=F(8421),j=F(7579),O=F(930),oe=F(4482);function ue(ae={}){const{connector:fe=(()=>new j.x),resetOnError:ye=!0,resetOnComplete:Z=!0,resetOnRefCountZero:z=!0}=ae;return X=>{let Ue,ke,De,it=0,be=!1,me=!1;const et=()=>{ke?.unsubscribe(),ke=void 0},Ke=()=>{et(),Ue=De=void 0,be=me=!1},Oe=()=>{const Re=Ue;Ke(),Re?.unsubscribe()};return(0,oe.e)((Re,Ce)=>{it++,!me&&!be&&et();const Ge=De=De??fe();Ce.add(()=>{it--,0===it&&!me&&!be&&(ke=ge(Oe,z))}),Ge.subscribe(Ce),!Ue&&it>0&&(Ue=new O.Hp({next:se=>Ge.next(se),error:se=>{me=!0,et(),ke=ge(Ke,ye,se),Ge.error(se)},complete:()=>{be=!0,et(),ke=ge(Ke,Z),Ge.complete()}}),(0,l.Xf)(Re).subscribe(Ue))})(X)}}function ge(ae,fe,...ye){if(!0===fe)return void ae();if(!1===fe)return;const Z=new O.Hp({next:()=>{Z.unsubscribe(),ae()}});return fe(...ye).subscribe(Z)}},9468:(ht,Se,F)=>{F.d(Se,{R:()=>j});var l=F(4482);function j(O,oe=0){return(0,l.e)((ue,ge)=>{ge.add(O.schedule(()=>ue.subscribe(ge),oe))})}},8505:(ht,Se,F)=>{F.d(Se,{b:()=>ue});var l=F(576),j=F(4482),O=F(5403),oe=F(4671);function ue(ge,ae,fe){const ye=(0,l.m)(ge)||ae||fe?{next:ge,error:ae,complete:fe}:ge;return ye?(0,j.e)((Z,z)=>{var X;null===(X=ye.subscribe)||void 0===X||X.call(ye);let Ue=!0;Z.subscribe((0,O.x)(z,ke=>{var De;null===(De=ye.next)||void 0===De||De.call(ye,ke),z.next(ke)},()=>{var ke;Ue=!1,null===(ke=ye.complete)||void 0===ke||ke.call(ye),z.complete()},ke=>{var De;Ue=!1,null===(De=ye.error)||void 0===De||De.call(ye,ke),z.error(ke)},()=>{var ke,De;Ue&&(null===(ke=ye.unsubscribe)||void 0===ke||ke.call(ye)),null===(De=ye.finalize)||void 0===De||De.call(ye)}))}):oe.y}},4408:(ht,Se,F)=>{F.d(Se,{o:()=>ue});var l=F(727);class j extends l.w0{constructor(ae,fe){super()}schedule(ae,fe=0){return this}}const O={setInterval(ge,ae,...fe){const{delegate:ye}=O;return ye?.setInterval?ye.setInterval(ge,ae,...fe):setInterval(ge,ae,...fe)},clearInterval(ge){const{delegate:ae}=O;return(ae?.clearInterval||clearInterval)(ge)},delegate:void 0};var oe=F(8737);class ue extends j{constructor(ae,fe){super(ae,fe),this.scheduler=ae,this.work=fe,this.pending=!1}schedule(ae,fe=0){var ye;if(this.closed)return this;this.state=ae;const Z=this.id,z=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(z,Z,fe)),this.pending=!0,this.delay=fe,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(z,this.id,fe),this}requestAsyncId(ae,fe,ye=0){return O.setInterval(ae.flush.bind(ae,this),ye)}recycleAsyncId(ae,fe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return fe;null!=fe&&O.clearInterval(fe)}execute(ae,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(ae,fe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,fe){let Z,ye=!1;try{this.work(ae)}catch(z){ye=!0,Z=z||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ae,scheduler:fe}=this,{actions:ye}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ye,this),null!=ae&&(this.id=this.recycleAsyncId(fe,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Se,F)=>{F.d(Se,{v:()=>O});var l=F(6063);class j{constructor(ue,ge=j.now){this.schedulerActionCtor=ue,this.now=ge}schedule(ue,ge=0,ae){return new this.schedulerActionCtor(this,ue).schedule(ae,ge)}}j.now=l.l.now;class O extends j{constructor(ue,ge=j.now){super(ue,ge),this.actions=[],this._active=!1}flush(ue){const{actions:ge}=this;if(this._active)return void ge.push(ue);let ae;this._active=!0;do{if(ae=ue.execute(ue.state,ue.delay))break}while(ue=ge.shift());if(this._active=!1,ae){for(;ue=ge.shift();)ue.unsubscribe();throw ae}}}},4986:(ht,Se,F)=>{F.d(Se,{P:()=>oe,z:()=>O});var l=F(4408);const O=new(F(7565).v)(l.o),oe=O},6063:(ht,Se,F)=>{F.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ht,Se,F)=>{F.d(Se,{z:()=>l});const l={setTimeout(j,O,...oe){const{delegate:ue}=l;return ue?.setTimeout?ue.setTimeout(j,O,...oe):setTimeout(j,O,...oe)},clearTimeout(j){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ht,Se,F)=>{F.d(Se,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Se,F)=>{F.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Se,F)=>{F.d(Se,{_6:()=>ge,jO:()=>oe,yG:()=>ue});var l=F(576),j=F(3532);function O(ae){return ae[ae.length-1]}function oe(ae){return(0,l.m)(O(ae))?ae.pop():void 0}function ue(ae){return(0,j.K)(O(ae))?ae.pop():void 0}function ge(ae,fe){return"number"==typeof O(ae)?ae.pop():fe}},8737:(ht,Se,F)=>{function l(j,O){if(j){const oe=j.indexOf(O);0<=oe&&j.splice(oe,1)}}F.d(Se,{P:()=>l})},3888:(ht,Se,F)=>{function l(j){const oe=j(ue=>{Error.call(ue),ue.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Se,{d:()=>l})},2806:(ht,Se,F)=>{F.d(Se,{O:()=>oe,x:()=>O});var l=F(2416);let j=null;function O(ue){if(l.v.useDeprecatedSynchronousErrorHandling){const ge=!j;if(ge&&(j={errorThrown:!1,error:null}),ue(),ge){const{errorThrown:ae,error:fe}=j;if(j=null,ae)throw fe}}else ue()}function oe(ue){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=ue)}},9672:(ht,Se,F)=>{function l(j,O,oe,ue=0,ge=!1){const ae=O.schedule(function(){oe(),ge?j.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(j.add(ae),!ge)return ae}F.d(Se,{f:()=>l})},4671:(ht,Se,F)=>{function l(j){return j}F.d(Se,{y:()=>l})},1144:(ht,Se,F)=>{F.d(Se,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ht,Se,F)=>{F.d(Se,{D:()=>j});var l=F(576);function j(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(ht,Se,F)=>{function l(j){return"function"==typeof j}F.d(Se,{m:()=>l})},3670:(ht,Se,F)=>{F.d(Se,{c:()=>O});var l=F(8822),j=F(576);function O(oe){return(0,j.m)(oe[l.L])}},6495:(ht,Se,F)=>{F.d(Se,{T:()=>O});var l=F(2202),j=F(576);function O(oe){return(0,j.m)(oe?.[l.h])}},8239:(ht,Se,F)=>{F.d(Se,{t:()=>j});var l=F(576);function j(O){return(0,l.m)(O?.then)}},3260:(ht,Se,F)=>{F.d(Se,{L:()=>oe,Q:()=>O});var l=F(655),j=F(576);function O(ue){return(0,l.FC)(this,arguments,function*(){const ae=ue.getReader();try{for(;;){const{value:fe,done:ye}=yield(0,l.qq)(ae.read());if(ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{ae.releaseLock()}})}function oe(ue){return(0,j.m)(ue?.getReader)}},3532:(ht,Se,F)=>{F.d(Se,{K:()=>j});var l=F(576);function j(O){return O&&(0,l.m)(O.schedule)}},4482:(ht,Se,F)=>{F.d(Se,{A:()=>j,e:()=>O});var l=F(576);function j(oe){return(0,l.m)(oe?.lift)}function O(oe){return ue=>{if(j(ue))return ue.lift(function(ge){try{return oe(ge,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Se,F)=>{function l(){}F.d(Se,{Z:()=>l})},9635:(ht,Se,F)=>{F.d(Se,{U:()=>O,z:()=>j});var l=F(4671);function j(...oe){return O(oe)}function O(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(ge){return oe.reduce((ae,fe)=>fe(ae),ge)}}},7849:(ht,Se,F)=>{F.d(Se,{h:()=>O});var l=F(2416),j=F(3410);function O(oe){j.z.setTimeout(()=>{const{onUnhandledError:ue}=l.v;if(!ue)throw oe;ue(oe)})}},4532:(ht,Se,F)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>l})},655:(ht,Se,F)=>{function oe(K,ee){var pe={};for(var le in K)Object.prototype.hasOwnProperty.call(K,le)&&ee.indexOf(le)<0&&(pe[le]=K[le]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(le=Object.getOwnPropertySymbols(K);Be<le.length;Be++)ee.indexOf(le[Be])<0&&Object.prototype.propertyIsEnumerable.call(K,le[Be])&&(pe[le[Be]]=K[le[Be]])}return pe}function fe(K,ee,pe,le){return new(pe||(pe=Promise))(function(Ve,mt){function an(fn){try{qe(le.next(fn))}catch(Cn){mt(Cn)}}function zt(fn){try{qe(le.throw(fn))}catch(Cn){mt(Cn)}}function qe(fn){fn.done?Ve(fn.value):function Be(Ve){return Ve instanceof pe?Ve:new pe(function(mt){mt(Ve)})}(fn.value).then(an,zt)}qe((le=le.apply(K,ee||[])).next())})}function be(K){return this instanceof be?(this.v=K,this):new be(K)}function me(K,ee,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,le=pe.apply(K,ee||[]),Ve=[];return Be={},mt("next"),mt("throw"),mt("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function mt(nn){le[nn]&&(Be[nn]=function(rn){return new Promise(function(Yt,jt){Ve.push([nn,rn,Yt,jt])>1||an(nn,rn)})})}function an(nn,rn){try{!function zt(nn){nn.value instanceof be?Promise.resolve(nn.value.v).then(qe,fn):Cn(Ve[0][2],nn)}(le[nn](rn))}catch(Yt){Cn(Ve[0][3],Yt)}}function qe(nn){an("next",nn)}function fn(nn){an("throw",nn)}function Cn(nn,rn){nn(rn),Ve.shift(),Ve.length&&an(Ve[0][0],Ve[0][1])}}function Ke(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ee=K[Symbol.asyncIterator];return ee?ee.call(K):(K=function X(K){var ee="function"==typeof Symbol&&Symbol.iterator,pe=ee&&K[ee],le=0;if(pe)return pe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&le>=K.length&&(K=void 0),{value:K&&K[le++],done:!K}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),pe={},le("next"),le("throw"),le("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function le(Ve){pe[Ve]=K[Ve]&&function(mt){return new Promise(function(an,zt){!function Be(Ve,mt,an,zt){Promise.resolve(zt).then(function(qe){Ve({value:qe,done:an})},mt)}(an,zt,(mt=K[Ve](mt)).done,mt.value)})}}}F.d(Se,{FC:()=>me,KL:()=>Ke,_T:()=>oe,mG:()=>fe,qq:()=>be})},4650:(ht,Se,F)=>{F.d(Se,{$8M:()=>Cl,$Z:()=>zS,AFp:()=>gE,ALo:()=>GC,AaK:()=>fe,BQk:()=>Kh,CHM:()=>sh,CRH:()=>Zm,CZH:()=>Br,CqO:()=>TT,D6c:()=>yg,EJc:()=>yE,EpF:()=>IT,F$t:()=>Xh,F4k:()=>ST,FYo:()=>A_,FiY:()=>ze,G48:()=>RE,Gf:()=>NA,GfV:()=>rS,GkF:()=>hy,Gpc:()=>z,Hsn:()=>Jh,Ikx:()=>lf,JOm:()=>ja,KtG:()=>Ro,LFG:()=>Hn,LSH:()=>w_,Lbi:()=>ia,Lck:()=>PC,MAs:()=>x0,MMx:()=>ev,NdJ:()=>k0,O4$:()=>fc,OlP:()=>Sn,Oqu:()=>Om,PXZ:()=>Wr,Q6J:()=>uy,QGY:()=>R0,QP$:()=>Ne,QbO:()=>ZA,Qsj:()=>pO,R0b:()=>Bs,RDi:()=>vh,Rgc:()=>wd,SBq:()=>Fc,Sil:()=>yv,Suo:()=>dv,TTD:()=>Ds,TgZ:()=>Ps,Udp:()=>_y,VKq:()=>UC,WFA:()=>O0,X6Q:()=>xE,XFs:()=>Qe,Xpm:()=>Ie,Xts:()=>C_,Y36:()=>Bh,YKP:()=>wf,YNc:()=>M0,Yjl:()=>H,Yz7:()=>rn,Z0I:()=>Hi,ZZ4:()=>eu,_Bn:()=>OC,_UZ:()=>Yh,_Vd:()=>Yp,_c5:()=>tu,_uU:()=>Lr,aQg:()=>Pv,c2e:()=>Dd,cJS:()=>jt,cg1:()=>uC,d8E:()=>ky,dDg:()=>wE,dqk:()=>Pt,eFA:()=>EE,ekj:()=>q0,eoX:()=>Cv,f3M:()=>I,g9A:()=>Nf,h0i:()=>bd,hGG:()=>nl,hij:()=>rf,iGM:()=>If,ifc:()=>_t,ip1:()=>mv,jDz:()=>LC,kL8:()=>dC,kcU:()=>Ou,lG2:()=>Y,lcZ:()=>IA,lqb:()=>Nc,lri:()=>rg,n5z:()=>Ms,n_E:()=>iv,oAB:()=>en,oxw:()=>Qh,q4F:()=>_w,qLn:()=>Kp,qOj:()=>ry,qZA:()=>cd,rWj:()=>ig,s9C:()=>N0,sBO:()=>eM,sIi:()=>jc,s_b:()=>Ef,soG:()=>Id,tb:()=>Xm,tp0:()=>ct,uIk:()=>sy,vHH:()=>De,vpe:()=>Xa,wAp:()=>kt,xp6:()=>RS,ynx:()=>zc,z2F:()=>Xc,zSh:()=>Rs,zs3:()=>Lc});var l=F(7579),j=F(727),O=F(9751),oe=F(6451),ue=F(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ae(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Z=ge({__forward_ref__:ge});function z(s){return s.__forward_ref__=z,s.toString=function(){return fe(this())},s}function X(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(Z)&&s.__forward_ref__===z}class De extends Error{constructor(o,c){super(function it(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new De(-201,!1)}function zt(s,o){null==s&&function qe(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function xr(s){return jr(s,$r)||jr(s,Di)}function Hi(s){return null!==xr(s)}function jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ts(s){return s&&(s.hasOwnProperty($n)||s.hasOwnProperty(ns))?s[$n]:null}const $r=ge({\u0275prov:ge}),$n=ge({\u0275inj:ge}),Di=ge({ngInjectableDef:ge}),ns=ge({ngInjectorDef:ge});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let Qn;function wn(s){const o=Qn;return Qn=s,o}function fr(s,o,c){const d=xr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Qe.Optional?null:void 0!==o?o:void Re(fe(s))}function En(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),_t=(()=>{return(s=_t||(_t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_t;var s})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rr={},Rt=[],Gr=ge({\u0275cmp:ge}),Ut=ge({\u0275dir:ge}),ii=ge({\u0275pipe:ge}),Qt=ge({\u0275mod:ge}),ur=ge({\u0275fac:ge}),An=ge({__NG_ELEMENT_ID__:ge});let nt=0;function Ie(s){return En(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Rt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,id:"c"+nt++,styles:s.styles||Rt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=$(s.inputs,d),f.outputs=$(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Dt).filter(It):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(re).filter(It):null,f})}function Dt(s){return R(s)||B(s)}function It(s){return null!==s}function en(s){return En(()=>({type:s.type,bootstrap:s.bootstrap||Rt,declarations:s.declarations||Rt,imports:s.imports||Rt,exports:s.exports||Rt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function $(s,o){if(null==s)return Rr;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,o&&(o[f]=p)}return c}const Y=Ie;function H(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function R(s){return s[Gr]||null}function B(s){return s[Ut]||null}function re(s){return s[ii]||null}function Ne(s){const o=R(s)||B(s)||re(s);return null!==o&&o.standalone}function at(s,o){const c=s[Qt]||null;if(!c&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return c}function Jn(s){return Array.isArray(s)&&"object"==typeof s[1]}function oi(s){return Array.isArray(s)&&!0===s[1]}function Ks(s){return 0!=(8&s.flags)}function al(s){return 2==(2&s.flags)}function fa(s){return 1==(1&s.flags)}function Xr(s){return null!==s.template}function sc(s){return 0!=(256&s[2])}function wr(s,o){return s.hasOwnProperty(ur)?s[ur]:null}class So{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ds(){return Du}function Du(s){return s.type.prototype.ngOnChanges&&(s.setInput=oc),ul}function ul(){const s=To(this),o=s?.current;if(o){const c=s.previous;if(c===Rr)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function oc(s,o,c,d){const f=To(s)||function dl(s,o){return s[Iu]=o}(s,{previous:Rr,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],D=y[w];p[w]=new So(D&&D.currentValue,o,y===Rr),s[d]=o}Ds.ngInherit=!0;const Iu="__ngSimpleChanges__";function To(s){return s[Iu]||null}function Fn(s){for(;Array.isArray(s);)s=s[0];return s}function Ii(s,o){return Fn(o[s])}function Cr(s,o){return Fn(o[s.index])}function Mo(s,o){return s.data[o]}function ji(s,o){return s[o]}function ln(s,o){const c=o[s];return Jn(c)?c:c[0]}function Is(s){return 64==(64&s[2])}function ui(s,o){return null==o?null:s[o]}function ga(s){s[18]=0}function Bn(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ft={lFrame:Sa(null),bindingsEnabled:!0};function Js(){return Ft.bindingsEnabled}function xe(){return Ft.lFrame.lView}function Kt(){return Ft.lFrame.tView}function sh(s){return Ft.lFrame.contextLView=s,s[8]}function Ro(s){return Ft.lFrame.contextLView=null,s}function er(){let s=ko();for(;null!==s&&64===s.type;)s=s.parent;return s}function ko(){return Ft.lFrame.currentTNode}function zr(s,o){const c=Ft.lFrame;c.currentTNode=s,c.isParent=o}function pl(){return Ft.lFrame.isParent}function Oo(){Ft.lFrame.isParent=!1}function tr(){const s=Ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ea(){return Ft.lFrame.bindingIndex++}function Mu(s,o){const c=Ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,Po(o)}function Po(s){Ft.lFrame.currentDirectiveIndex=s}function dc(s){const o=Ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Da(){return Ft.lFrame.currentQueryIndex}function hc(s){Ft.lFrame.currentQueryIndex=s}function Ia(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function xu(s,o,c){if(c&Qe.SkipSelf){let f=o,p=s;for(;!(f=f.parent,null!==f||c&Qe.Host||(f=Ia(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;o=f,s=p}const d=Ft.lFrame=lh();return d.currentTNode=o,d.lView=s,!0}function No(s){const o=lh(),c=s[1];Ft.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function lh(){const s=Ft.lFrame,o=null===s?null:s.child;return null===o?Sa(s):o}function Sa(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ch(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ru=ch;function Ss(){const s=ch();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Rn(){return Ft.lFrame.selectedIndex}function cs(s){Ft.lFrame.selectedIndex=s}function kn(){const s=Ft.lFrame;return Mo(s.tView,s.selectedIndex)}function fc(){Ft.lFrame.currentNamespace="svg"}function Ou(){!function mc(){Ft.lFrame.currentNamespace=null}()}function ml(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:k}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-c,D),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(c,k)}}function Fo(s,o,c){Bo(s,o,3,c)}function Lo(s,o,c,d){(3&s[2])===c&&Bo(s,o,c,d)}function Pu(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Bo(s,o,c,d){const p=d??-1,y=o.length-1;let w=0;for(let D=void 0!==d?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=d&&w>=d)break}else o[D]<0&&(s[18]+=65536),(w<p||-1==p)&&(Nu(s,c,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Nu(s,o,c,d){const f=c[d]<0,p=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class di{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function us(s,o,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];s.setAttribute(o,y,w,p)}else{const p=f,y=c[++d];vc(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function Aa(s){return 3===s||4===s||6===s}function vc(s){return 64===s.charCodeAt(0)}function Ma(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||Lu(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function Lu(s,o,c,d,f){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function dh(s){return-1!==s}function nr(s){return 32767&s}function As(s,o){let c=function hh(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let bc=!0;function xa(s){const o=bc;return bc=s,o}let Bu=0;const ei={};function ds(s,o){const c=vl(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,wc(d.data,s),wc(o,null),wc(d.blueprint,null));const f=Ra(s,o),p=s.injectorIndex;if(dh(f)){const y=nr(f),w=As(f,o),D=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|D[y+A]}return o[p+8]=f,p}function wc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ra(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=zo(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function to(s,o,c){!function Vu(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(An)&&(d=c[An]),null==d&&(d=c[An]=Bu++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function Uo(s,o,c){if(c&Qe.Optional||void 0!==s)return s;Re()}function no(s,o,c,d){if(c&Qe.Optional&&void 0===d&&(d=null),0==(c&(Qe.Self|Qe.Host))){const f=s[9],p=wn(void 0);try{return f?f.get(o,d,c&Qe.Optional):fr(o,d,c&Qe.Optional)}finally{wn(p)}}return Uo(d,0,c)}function Ho(s,o,c,d=Qe.Default,f){if(null!==s){if(1024&o[2]){const y=function mh(s,o,c,d,f){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Uu(p,y,c,d|Qe.Self,ei);if(w!==ei)return w;let D=p.parent;if(!D){const A=y[21];if(A){const k=A.get(c,ei,d);if(k!==ei)return k}D=zo(y),y=y[15]}p=D}return f}(s,o,c,d,ei);if(y!==ei)return y}const p=Uu(s,o,c,d,ei);if(p!==ei)return p}return no(o,c,d,f)}function Uu(s,o,c,d,f){const p=function ph(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(An)?s[An]:void 0;return"number"==typeof o?o>=0?255&o:Cc:o}(c);if("function"==typeof p){if(!xu(o,s,d))return d&Qe.Host?Uo(f,0,d):no(o,c,d,f);try{const y=p(d);if(null!=y||d&Qe.Optional)return y;Re()}finally{Ru()}}else if("number"==typeof p){let y=null,w=vl(s,o),D=-1,A=d&Qe.Host?o[16][6]:null;for((-1===w||d&Qe.SkipSelf)&&(D=-1===w?Ra(s,o):o[w+8],-1!==D&&wl(d,!1)?(y=o[1],w=nr(D),o=As(D,o)):w=-1);-1!==w;){const k=o[1];if(jo(p,w,k.data)){const L=bl(w,o,c,y,d,A);if(L!==ei)return L}D=o[w+8],-1!==D&&wl(d,o[1].data[w+8]===A)&&jo(p,w,o)?(y=k,w=nr(D),o=As(D,o)):w=-1}}return f}function bl(s,o,c,d,f,p){const y=o[1],w=y.data[s+8],k=Oa(w,y,c,null==d?al(w)&&bc:d!=y&&0!=(3&w.type),f&Qe.Host&&p===w);return null!==k?Gi(o,y,k,w):ei}function Oa(s,o,c,d,f){const p=s.providerIndexes,y=o.data,w=1048575&p,D=s.directiveStart,k=p>>20,W=f?w+k:s.directiveEnd;for(let ne=d?w:w+k;ne<W;ne++){const Ee=y[ne];if(ne<D&&c===Ee||ne>=D&&Ee.type===c)return ne}if(f){const ne=y[D];if(ne&&Xr(ne)&&ne.type===c)return D}return null}function Gi(s,o,c,d){let f=s[c];const p=o.data;if(function yc(s){return s instanceof di}(f)){const y=f;y.resolving&&function et(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${c}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}(p[c]));const w=xa(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?wn(y.injectImpl):null;xu(s,d,Qe.Default);try{f=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function _c(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=o.type.prototype;if(d){const y=Du(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==D&&wn(D),xa(w),y.resolving=!1,Ru()}}return f}function jo(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function wl(s,o){return!(s&Qe.Self||s&Qe.Host&&o)}class $o{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Ho(this._tNode,this._lView,o,d,c)}}function Cc(){return new $o(er(),xe())}function Ms(s){return En(()=>{const o=s.prototype.constructor,c=o[ur]||Go(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[ur]||Go(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Go(s){return Ue(s)?()=>{const o=Go(X(s));return o&&o()}:wr(s)}function zo(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Cl(s){return function ka(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(Aa(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===o)return c[f+1];f+=2}}}return null}(er(),s)}const qo="__parameters__";function Wo(s,o,c){return En(()=>{const d=function Ec(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(D,A,k){const L=D.hasOwnProperty(qo)?D[qo]:Object.defineProperty(D,qo,{value:[]})[qo];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(y),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Sn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tn(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),tn(d,o)):o!==s&&o.push(d)}return o}function gr(s,o){s.forEach(c=>Array.isArray(c)?gr(c,o):o(c))}function Ic(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function St(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function hi(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Mn(s,o,c){let d=qi(s,o);return d>=0?s[1|d]=c:(d=~d,function Er(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function yt(s,o){const c=qi(s,o);if(c>=0)return s[1|c]}function qi(s,o){return function Yo(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?f=p:d=p+1}return~(f<<c)}(s,o,1)}const Dr={},io="__NG_DI_FLAG__",Qo="ngTempTokenPath",Mc=/\n/gm,Gu="__source";let Ba;function Yi(s){const o=Ba;return Ba=s,o}function Il(s,o=Qe.Default){if(void 0===Ba)throw new De(-203,!1);return null===Ba?fr(s,void 0,o):Ba.get(s,o&Qe.Optional?null:void 0,o)}function Hn(s,o=Qe.Default){return(function Gn(){return Qn}()||Il)(X(s),o)}function I(s,o=Qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Hn(s,o)}function S(s){const o=[];for(let c=0;c<s.length;c++){const d=X(s[c]);if(Array.isArray(d)){if(0===d.length)throw new De(900,!1);let f,p=Qe.Default;for(let y=0;y<d.length;y++){const w=d[y],D=U(w);"number"==typeof D?-1===D?f=w.token:p|=D:f=w}o.push(Hn(f,p))}else o.push(Hn(d))}return o}function x(s,o){return s[io]=o,s.prototype[io]=o,s}function U(s){return s[io]}const ze=x(Wo("Optional"),8),ct=x(Wo("SkipSelf"),4);let lo;function vh(s){lo=s}class m_{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ua(s){return s instanceof m_?s.changingThisBreaksApplicationSecurity:s}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function w_(s){const o=function Th(){const s=xe();return s&&s[12]}();return o?o.sanitize(jn.URL,s)||"":function Oc(s,o){const c=function v_(s){return s instanceof m_&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}(s,"URL")?Ua(s):function _(s){return(s=String(s)).match(m)?s:"unsafe:"+s}(be(s))}const C_=new Sn("ENVIRONMENT_INITIALIZER"),Ah=new Sn("INJECTOR",-1),Qu=new Sn("INJECTOR_DEF_TYPES");class E_{get(o,c=Dr){if(c===Dr){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return c}}function qI(...s){return{\u0275providers:uw(0,s)}}function uw(s,...o){const c=[],d=new Set;let f;return gr(o,p=>{const y=p;Zp(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&kl(f,c),c}function kl(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];gr(f,p=>{o.push(p)})}}function Zp(s,o,c,d){if(!(s=X(s)))return!1;let f=null,p=ts(s);const y=!p&&R(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const D=s.ngModule;if(p=ts(D),!p)return!1;f=D}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of D)Zp(A,o,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;d.add(f);try{gr(p.imports,k=>{Zp(k,o,c,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&kl(A,o)}if(!w){const A=wr(f)||(()=>new f);o.push({provide:f,useFactory:A,deps:Rt},{provide:Qu,useValue:f,multi:!0},{provide:C_,useValue:()=>Hn(f),multi:!0})}const D=p.providers;null==D||w||gr(D,k=>{o.push(k)})}}return f!==s&&void 0!==s.providers}const lO=ge({provide:String,useValue:ge});function dw(s){return null!==s&&"object"==typeof s&&lO in s}function Pc(s){return"function"==typeof s}const Rs=new Sn("Set Injector scope."),I_={},YI={};let fw;function S_(){return void 0===fw&&(fw=new E_),fw}class Nc{}class pw extends Nc{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T_(o,y=>this.processProvider(y)),this.records.set(Ah,Mh(void 0,this)),f.has("environment")&&this.records.set(Nc,Mh(void 0,this));const p=this.records.get(Rs);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Qu.multi,Rt,Qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Yi(this),d=wn(void 0);try{return o()}finally{Yi(c),wn(d)}}get(o,c=Dr,d=Qe.Default){this.assertNotDestroyed();const f=Yi(this),p=wn(void 0);try{if(!(d&Qe.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function XI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Sn}(o)&&xr(o);w=D&&this.injectableDefInScope(D)?Mh(Xu(o),I_):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&Qe.Self?S_():this.parent).get(o,c=d&Qe.Optional&&c===Dr?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Qo]=y[Qo]||[]).unshift(fe(o)),f)throw y;return function J(s,o,c,d){const f=s[Qo];throw o[Gu]&&f.unshift(o[Gu]),s.message=function ce(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=fe(o);if(Array.isArray(o))f=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Mc,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[Qo]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{wn(p),Yi(f)}}resolveInjectorInitializers(){const o=Yi(this),c=wn(void 0);try{const d=this.get(C_.multi,Rt,Qe.Self);for(const f of d)f()}finally{Yi(o),wn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let c=Pc(o=X(o))?o:X(o&&o.provide);const d=function fs(s){return dw(s)?Mh(void 0,s.useValue):Mh(KI(s),I_)}(o);if(Pc(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Mh(void 0,I_,!0),f.factory=()=>S(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===I_&&(c.value=YI,c.value=c.factory()),"object"==typeof c.value&&c.value&&function uO(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=X(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Xu(s){const o=xr(s),c=null!==o?o.factory:wr(s);if(null!==c)return c;if(s instanceof Sn)throw new De(204,!1);if(s instanceof Function)return function cO(s){const o=s.length;if(o>0)throw hi(o,"?"),new De(204,!1);const c=function Nn(s){const o=s&&(s[$r]||s[Di]);if(o){const c=function es(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new De(204,!1)}function KI(s,o,c){let d;if(Pc(s)){const f=X(s);return wr(f)||Xu(f)}if(dw(s))d=()=>X(s.useValue);else if(function hw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...S(s.deps||[]));else if(function D_(s){return!(!s||!s.useExisting)}(s))d=()=>Hn(X(s.useExisting));else{const f=X(s&&(s.useClass||s.provide));if(!function QI(s){return!!s.deps}(s))return wr(f)||Xu(f);d=()=>new f(...S(s.deps))}return d}function Mh(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function JI(s){return!!s.\u0275providers}function T_(s,o){for(const c of s)Array.isArray(c)?T_(c,o):JI(c)?T_(c.\u0275providers,o):o(c)}class tS{}class fO{resolveComponentFactory(o){throw function dO(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Yp=(()=>{class s{}return s.NULL=new fO,s})();function nS(){return Ju(er(),xe())}function Ju(s,o){return new Fc(Cr(s,o))}let Fc=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=nS,s})();function mw(s){return s instanceof Fc?s.nativeElement:s}class A_{}let pO=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function mO(){const s=xe(),c=ln(er().index,s);return(Jn(c)?c:s)[11]}(),s})(),gO=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class rS{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const _w=new rS("14.2.11"),yw={};function Dw(s){return s.ngOriginalError}class Kp{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Dw(o);for(;c&&Dw(c);)c=Dw(c);return c||null}}const Iw=new Map;let MO=0;const Tw="__ngContext__";function Mi(s,o){Jn(o)?(s[Tw]=o[20],function RO(s){Iw.set(s[20],s)}(o)):s[Tw]=o}function Ol(s){return s instanceof Function?s():s}var ja=(()=>((ja=ja||{})[ja.Important=1]="Important",ja[ja.DashCase=2]="DashCase",ja))();function Mw(s,o){return undefined(s,o)}function Xp(s){const o=s[3];return oi(o)?o[3]:o}function xw(s){return mS(s[13])}function Rw(s){return mS(s[4])}function mS(s){for(;null!==s&&!oi(s);)s=s[4];return s}function Rh(s,o,c,d,f){if(null!=d){let p,y=!1;oi(d)?p=d:Jn(d)&&(y=!0,d=d[0]);const w=Fn(d);0===s&&null!==c?null==f?x_(o,c,w):Xo(o,c,w,f||null,!0):1===s&&null!==c?Xo(o,c,w,f||null,!0):2===s?function Hw(s,o,c){const d=Oh(s,o);d&&function Fw(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function sP(s,o,c,d,f){const p=c[7];p!==Fn(c)&&Rh(o,s,d,p,f);for(let w=10;w<c.length;w++){const D=c[w];Jp(D[1],D,s,o,d,p)}}(o,s,p,c,f)}}function Ow(s,o,c){return s.createElement(o,c)}function _S(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Bn(f,-1)),c.splice(d,1)}function Pw(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&_S(f,d),o>0&&(s[c-1][4]=d[4]);const p=St(s,10+o);!function KO(s,o){Jp(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function yS(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Jp(s,o,c,3,null,null),function JO(s){let o=s[13];if(!o)return Nw(s[1],s);for(;o;){let c=null;if(Jn(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Jn(o)&&Nw(o[1],o),o=o[3];null===o&&(o=s),Jn(o)&&Nw(o[1],o),c=o&&o[4]}o=c}}(o)}}function Nw(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function vS(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof di)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,o),function nP(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(o):Fn(o[y]),D=d[f=c[p+2]],A=c[p+3];"boolean"==typeof A?w.removeEventListener(c[p],D,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&oi(o[3])){c!==o[3]&&_S(c,o);const d=o[19];null!==d&&d.detachView(s)}!function kO(s){Iw.delete(s[20])}(o)}}function kh(s,o,c){return function Zr(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===_t.None||f===_t.Emulated)return null}return Cr(d,c)}(s,o.parent,c)}function Xo(s,o,c,d,f){s.insertBefore(o,c,d,f)}function x_(s,o,c){s.appendChild(o,c)}function ed(s,o,c,d,f){null!==d?Xo(s,o,c,d,f):x_(s,o,c)}function Oh(s,o){return s.parentNode(o)}function Lw(s,o,c){return k_(s,o,c)}let k_=function R_(s,o,c){return 40&s.type?Cr(s,c):null};function Ph(s,o,c,d){const f=kh(s,d,o),p=o[11],w=Lw(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)ed(p,f,c[D],w,!1);else ed(p,f,c,w,!1)}function O_(s,o){if(null!==o){const c=o.type;if(3&c)return Cr(o,s);if(4&c)return Uw(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return O_(s,d);{const f=s[o.index];return oi(f)?Uw(-1,f):Fn(f)}}if(32&c)return Mw(o,s)()||Fn(s[o.index]);{const d=Vw(s,o);return null!==d?Array.isArray(d)?d[0]:O_(Xp(s[16]),d):O_(s,o.next)}}return null}function Vw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Uw(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return O_(d,f)}return o[7]}function jw(s,o,c,d,f,p,y){for(;null!=c;){const w=d[c.index],D=c.type;if(y&&0===o&&(w&&Mi(Fn(w),d),c.flags|=4),64!=(64&c.flags))if(8&D)jw(s,o,c.child,d,f,p,!1),Rh(o,s,f,w,p);else if(32&D){const A=Mw(c,d);let k;for(;k=A();)Rh(o,s,f,k,p);Rh(o,s,f,w,p)}else 16&D?$w(s,o,d,c,f,p):Rh(o,s,f,w,p);c=y?c.projectionNext:c.next}}function Jp(s,o,c,d,f,p){jw(c,d,s.firstChild,o,f,p,!1)}function $w(s,o,c,d,f,p){const y=c[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Rh(o,s,f,D[A],p);else jw(s,o,D,y[3],f,p,!0)}function ES(s,o,c){s.setAttribute(o,"style",c)}function td(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Gw(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=o.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const zw="ng-template";function DS(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==Gw(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function qw(s){return 4===s.type&&s.value!==zw}function IS(s,o,c){return o===(4!==s.type||c?s.value:zw)}function SS(s,o,c){let d=4;const f=s.attrs||[],p=function AS(s){for(let o=0;o<s.length;o++)if(Aa(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!IS(s,D,c)||""===D&&1===o.length){if(ks(d))return!1;y=!0}}else{const A=8&d?D:o[++w];if(8&d&&null!==s.attrs){if(!DS(s.attrs,A,c)){if(ks(d))return!1;y=!0}continue}const L=Zw(8&d?"class":D,f,qw(s),c);if(-1===L){if(ks(d))return!1;y=!0;continue}if(""!==A){let W;W=L>p?"":f[L+1].toLowerCase();const ne=8&d?W:null;if(ne&&-1!==Gw(ne,A,0)||2&d&&A!==W){if(ks(d))return!1;y=!0}}}}else{if(!y&&!ks(d)&&!ks(D))return!1;if(y&&ks(D))continue;y=!1,d=D|1&d}}return ks(d)||y}function ks(s){return 0==(1&s)}function Zw(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let p=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function MS(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Ww(s,o,c=!1){for(let d=0;d<o.length;d++)if(SS(s,o[d],c))return!0;return!1}function P_(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function xS(s,o){return s?":not("+o.trim()+")":o}function aP(s){let o=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!ks(y)&&(o+=xS(p,f),f=""),d=y,p=p||!ks(d);c++}return""!==f&&(o+=xS(p,f)),o}const qt={};function RS(s){em(Kt(),xe(),Rn()+s,!1)}function em(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Fo(o,p,c)}else{const p=s.preOrderHooks;null!==p&&Lo(o,p,0,c)}cs(c)}function F_(s,o=null,c=null,d){const f=FS(s,o,c,d);return f.resolveInjectorInitializers(),f}function FS(s,o=null,c=null,d,f=new Set){const p=[c||Rt,qI(s)];return d=d||("object"==typeof s?void 0:fe(s)),new pw(p,o||S_(),d||null,f)}let Lc=(()=>{class s{static create(c,d){if(Array.isArray(c))return F_({name:""},d,c,"");{const f=c.name??"";return F_({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Dr,s.NULL=new E_,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Hn(Ah)}),s.__NG_ELEMENT_ID__=-1,s})();function Bh(s,o=Qe.Default){const c=xe();return null===c?Hn(s,o):Ho(er(),c,X(s),o)}function zS(){throw new Error("invalid")}function V_(s,o){return s<<17|o<<2}function Jo(s){return s>>17&32767}function n0(s){return 2|s}function Pl(s){return(131068&s)>>2}function rm(s,o){return-131069&s|o<<2}function r0(s){return 1|s}function j_(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];hc(f),y.contentQueries(2,o[p],p)}}}function $_(s,o,c,d,f,p,y,w,D,A,k){const L=o.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==k||s&&1024&s[2])&&(L[2]|=1024),ga(L),L[3]=L[15]=s,L[8]=c,L[10]=y||s&&s[10],L[11]=w||s&&s[11],L[12]=D||s&&s[12]||null,L[9]=A||s&&s[9]||null,L[6]=p,L[20]=function xO(){return MO++}(),L[21]=k,L[16]=2==o.type?s[16]:L,L}function ps(s,o,c,d,f){let p=s.data[o];if(null===p)p=function l0(s,o,c,d,f){const p=ko(),y=pl(),D=s.data[o]=function lT(s,o,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}(s,o,c,d,f),function Au(){return Ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function fl(){const s=Ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return zr(p,!0),p}function Vc(s,o,c,d){if(0===c)return-1;const f=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function c0(s,o,c){No(o);try{const d=s.viewQuery;null!==d&&b0(1,d,c);const f=s.template;null!==f&&sT(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&j_(s,o),s.staticViewQueries&&b0(2,s.viewQuery,c);const p=s.components;null!==p&&function Bc(s,o){for(let c=0;c<o.length;c++)mT(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ss()}}function jh(s,o,c,d){const f=o[2];if(128!=(128&f)){No(o);try{ga(o),function Ca(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&sT(s,o,c,2,d);const y=3==(3&f);if(y){const A=s.preOrderCheckHooks;null!==A&&Fo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Lo(o,A,0,null),Pu(o,0)}if(function v0(s){for(let o=xw(s);null!==o;o=Rw(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&Bn(p,1),f[2]|=512}}}(o),function y0(s){for(let o=xw(s);null!==o;o=Rw(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];Is(d)&&jh(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&j_(s,o),y){const A=s.contentCheckHooks;null!==A&&Fo(o,A)}else{const A=s.contentHooks;null!==A&&Lo(o,A,1),Pu(o,1)}!function a0(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)cs(~f);else{const p=f,y=c[++d],w=c[++d];Mu(y,p),w(2,o[p])}}}finally{cs(-1)}}(s,o);const w=s.components;null!==w&&function mi(s,o){for(let c=0;c<o.length;c++)pT(s,o[c])}(o,w);const D=s.viewQuery;if(null!==D&&b0(2,D,d),y){const A=s.viewCheckHooks;null!==A&&Fo(o,A)}else{const A=s.viewHooks;null!==A&&Lo(o,A,2),Pu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Bn(o[3],-1))}finally{Ss()}}}function sT(s,o,c,d,f){const p=Rn(),y=2&d;try{cs(-1),y&&o.length>22&&em(s,o,22,!1),c(d,f)}finally{cs(p)}}function G_(s,o,c){if(Ks(o)){const f=o.directiveEnd;for(let p=o.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Uc(s,o,c){!Js()||(function id(s,o,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||ds(c,o),Mi(d,o);const y=c.initialInputs;for(let w=f;w<p;w++){const D=s.data[w],A=Xr(D);A&&g0(o,c,D);const k=Gi(o,s,w,c);Mi(k,o),null!==y&&X_(0,w-f,k,D,0,y),A&&(ln(c.index,o)[8]=k)}}(s,o,c,Cr(c,o)),128==(128&c.flags)&&function uT(s,o,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function ah(){return Ft.lFrame.currentDirectiveIndex}();try{cs(p);for(let w=d;w<f;w++){const D=s.data[w],A=o[w];Po(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&h0(D,A)}}finally{cs(-1),Po(y)}}(s,o,c))}function um(s,o,c=Cr){const d=o.localNames;if(null!==d){let f=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(o,s):s[y];s[f++]=w}}}function dm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=z_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function z_(s,o,c,d,f,p,y,w,D,A){const k=22+d,L=k+f,W=function oT(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:qt);return c}(k,L),ne="function"==typeof A?A():A;return W[1]={type:s,blueprint:W,template:c,queries:null,viewQuery:w,declTNode:o,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ne,incompleteFirstPass:!1}}function q_(s,o,c,d){const f=sr(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&w0(s).push(d,f.length-1))}function Z_(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function u0(s,o){const d=o.directiveEnd,f=s.data,p=o.attrs,y=[];let w=null,D=null;for(let A=o.directiveStart;A<d;A++){const k=f[A],L=k.inputs,W=null===p||qw(o)?null:fT(L,p);y.push(W),w=Z_(L,A,w),D=Z_(k.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=D}function ms(s,o,c,d,f,p,y,w){const D=Cr(o,c);let k,A=o.inputs;!w&&null!=A&&(k=A[d])?(pm(s,c,k,d,f),al(o)&&Y_(c,o.index)):3&o.type&&(d=function W_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,o.value||"",d):f,p.setProperty(D,d,f))}function Y_(s,o){const c=ln(o,s);16&c[2]||(c[2]|=32)}function xi(s,o,c,d){let f=!1;if(Js()){const p=function dT(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Ww(c,y.selectors,!1)&&(f||(f=[]),to(ds(c,o),s,y.type),Xr(y)?(K_(s,c),f.unshift(y)):f.push(y))}return f}(s,o,c),y=null===d?null:{"":-1};if(null!==p){f=!0,p0(c,s.data.length,p.length);for(let k=0;k<p.length;k++){const L=p[k];L.providersResolver&&L.providersResolver(L)}let w=!1,D=!1,A=Vc(s,o,p.length,null);for(let k=0;k<p.length;k++){const L=p[k];c.mergedAttrs=Ma(c.mergedAttrs,L.hostAttrs),m0(s,c,o,A,L),hT(A,L,y),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const W=L.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!D&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),D=!0),A++}u0(s,c)}y&&function f0(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const p=c[o[f+1]];if(null==p)throw new De(-301,!1);d.push(o[f],p)}}}(c,d,y)}return c.mergedAttrs=Ma(c.mergedAttrs,c.attrs),f}function cT(s,o,c,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function d0(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=D&&w.push(D),w.push(d,f,y)}}function h0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function K_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hT(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Xr(o)&&(c[""]=s)}}function p0(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function m0(s,o,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=wr(f.type)),y=new di(p,Xr(f),Bh);s.blueprint[d]=y,c[d]=y,cT(s,o,0,d,Vc(s,c,f.hostVars,qt),f)}function g0(s,o,c){const d=Cr(o,s),f=dm(c),p=s[10],y=hm(s,$_(s,f,null,c.onPush?32:16,d,o,p,p.createRenderer(d,c),null,null,null));s[o.index]=y}function gs(s,o,c,d,f,p){const y=Cr(s,o);!function Q_(s,o,c,d,f,p,y){if(null==p)s.removeAttribute(o,f,c);else{const w=null==y?be(p):y(p,d||"",f);s.setAttribute(o,f,w,c)}}(o[11],y,p,s.value,c,d,f)}function X_(s,o,c,d,f,p){const y=p[o];if(null!==y){const w=d.setInput;for(let D=0;D<y.length;){const A=y[D++],k=y[D++],L=y[D++];null!==w?d.setInput(c,L,A,k):c[k]=L}}}function fT(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function _0(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function pT(s,o){const c=ln(o,s);if(Is(c)){const d=c[1];48&c[2]?jh(d,c,d.template,c[8]):c[5]>0&&J_(c)}}function J_(s){for(let d=xw(s);null!==d;d=Rw(d))for(let f=10;f<d.length;f++){const p=d[f];if(Is(p))if(512&p[2]){const y=p[1];jh(y,p,y.template,p[8])}else p[5]>0&&J_(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=ln(c[d],s);Is(f)&&f[5]>0&&J_(f)}}function mT(s,o){const c=ln(o,s),d=c[1];(function gT(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),c0(d,c,c[8])}function hm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ey(s){for(;s;){s[2]|=32;const o=Xp(s);if(sc(s)&&!o)return s;s=o}return null}function fm(s,o,c,d=!0){const f=o[10];f.begin&&f.begin();try{jh(s,o,s.template,c)}catch(y){throw d&&ny(o,y),y}finally{f.end&&f.end()}}function b0(s,o,c){hc(0),o(s,c)}function sr(s){return s[7]||(s[7]=[])}function w0(s){return s.cleanup||(s.cleanup=[])}function ty(s,o,c){return(null===s||Xr(s))&&(c=function Su(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function ny(s,o){const c=s[9],d=c?c.get(Kp,null):null;d&&d.handleError(o)}function pm(s,o,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],D=o[y],A=s.data[y];null!==A.setInput?A.setInput(D,f,d,w):D[w]=f}}function mm(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?f=ye(f,w):2==p&&(d=ye(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function zh(s,o,c,d,f=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(Fn(p)),oi(p))for(let w=10;w<p.length;w++){const D=p[w],A=D[1].firstChild;null!==A&&zh(D[1],D,A,d)}const y=c.type;if(8&y)zh(s,o,c.child,d);else if(32&y){const w=Mw(c,o);let D;for(;D=w();)d.push(D)}else if(16&y){const w=Vw(o,c);if(Array.isArray(w))d.push(...w);else{const D=Xp(o[16]);zh(D[1],D,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class qh{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return zh(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(oi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Pw(o,d),St(c,d))}this._attachedToViewContainer=!1}yS(this._lView[1],this._lView)}onDestroy(o){q_(this._lView[1],this._lView,null,o)}markForCheck(){ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XO(s,o){Jp(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class gm extends qh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;fm(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class C0 extends Yp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=R(o);return new _m(c,this.ngModule)}}function _T(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class xP{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,yw,d);return f!==yw||c===yw?f:this.parentInjector.get(o,c,d)}}class _m extends tS{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function lP(s){return s.map(aP).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return _T(this.componentDef.inputs)}get outputs(){return _T(this.componentDef.outputs)}create(o,c,d,f){let p=(f=f||this.ngModule)instanceof Nc?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new xP(o,p):o,w=y.get(A_,null);if(null===w)throw new De(407,!1);const D=y.get(gO,null),A=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",L=d?function aT(s,o,c){return s.selectRootElement(o,c===_t.ShadowDom)}(A,d,this.componentDef.encapsulation):Ow(A,k,function yT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),W=this.componentDef.onPush?288:272,ne=z_(0,null,null,1,0,null,null,null,null,null),Ee=$_(null,ne,null,W,null,null,w,A,D,y,null);let je,Ze;No(Ee);try{const dt=function vT(s,o,c,d,f,p){const y=c[1];c[22]=s;const D=ps(y,22,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(mm(D,A,!0),null!==s&&(us(f,s,A),null!==D.classes&&td(f,s,D.classes),null!==D.styles&&ES(f,s,D.styles)));const k=d.createRenderer(s,o),L=$_(c,dm(o),null,o.onPush?32:16,c[22],D,d,k,p||null,null,null);return y.firstCreatePass&&(to(ds(D,c),y,o.type),K_(y,D),p0(D,c.length,1)),hm(c,L),c[22]=L}(L,this.componentDef,Ee,w,A);if(L)if(d)us(A,L,["ng-version",_w.full]);else{const{attrs:Mt,classes:Pe}=function cP(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&o.push(p,s[++d]):8===f&&c.push(p);else{if(!ks(f))break;f=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Mt&&us(A,L,Mt),Pe&&Pe.length>0&&td(A,L,Pe.join(" "))}if(Ze=Mo(ne,22),void 0!==c){const Mt=Ze.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const xt=c[Pe];Mt.push(null!=xt?Array.from(xt):null)}}je=function ym(s,o,c,d){const f=c[1],p=function Gh(s,o,c){const d=er();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),m0(s,d,o,Vc(s,o,1,null),c),u0(s,d));const f=Gi(o,s,d.directiveStart,d);Mi(f,o);const p=Cr(d,o);return p&&Mi(p,o),f}(f,c,o);if(s[8]=c[8]=p,null!==d)for(const w of d)w(p,o);if(o.contentQueries){const w=er();o.contentQueries(1,p,w.directiveStart)}const y=er();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(cs(y.index),cT(c[1],y,0,y.directiveStart,y.directiveEnd,o),h0(o,p)),p}(dt,this.componentDef,Ee,[D0]),c0(ne,Ee,null)}finally{Ss()}return new kP(this.componentType,je,Ju(Ze,Ee),Ee,Ze)}}class kP extends class eS{}{constructor(o,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new gm(f),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const p=this._rootLView;pm(p[1],p,f,o,c),Y_(p,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function D0(){const s=er();ml(xe()[1],s)}function ry(s){let o=function I0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(Xr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);f=o.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=iy(s.inputs),y.declaredInputs=iy(s.declaredInputs),y.outputs=iy(s.outputs);const w=f.hostBindings;w&&wT(s,w);const D=f.viewQuery,A=f.contentQueries;if(D&&S0(s,D),A&&bT(s,A),ae(s.inputs,f.inputs),ae(s.declaredInputs,f.declaredInputs),ae(s.outputs,f.outputs),Xr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===ry&&(c=!1)}}o=Object.getPrototypeOf(o)}!function Zh(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=Ma(f.hostAttrs,c=Ma(c,f.hostAttrs))}}(d)}function iy(s){return s===Rr?{}:s===Rt?[]:s}function S0(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function bT(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{o(d,f,p),c(d,f,p)}:o}function wT(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let vm=null;function Hc(){if(!vm){const s=Pt.Symbol;if(s&&s.iterator)vm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(vm=d)}}}return vm}function jc(s){return!!bm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Hc()in s)}function bm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Sr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function sy(s,o,c,d){const f=xe();return Sr(f,Ea(),o)&&(Kt(),gs(kn(),f,s,o,c,d)),sy}function Bl(s,o,c,d){return Sr(s,Ea(),c)?o+be(c)+d:qt}function M0(s,o,c,d,f,p,y,w){const D=xe(),A=Kt(),k=s+22,L=A.firstCreatePass?function DT(s,o,c,d,f,p,y,w,D){const A=o.consts,k=ps(o,s,4,y||null,ui(A,w));xi(o,c,k,ui(A,D)),ml(o,k);const L=k.tViews=z_(2,k,d,f,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,k),L.queries=o.queries.embeddedTView(k)),k}(k,A,D,o,c,d,f,p,y):A.data[k];zr(L,!1);const W=D[11].createComment("");Ph(A,D,W,L),Mi(W,D),hm(D,D[k]=_0(W,D,W,L)),fa(L)&&Uc(A,D,L),null!=y&&um(D,L,w)}function x0(s){return ji(function wa(){return Ft.lFrame.contextLView}(),22+s)}function uy(s,o,c){const d=xe();return Sr(d,Ea(),o)&&ms(Kt(),kn(),d,s,o,d[11],c,!1),uy}function Gc(s,o,c,d,f){const y=f?"class":"style";pm(s,c,o.inputs[y],y,d)}function Ps(s,o,c,d){const f=xe(),p=Kt(),y=22+s,w=f[11],D=f[y]=Ow(w,o,function gc(){return Ft.lFrame.currentNamespace}()),A=p.firstCreatePass?function Tm(s,o,c,d,f,p,y){const w=o.consts,A=ps(o,s,2,f,ui(w,p));return xi(o,c,A,ui(w,y)),null!==A.attrs&&mm(A,A.attrs,!1),null!==A.mergedAttrs&&mm(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,f,0,o,c,d):p.data[y];zr(A,!0);const k=A.mergedAttrs;null!==k&&us(w,D,k);const L=A.classes;null!==L&&td(w,D,L);const W=A.styles;return null!==W&&ES(w,D,W),64!=(64&A.flags)&&Ph(p,f,D,A),0===function ya(){return Ft.lFrame.elementDepthCount}()&&Mi(D,f),function Tu(){Ft.lFrame.elementDepthCount++}(),fa(A)&&(Uc(p,f,A),G_(p,A,f)),null!==d&&um(f,A),Ps}function cd(){let s=er();pl()?Oo():(s=s.parent,zr(s,!1));const o=s;!function va(){Ft.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(ml(c,s),Ks(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _l(s){return 0!=(16&s.flags)}(o)&&Gc(c,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yl(s){return 0!=(32&s.flags)}(o)&&Gc(c,o,xe(),o.stylesWithoutHost,!1),cd}function Yh(s,o,c,d){return Ps(s,o,c,d),cd(),Yh}function zc(s,o,c){const d=xe(),f=Kt(),p=s+22,y=f.firstCreatePass?function dy(s,o,c,d,f){const p=o.consts,y=ui(p,d),w=ps(o,s,8,"ng-container",y);return null!==y&&mm(w,y,!0),xi(o,c,w,ui(p,f)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,f,d,o,c):f.data[p];zr(y,!0);const w=d[p]=d[11].createComment("");return Ph(f,d,w,y),Mi(w,d),fa(y)&&(Uc(f,d,y),G_(f,y,d)),null!=c&&um(d,y),zc}function Kh(){let s=er();const o=Kt();return pl()?Oo():(s=s.parent,zr(s,!1)),o.firstCreatePass&&(ml(o,s),Ks(s)&&o.queries.elementEnd(s)),Kh}function hy(s,o,c){return zc(s,o,c),Kh(),hy}function IT(){return xe()}function R0(s){return!!s&&"function"==typeof s.then}function ST(s){return!!s&&"function"==typeof s.subscribe}const TT=ST;function k0(s,o,c,d){const f=xe(),p=Kt(),y=er();return AT(p,f,f[11],y,s,o,0,d),k0}function O0(s,o){const c=er(),d=xe(),f=Kt();return AT(f,d,ty(dc(f.data),c,d),c,s,o),O0}function AT(s,o,c,d,f,p,y,w){const D=fa(d),k=s.firstCreatePass&&w0(s),L=o[8],W=sr(o);let ne=!0;if(3&d.type||w){const Ze=Cr(d,o),dt=w?w(Ze):Ze,Mt=W.length,Pe=w?un=>w(Fn(un[d.index])):d.index;let xt=null;if(!w&&D&&(xt=function FP(s,o,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=o[7],D=f[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,f,d.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,ne=!1;else{p=P0(d,o,L,p,!1);const un=c.listen(dt,f,p);W.push(p,un),k&&k.push(f,Pe,Mt,Mt+1)}}else p=P0(d,o,L,p,!1);const Ee=d.outputs;let je;if(ne&&null!==Ee&&(je=Ee[f])){const Ze=je.length;if(Ze)for(let dt=0;dt<Ze;dt+=2){const Pn=o[je[dt]][je[dt+1]].subscribe(p),rl=W.length;W.push(p,Pn),k&&k.push(f,d.index,rl,-(rl+1))}}}function Am(s,o,c,d){try{return!1!==c(d)}catch(f){return ny(s,f),!1}}function P0(s,o,c,d,f){return function p(y){if(y===Function)return d;ey(2&s.flags?ln(s.index,o):o);let D=Am(o,0,d,y),A=p.__ngNextListenerFn__;for(;A;)D=Am(o,0,A,y)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Qh(s=1){return function Ts(s){return(Ft.lFrame.contextLView=function ku(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ft.lFrame.contextLView))[8]}(s)}function Mm(s,o){let c=null;const d=function TS(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const p=o[f];if("*"!==p){if(null===d?Ww(s,p,!0):P_(d,p))return f}else c=f}return c}function Xh(s){const o=xe()[16][6];if(!o.projection){const d=o.projection=hi(s?s.length:1,null),f=d.slice();let p=o.child;for(;null!==p;){const y=s?Mm(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function Jh(s,o=0,c){const d=xe(),f=Kt(),p=ps(f,22+s,16,null,c||null);null===p.projection&&(p.projection=o),Oo(),64!=(64&p.flags)&&function iP(s,o,c){$w(o[11],0,o,c,kh(s,c,o),Lw(c.parent||o[6],c,o))}(f,d,p)}function N0(s,o,c){return F0(s,"",o,"",c),N0}function F0(s,o,c,d,f){const p=xe(),y=Bl(p,o,c,d);return y!==qt&&ms(Kt(),kn(),p,s,y,p[11],f,!1),F0}function xm(s,o,c,d,f){const p=s[c+1],y=null===o;let w=d?Jo(p):Pl(p),D=!1;for(;0!==w&&(!1===D||y);){const k=s[w+1];py(s[w],o)&&(D=!0,s[w+1]=d?r0(k):n0(k)),w=d?Jo(k):Pl(k)}D&&(s[c+1]=d?n0(p):r0(p))}function py(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&qi(s,o)>=0}function _y(s,o,c){return ta(s,o,c,!1),_y}function q0(s,o){return ta(s,o,null,!0),q0}function ta(s,o,c,d){const f=xe(),p=Kt(),y=function ls(s){const o=Ft.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);p.firstUpdatePass&&function yy(s,o,c,d){const f=s.data;if(null===f[c+1]){const p=f[Rn()],y=function W0(s,o){return o>=s.expandoStartIndex}(s,c);(function K0(s,o){return 0!=(s.flags&(o?16:32))})(p,d)&&null===o&&!y&&(o=!1),o=function Zc(s,o,c,d){const f=dc(s);let p=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=nf(c=vy(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(c=vy(f,s,o,c,d),null===p){let D=function na(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Pl(d))return s[Jo(d)]}(s,o,d);void 0!==D&&Array.isArray(D)&&(D=vy(null,s,o,D[1],d),D=nf(D,o.attrs,d),function FT(s,o,c,d){s[Jo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,D))}else p=function Y0(s,o,c){let d;const f=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<f;p++)d=nf(d,s[p].hostAttrs,c);return nf(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(f,p,o,d),function xT(s,o,c,d,f,p){let y=p?o.classBindings:o.styleBindings,w=Jo(y),D=Pl(y);s[d]=c;let k,A=!1;if(Array.isArray(c)){const L=c;k=L[1],(null===k||qi(L,k)>0)&&(A=!0)}else k=c;if(f)if(0!==D){const W=Jo(s[w+1]);s[d+1]=V_(W,w),0!==W&&(s[W+1]=rm(s[W+1],d)),s[w+1]=function vP(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=V_(w,0),0!==w&&(s[w+1]=rm(s[w+1],d)),w=d;else s[d+1]=V_(D,0),0===w?w=d:s[D+1]=rm(s[D+1],d),D=d;A&&(s[d+1]=n0(s[d+1])),xm(s,k,d,!0),xm(s,k,d,!1),function H0(s,o,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&qi(p,o)>=0&&(c[d+1]=r0(c[d+1]))}(o,k,s,d,p),y=V_(w,D),p?o.classBindings=y:o.styleBindings=y}(f,p,o,c,y,d)}}(p,s,y,d),o!==qt&&Sr(f,y,o)&&function Ya(s,o,c,d,f,p,y,w){if(!(3&o.type))return;const D=s.data,A=D[w+1];Fr(function WS(s){return 1==(1&s)}(A)?by(D,o,c,f,Pl(A),y):void 0)||(Fr(p)||function ZS(s){return 2==(2&s)}(A)&&(p=by(D,null,c,f,w,y)),function CS(s,o,c,d,f){if(o)f?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:ja.DashCase;null==f?s.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=ja.Important),s.setStyle(c,d,f,p))}}(d,y,Ii(Rn(),c),f,p))}(p,p.data[Rn()],f,f[11],s,f[y+1]=function Ul(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Ua(s)))),s}(o,c),d,y)}function vy(s,o,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=o[w],d=nf(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function nf(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Mn(s,y,!!c||o[++p]))}return void 0===s?null:s}function by(s,o,c,d,f,p){const y=null===o;let w;for(;f>0;){const D=s[f],A=Array.isArray(D),k=A?D[1]:D,L=null===k;let W=c[f+1];W===qt&&(W=L?Rt:void 0);let ne=L?yt(W,d):k===d?W:void 0;if(A&&!Fr(ne)&&(ne=yt(D,d)),Fr(ne)&&(w=ne,y))return w;const Ee=s[f+1];f=y?Jo(Ee):Pl(Ee)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=yt(D,d))}return w}function Fr(s){return void 0!==s}function Lr(s,o=""){const c=xe(),d=Kt(),f=s+22,p=d.firstCreatePass?ps(d,f,1,o,null):d.data[f],y=c[f]=function kw(s,o){return s.createText(o)}(c[11],o);Ph(d,c,y,p),zr(p,!1)}function Om(s){return rf("",s,""),Om}function rf(s,o,c){const d=xe(),f=Bl(d,s,o,c);return f!==qt&&function Ga(s,o,c){const d=Ii(o,s);!function gS(s,o,c){s.setValue(o,c)}(s[11],d,c)}(d,Rn(),f),rf}function lf(s,o,c){const d=xe();return Sr(d,Ea(),o)&&ms(Kt(),kn(),d,s,o,d[11],c,!0),lf}function ky(s,o,c){const d=xe();if(Sr(d,Ea(),o)){const p=Kt(),y=kn();ms(p,y,d,s,o,ty(dc(p.data),y,d),c,!0)}return ky}const hd=void 0;var UP=["en",[["a","p"],["AM","PM"],hd],[["AM","PM"],hd,hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hd,"{1} 'at' {0}",hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VP(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let cf={};function uC(s){const o=function jT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Oy(o);if(c)return c;const d=o.split("-")[0];if(c=Oy(d),c)return c;if("en"===d)return UP;throw new De(701,!1)}function dC(s){return uC(s)[kt.PluralCase]}function Oy(s){return s in cf||(cf[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),cf[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const Ka="en-US";let Ny=Ka;function Yy(s,o,c,d,f){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Yy(s[p],o,c,d,f);else{const p=Kt(),y=xe();let w=Pc(s)?s:X(s.provide),D=KI(s);const A=er(),k=1048575&A.providerIndexes,L=A.directiveStart,W=A.providerIndexes>>20;if(Pc(s)||!s.multi){const ne=new di(D,f,Bh),Ee=Qa(w,o,f?k:k+W,L);-1===Ee?(to(ds(A,y),p,w),jm(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(ne),y.push(ne)):(c[Ee]=ne,y[Ee]=ne)}else{const ne=Qa(w,o,k+W,L),Ee=Qa(w,o,k,k+W),je=ne>=0&&c[ne],Ze=Ee>=0&&c[Ee];if(f&&!Ze||!f&&!je){to(ds(A,y),p,w);const dt=function Xy(s,o,c,d,f){const p=new di(s,c,Bh);return p.multi=[],p.index=o,p.componentProviders=0,Ky(p,f,d&&!c),p}(f?kC:sA,c.length,f,d,D);!f&&Ze&&(c[Ee].providerFactory=dt),jm(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(dt),y.push(dt)}else jm(p,s,ne>-1?ne:Ee,Ky(c[f?Ee:ne],D,!f&&d));!f&&d&&Ze&&c[Ee].componentProviders++}}}function jm(s,o,c,d){const f=Pc(o),p=function WI(s){return!!s.useClass}(o);if(f||p){const D=(p?X(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const k=A.indexOf(c);-1===k?A.push(c,[d,D]):A[k+1].push(d,D)}else A.push(c,D)}}}function Ky(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Qa(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function sA(s,o,c,d){return Qy(this.multi,[])}function kC(s,o,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Gi(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Qy(f,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],Qy(f,p);return p}function Qy(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function OC(s,o=[]){return c=>{c.providersResolver=(d,f)=>function Wy(s,o,c){const d=Kt();if(d.firstCreatePass){const f=Xr(s);Yy(c,d.data,d.blueprint,f,!0),Yy(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class bd{}class wf{}function PC(s,o){return new $m(s,o??null)}class $m extends bd{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new C0(this);const d=at(o);this._bootstrapComponents=Ol(d.bootstrap),this._r3Injector=FS(o,c,[{provide:bd,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jy extends wf{constructor(o){super(),this.moduleType=o}create(o){return new $m(this.moduleType,o)}}class NC extends bd{constructor(o,c,d){super(),this.componentFactoryResolver=new C0(this),this.instance=null;const f=new pw([...o,{provide:bd,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver}],c||S_(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ev(s,o,c=null){return new NC(s,o,c).injector}let FC=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=uw(0,c.type),f=d.length>0?ev([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rn({token:s,providedIn:"environment",factory:()=>new s(Hn(Nc))}),s})();function LC(s){s.getStandaloneInjector=o=>o.get(FC).getOrCreateStandaloneInjector(s)}function UC(s,o,c,d){return HC(xe(),tr(),s,o,c,d)}function HC(s,o,c,d,f,p){const y=o+c;return Sr(s,y,f)?function za(s,o,c){return s[o]=c}(s,y+1,p?d.call(p,f):d(f)):function Cf(s,o){const c=s[o];return c===qt?void 0:c}(s,y+1)}function GC(s,o){const c=Kt();let d;const f=s+22;c.firstCreatePass?(d=function nv(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=wr(d.type)),y=wn(Bh);try{const w=xa(!1),D=p();return xa(w),function Wh(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,xe(),f,D),D}finally{wn(y)}}function IA(s,o,c){const d=s+22,f=xe(),p=ji(f,d);return function $l(s,o){return s[1].data[o].pure}(f,d)?HC(f,tr(),o,p.transform,c,p):p.transform(c)}function rv(s){return o=>{setTimeout(s,void 0,o)}}const Xa=class TA extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,p=c||(()=>null),y=d;if(o&&"object"==typeof o){const D=o;f=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=rv(p),f&&(f=rv(f)),y&&(y=rv(y)));const w=super.subscribe({next:f,error:p,complete:y});return o instanceof j.w0&&o.add(w),w}};function AA(){return this._results[Hc()]()}class iv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Hc(),d=iv.prototype;d[c]||(d[c]=AA)}get changes(){return this._changes||(this._changes=new Xa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=tn(o);(this._changesDetected=!function Na(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=o[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wd=(()=>{class s{}return s.__NG_ELEMENT_ID__=xA,s})();const MA=wd,zC=class extends MA{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=$_(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),c0(d,f,o),new qh(f)}};function xA(){return qm(er(),xe())}function qm(s,o){return 4&s.type?new zC(o,s,Ju(s,o)):null}let Ef=(()=>{class s{}return s.__NG_ELEMENT_ID__=qC,s})();function qC(){return YC(er(),xe())}const ZC=Ef,RA=class extends ZC{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return Ju(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ra(this._hostTNode,this._hostLView);if(dh(o)){const c=As(o,this._hostLView),d=nr(o);return new $o(c[1].data[d+8],c)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=WC(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=o.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(o,c,d,f,p){const y=o&&!function Pa(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const L=c||{};w=L.index,d=L.injector,f=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const D=y?o:new _m(R(o)),A=d||this.parentInjector;if(!p&&null==D.ngModule){const W=(y?A:this.parentInjector).get(Nc,null);W&&(p=W)}const k=D.create(A,f,void 0,p);return this.insert(k.hostView,w),k}insert(o,c){const d=o._lView,f=d[1];if(function cc(s){return oi(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const L=d[3],W=new RA(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function eP(s,o,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=o),d<p-10?(o[4]=c[f],Ic(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function tP(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,d,y,p);const w=Uw(p,y),D=d[11],A=Oh(D,y[7]);return null!==A&&function QO(s,o,c,d,f,p){d[0]=f,d[6]=o,Jp(s,d,c,1,f,p)}(f,y[6],D,d,A,w),o.attachToViewContainerRef(),Ic(sv(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=WC(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Pw(this._lContainer,c);d&&(St(sv(this._lContainer),c),yS(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Pw(this._lContainer,c);return d&&null!=St(sv(this._lContainer),c)?new qh(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function WC(s){return s[8]}function sv(s){return s[8]||(s[8]=[])}function YC(s,o){let c;const d=o[s.index];if(oi(d))c=d;else{let f;if(8&s.type)f=Fn(d);else{const p=o[11];f=p.createComment("");const y=Cr(s,o);Xo(p,Oh(p,y),f,function bS(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=c=_0(d,o,f,s),hm(o,c)}return new RA(c,s,o)}class ov{constructor(o){this.queryList=o,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new av(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==rE(o,c).matches&&this.queries[c].setDirty()}}class QC{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class lv{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new lv(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class cv{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new cv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(o,c,OA(c,p)),this.matchTNodeWithReadOption(o,c,Oa(c,o,p,!1,!1))}else d===wd?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Oa(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Fc||f===Ef||f===wd&&4&c.type)this.addMatch(c.index,-2);else{const p=Oa(c,o,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function OA(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function JC(s,o,c,d){return-1===c?function XC(s,o){return 11&s.type?Ju(s,o):4&s.type?qm(s,o):null}(o,s):-2===c?function PA(s,o,c){return c===Fc?Ju(o,s):c===wd?qm(o,s):c===Ef?YC(o,s):void 0}(s,o,d):Gi(s,s[1],c,o)}function Df(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let D=0;D<y.length;D+=2){const A=y[D];w.push(A<0?null:JC(o,p[A],y[D+1],c.metadata.read))}f.matches=w}return f.matches}function uv(s,o,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=Df(s,o,f,c);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)d.push(y[w/2]);else{const A=p[w+1],k=o[-D];for(let L=10;L<k.length;L++){const W=k[L];W[17]===W[3]&&uv(W[1],W,A,d)}if(null!==k[9]){const L=k[9];for(let W=0;W<L.length;W++){const ne=L[W];uv(ne[1],ne,A,d)}}}}}return d}function If(s){const o=xe(),c=Kt(),d=Da();hc(d+1);const f=rE(c,d);if(s.dirty&&function lc(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?uv(c,o,d,[]):Df(c,o,f,d);s.reset(p,mw),s.notifyOnChanges()}return!0}return!1}function NA(s,o,c){const d=Kt();d.firstCreatePass&&(nE(d,new QC(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),tE(d,xe(),o)}function dv(s,o,c,d){const f=Kt();if(f.firstCreatePass){const p=er();nE(f,new QC(o,c,d),p.index),function FA(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}tE(f,xe(),c)}function Zm(){return function eE(s,o){return s[19].queries[o].queryList}(xe(),Da())}function tE(s,o,c){const d=new iv(4==(4&c));q_(s,o,d,d.destroy),null===o[19]&&(o[19]=new av),o[19].queries.push(new ov(d))}function nE(s,o,c){null===s.queries&&(s.queries=new lv),s.queries.track(new cv(o,c))}function rE(s,o){return s.queries.getByIndex(o)}function kf(...s){}const mv=new Sn("Application Initializer");let Br=(()=>{class s{constructor(c){this.appInits=c,this.resolve=kf,this.reject=kf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(R0(p))c.push(p);else if(TT(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Hn(mv,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gE=new Sn("AppId",{providedIn:"root",factory:function Of(){return`${Pf()}${Pf()}${Pf()}`}});function Pf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nf=new Sn("Platform Initializer"),ia=new Sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xm=new Sn("appBootstrapListener"),ZA=new Sn("AnimationModuleType");let Dd=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Id=new Sn("LocaleId",{providedIn:"root",factory:()=>I(Id,Qe.Optional|Qe.SkipSelf)||function _E(){return typeof $localize<"u"&&$localize.locale||Ka}()}),yE=new Sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _v{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let yv=(()=>{class s{compileModuleSync(c){return new Jy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Ol(at(c).declarations).reduce((y,w)=>{const D=R(w);return D&&y.push(new _m(D)),y},[]);return new _v(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KA=(()=>Promise.resolve(0))();function Qc(s){typeof Zone>"u"?KA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Bs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function QA(){let s=Pt.requestAnimationFrame,o=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function bE(s){const o=()=>{!function vE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,tg(s),s.isCheckStableRunning=!0,Ff(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),tg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return Lf(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),ng(s)}},onInvoke:(c,d,f,p,y,w,D)=>{try{return Lf(s),c.invoke(f,p,y,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),ng(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,tg(s),Ff(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new De(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,o,eg,kf,kf);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const eg={};function Ff(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function tg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Lf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ng(s){s._nesting--,Ff(s)}class wv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const rg=new Sn(""),ig=new Sn("");let sg,wE=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sg||(function XA(s){sg=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),Qc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Hn(Bs),Hn(Cv),Hn(ig))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),Cv=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return sg?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),el=null;const og=new Sn("AllowMultipleToken"),ag=new Sn("PlatformDestroyListeners");class Wr{constructor(o,c){this.name=o,this.token=c}}function EE(s,o,c=[]){const d=`Platform: ${o}`,f=new Sn(d);return(p=[])=>{let y=ug();if(!y||y.injector.get(og,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function ti(s){if(el&&!el.get(og,!1))throw new De(400,!1);el=s;const o=s.get(dg);(function cg(s){const o=s.get(Nf,null);o&&o.forEach(c=>c())})(s)}(function IE(s=[],o){return Lc.create({name:o,providers:[{provide:Rs,useValue:"platform"},{provide:ag,useValue:new Set([()=>el=null])},...s]})}(w,d))}return function DE(s){const o=ug();if(!o)throw new De(401,!1);return o}()}}function ug(){return el?.get(dg)??null}let dg=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function hg(s,o){let c;return c="noop"===s?new wv:("zone.js"===s?void 0:s)||new Bs(o),c}(d?.ngZone,function SE(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Bs,useValue:f}];return f.run(()=>{const y=Lc.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),D=w.injector.get(Kp,null);if(!D)throw new De(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:k=>{D.handleError(k)}});w.onDestroy(()=>{Sd(this._modules,w),A.unsubscribe()})}),function Iv(s,o,c){try{const d=c();return R0(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(D,f,()=>{const A=w.injector.get(Br);return A.runInitializers(),A.donePromise.then(()=>(function df(s){zt(s,"Expected localeId to be defined"),"string"==typeof s&&(Ny=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Id,Ka)||Ka),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=TE({},d);return function Ev(s,o,c){const d=new Jy(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(Xc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new De(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(ag,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Hn(Lc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function TE(s,o){return Array.isArray(o)?o.reduce(TE,s):{...s,...o}}let Xc=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new O.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),Qc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(p,y.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof tS;if(!this._injector.get(Br).done)throw!f&&Ne(c),new De(405,false);let y;y=f?c:this._injector.get(Yp).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function Dv(s){return s.isBoundToModule}(y)?void 0:this._injector.get(bd),A=y.create(Lc.NULL,[],d||y.selector,w),k=A.location.nativeElement,L=A.injector.get(rg,null);return L?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),Sd(this.components,A),L?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Sd(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Xm,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Sd(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new De(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Hn(Bs),Hn(Nc),Hn(Kp))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Sd(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let ME=!0,Td=!1;function xE(){return Td=!0,ME}function RE(){if(Td)throw new Error("Cannot enable prod mode after platform setup.");ME=!1}let eM=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ad,s})();function Ad(s){return function tM(s,o,c){if(al(s)&&!c){const d=ln(s.index,o);return new qh(d,d)}return 47&s.type?new qh(o[16],o):null}(er(),xe(),16==(16&s))}class FE{constructor(){}supports(o){return jc(o)}create(o){return new gg(o)}}const xv=(s,o)=>o;class gg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xv}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<Ov(d,f,p)?c:d,w=Ov(y,f,p),D=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const A=w-f,k=D-f;if(A!=k){for(let W=0;W<A;W++){const ne=W<p.length?p[W]:p[W]=0,Ee=ne+W;k<=Ee&&Ee<A&&(p[W]=ne+1)}p[y.previousIndex]=k-A}}w!==D&&o(y,w,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!jc(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function A0(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Hc()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,f)):o=this._addAfter(new Rv(c,d),p,f),o}_verifyReinsertion(o,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,p=o._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new kv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Rv{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class kv{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new LE,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ov(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class BE{constructor(){}supports(o){return o instanceof Map||bm(o)}create(){return new jf}}class jf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||bm(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new VE(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class VE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $f(){return new eu([new FE])}let eu=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||$f()),deps:[[s,new ct,new ze]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new De(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:$f}),s})();function _g(){return new Pv([new BE])}let Pv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||_g()),deps:[[s,new ct,new ze]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new De(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:_g}),s})();const tu=EE(null,"core",[]);let nl=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Hn(Xc))},s.\u0275mod=en({type:s}),s.\u0275inj=jt({}),s})();function yg(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,Se,F)=>{F.d(Se,{Z:()=>De});var l=F(2090),j=F(4859),O=F(9681),oe=F(1877);class ue{constructor(be,me){this._delegate=be,this.firebase=me,(0,O._addComponent)(be,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(be,me=O._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(be);return!Ke.isInitialized()&&"EXPLICIT"===(null===(et=Ke.getComponent())||void 0===et?void 0:et.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:me})}_removeServiceInstance(be,me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(me)}_addComponent(be){(0,O._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,O._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ye(){const it=function fe(it){const be={},me={__esModule:!0,initializeApp:function Oe(se,de={}){const ve=O.initializeApp(se,de);if((0,l.r3)(be,ve.name))return be[ve.name];const K=new it(ve,me);return be[ve.name]=K,K},app:Ke,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ce(se){const de=se.name,ve=de.replace("-compat","");if(O._registerComponent(se)&&"PUBLIC"===se.type){const K=(ee=Ke())=>{if("function"!=typeof ee[ve])throw ae.create("invalid-app-argument",{appName:de});return ee[ve]()};void 0!==se.serviceProps&&(0,l.ZB)(K,se.serviceProps),me[ve]=K,it.prototype[ve]=function(...ee){return this._getService.bind(this,de).apply(this,se.multipleInstances?ee:[])}}return"PUBLIC"===se.type?me[ve]:null},removeApp:function et(se){delete be[se]},useAsService:function Ge(se,de){return"serverAuth"===de?null:de},modularAPIs:O}};function Ke(se){if(!(0,l.r3)(be,se=se||O._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:se});return be[se]}return me.default=me,Object.defineProperty(me,"apps",{get:function Re(){return Object.keys(be).map(se=>be[se])}}),Ke.App=it,me}(ue);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function be(me){(0,l.ZB)(it,me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),it}(),z=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=Z;!function ke(it){(0,O.registerVersion)("@firebase/app-compat","0.1.39",it)}()},9681:(ht,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ts,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>fn,_clearComponents:()=>Hi,_components:()=>Cn,_getProvider:()=>jt,_registerComponent:()=>Yt,_removeServiceInstance:()=>xr,deleteApp:()=>ns,getApp:()=>$n,getApps:()=>Di,initializeApp:()=>$r,onLog:()=>Gn,registerVersion:()=>Qn,setLogLevel:()=>wn});var l=F(5861),j=F(4859),O=F(1877),oe=F(2090),ue=F(8766);class ge{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function ae(nt){return"VERSION"===nt.getComponent()?.type}(rt)){const Dt=rt.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(rt=>rt).join(" ")}}const fe="@firebase/app",Z=new O.Yd("@firebase/app"),zt="[DEFAULT]",qe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,Cn=new Map;function nn(nt,Ie){try{nt.container.addComponent(Ie)}catch(rt){Z.debug(`Component ${Ie.name} failed to register with FirebaseApp ${nt.name}`,rt)}}function rn(nt,Ie){nt.container.addOrOverwriteComponent(Ie)}function Yt(nt){const Ie=nt.name;if(Cn.has(Ie))return Z.debug(`There were multiple attempts to register component ${Ie}.`),!1;Cn.set(Ie,nt);for(const rt of fn.values())nn(rt,nt);return!0}function jt(nt,Ie){const rt=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),nt.container.getProvider(Ie)}function xr(nt,Ie,rt=zt){jt(nt,Ie).clearInstance(rt)}function Hi(){Cn.clear()}const Nn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class es{constructor(Ie,rt,Dt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const ts="9.14.0";function $r(nt,Ie={}){let rt=nt;"object"!=typeof Ie&&(Ie={name:Ie});const Dt=Object.assign({name:zt,automaticDataCollectionEnabled:!1},Ie),It=Dt.name;if("string"!=typeof It||!It)throw Nn.create("bad-app-name",{appName:String(It)});if(rt||(rt=(0,oe.aH)()),!rt)throw Nn.create("no-options");const en=fn.get(It);if(en){if((0,oe.vZ)(rt,en.options)&&(0,oe.vZ)(Dt,en.config))return en;throw Nn.create("duplicate-app",{appName:It})}const q=new j.H0(It);for(const Y of Cn.values())q.addComponent(Y);const $=new es(rt,Dt,q);return fn.set(It,$),$}function $n(nt=zt){const Ie=fn.get(nt);if(!Ie&&nt===zt)return $r();if(!Ie)throw Nn.create("no-app",{appName:nt});return Ie}function Di(){return Array.from(fn.values())}function ns(nt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(nt){const Ie=nt.name;fn.has(Ie)&&(fn.delete(Ie),yield Promise.all(nt.container.getProviders().map(rt=>rt.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Qn(nt,Ie,rt){var Dt;let It=null!==(Dt=qe[nt])&&void 0!==Dt?Dt:nt;rt&&(It+=`-${rt}`);const en=It.match(/\s|\//),q=Ie.match(/\s|\//);if(en||q){const $=[`Unable to register library "${It}" with version "${Ie}":`];return en&&$.push(`library name "${It}" contains illegal characters (whitespace or "/")`),en&&q&&$.push("and"),q&&$.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void Z.warn($.join(" "))}Yt(new j.wA(`${It}-version`,()=>({library:It,version:Ie}),"VERSION"))}function Gn(nt,Ie){if(null!==nt&&"function"!=typeof nt)throw Nn.create("invalid-log-argument");(0,O.Am)(nt,Ie)}function wn(nt){(0,O.Ub)(nt)}const En="firebase-heartbeat-store";let Dn=null;function vn(){return Dn||(Dn=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(nt,Ie)=>{0===Ie&&nt.createObjectStore(En)}}).catch(nt=>{throw Nn.create("idb-open",{originalErrorMessage:nt.message})})),Dn}function _t(){return(_t=(0,l.Z)(function*(nt){var Ie;try{return(yield vn()).transaction(En).objectStore(En).get(Xn(nt))}catch(rt){if(rt instanceof oe.ZR)Z.warn(rt.message);else{const Dt=Nn.create("idb-get",{originalErrorMessage:null===(Ie=rt)||void 0===Ie?void 0:Ie.message});Z.warn(Dt.message)}}})).apply(this,arguments)}function Pt(nt,Ie){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(nt,Ie){var rt;try{const It=(yield vn()).transaction(En,"readwrite");return yield It.objectStore(En).put(Ie,Xn(nt)),It.done}catch(Dt){if(Dt instanceof oe.ZR)Z.warn(Dt.message);else{const It=Nn.create("idb-set",{originalErrorMessage:null===(rt=Dt)||void 0===rt?void 0:rt.message});Z.warn(It.message)}}})).apply(this,arguments)}function Xn(nt){return`${nt.name}!${nt.options.appId}`}class Gr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Qt(rt),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var Ie=this;return(0,l.Z)(function*(){const Dt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Ut();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==It&&!Ie._heartbeatsCache.heartbeats.some(en=>en.date===It))return Ie._heartbeatsCache.heartbeats.push({date:It,agent:Dt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(en=>{const q=new Date(en.date).valueOf();return Date.now()-q<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,l.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const rt=Ut(),{heartbeatsToSend:Dt,unsentEntries:It}=function ii(nt,Ie=1024){const rt=[];let Dt=nt.slice();for(const It of nt){const en=rt.find(q=>q.agent===It.agent);if(en){if(en.dates.push(It.date),ur(rt)>Ie){en.dates.pop();break}}else if(rt.push({agent:It.agent,dates:[It.date]}),ur(rt)>Ie){rt.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:Dt}}(Ie._heartbeatsCache.heartbeats),en=(0,oe.L)(JSON.stringify({version:2,heartbeats:Dt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=rt,It.length>0?(Ie._heartbeatsCache.heartbeats=It,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),en})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,l.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function gt(nt){return _t.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var rt=this;return(0,l.Z)(function*(){var Dt;if(yield rt._canUseIndexedDBPromise){const en=yield rt.read();return Pt(rt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:en.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var rt=this;return(0,l.Z)(function*(){var Dt;if(yield rt._canUseIndexedDBPromise){const en=yield rt.read();return Pt(rt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...Ie.heartbeats]})}})()}}function ur(nt){return(0,oe.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function An(nt){Yt(new j.wA("platform-logger",Ie=>new ge(Ie),"PRIVATE")),Yt(new j.wA("heartbeat",Ie=>new Gr(Ie),"PRIVATE")),Qn(fe,"0.8.4",nt),Qn(fe,"0.8.4","esm2017"),Qn("fire-js","")}("")},4859:(ht,Se,F)=>{F.d(Se,{H0:()=>fe,wA:()=>O});var l=F(5861),j=F(2090);class O{constructor(Z,z,X){this.name=Z,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const oe="[DEFAULT]";class ue{constructor(Z,z){this.name=Z,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const z=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(z)){const X=new j.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:z});Ue&&X.resolve(Ue)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(Z){var z;const X=this.normalizeInstanceIdentifier(Z?.identifier),Ue=null!==(z=Z?.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ke){if(Ue)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ae(ye){return"EAGER"===ye.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[z,X]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:Ue});X.resolve(ke)}catch{}}}}clearInstance(Z=oe){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const z=Array.from(Z.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=oe){return this.instances.has(Z)}getOptions(Z=oe){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:z={}}=Z,X=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[ke,De]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ke)&&De.resolve(Ue);return Ue}onInit(Z,z){var X;const Ue=this.normalizeInstanceIdentifier(z),ke=null!==(X=this.onInitCallbacks.get(Ue))&&void 0!==X?X:new Set;ke.add(Z),this.onInitCallbacks.set(Ue,ke);const De=this.instances.get(Ue);return De&&Z(De,Ue),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,z){const X=this.onInitCallbacks.get(z);if(X)for(const Ue of X)try{Ue(Z,z)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:z={}}){let X=this.instances.get(Z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=Z,ye===oe?void 0:ye),options:z}),this.instances.set(Z,X),this.instancesOptions.set(Z,z),this.invokeOnInitCallbacks(X,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,X)}catch{}var ye;return X||null}normalizeInstanceIdentifier(Z=oe){return this.component?this.component.multipleInstances?Z:oe:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const z=this.getProvider(Z.name);if(z.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);z.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const z=new ue(Z,this);return this.providers.set(Z,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Se,F)=>{F.d(Se,{Am:()=>ye,Ub:()=>fe,Yd:()=>ae,in:()=>j});const l=[];var j=(()=>{return(Z=j||(j={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",j;var Z})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},oe=j.INFO,ue={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ge=(Z,z,...X)=>{if(z<Z.logLevel)return;const Ue=(new Date).toISOString(),ke=ue[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${Ue}]  ${Z.name}:`,...X)};class ae{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in j))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?O[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...z),this._logHandler(this,j.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...z),this._logHandler(this,j.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,j.INFO,...z),this._logHandler(this,j.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,j.WARN,...z),this._logHandler(this,j.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...z),this._logHandler(this,j.ERROR,...z)}}function fe(Z){l.forEach(z=>{z.setLogLevel(Z)})}function ye(Z,z){for(const X of l){let Ue=null;z&&z.level&&(Ue=O[z.level]),X.userLogHandler=null===Z?null:(ke,De,...it)=>{const be=it.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");De>=(Ue??ke.logLevel)&&Z({level:j[De].toLowerCase(),message:be,args:it,type:ke.name})}}}},8766:(ht,Se,F)=>{F.d(Se,{Lj:()=>Oe,X3:()=>Ke});var l=F(5861);let O,oe;const ae=new WeakMap,fe=new WeakMap,ye=new WeakMap,Z=new WeakMap,z=new WeakMap;let ke={get(de,ve,K){if(de instanceof IDBTransaction){if("done"===ve)return fe.get(de);if("objectStoreNames"===ve)return de.objectStoreNames||ye.get(de);if("store"===ve)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return me(de[ve])},set:(de,ve,K)=>(de[ve]=K,!0),has:(de,ve)=>de instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in de};function be(de){return"function"==typeof de?function it(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ve){return de.apply(et(this),ve),me(ae.get(this))}:function(...ve){return me(de.apply(et(this),ve))}:function(ve,...K){const ee=de.call(et(this),ve,...K);return ye.set(ee,ve.sort?ve.sort():[ve]),me(ee)}}(de):(de instanceof IDBTransaction&&function Ue(de){if(fe.has(de))return;const ve=new Promise((K,ee)=>{const pe=()=>{de.removeEventListener("complete",le),de.removeEventListener("error",Be),de.removeEventListener("abort",Be)},le=()=>{K(),pe()},Be=()=>{ee(de.error||new DOMException("AbortError","AbortError")),pe()};de.addEventListener("complete",le),de.addEventListener("error",Be),de.addEventListener("abort",Be)});fe.set(de,ve)}(de),((de,ve)=>ve.some(K=>de instanceof K))(de,function ue(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,ke):de)}function me(de){if(de instanceof IDBRequest)return function X(de){const ve=new Promise((K,ee)=>{const pe=()=>{de.removeEventListener("success",le),de.removeEventListener("error",Be)},le=()=>{K(me(de.result)),pe()},Be=()=>{ee(de.error),pe()};de.addEventListener("success",le),de.addEventListener("error",Be)});return ve.then(K=>{K instanceof IDBCursor&&ae.set(K,de)}).catch(()=>{}),z.set(ve,de),ve}(de);if(Z.has(de))return Z.get(de);const ve=be(de);return ve!==de&&(Z.set(de,ve),z.set(ve,de)),ve}const et=de=>z.get(de);function Ke(de,ve,{blocked:K,upgrade:ee,blocking:pe,terminated:le}={}){const Be=indexedDB.open(de,ve),Ve=me(Be);return ee&&Be.addEventListener("upgradeneeded",mt=>{ee(me(Be.result),mt.oldVersion,mt.newVersion,me(Be.transaction))}),K&&Be.addEventListener("blocked",()=>K()),Ve.then(mt=>{le&&mt.addEventListener("close",()=>le()),pe&&mt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Ve}function Oe(de,{blocked:ve}={}){const K=indexedDB.deleteDatabase(de);return ve&&K.addEventListener("blocked",()=>ve()),me(K).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ge=new Map;function se(de,ve){if(!(de instanceof IDBDatabase)||ve in de||"string"!=typeof ve)return;if(Ge.get(ve))return Ge.get(ve);const K=ve.replace(/FromIndex$/,""),ee=ve!==K,pe=Ce.includes(K);if(!(K in(ee?IDBIndex:IDBObjectStore).prototype)||!pe&&!Re.includes(K))return;const le=function(){var Be=(0,l.Z)(function*(Ve,...mt){const an=this.transaction(Ve,pe?"readwrite":"readonly");let zt=an.store;return ee&&(zt=zt.index(mt.shift())),(yield Promise.all([zt[K](...mt),pe&&an.done]))[0]});return function(mt){return Be.apply(this,arguments)}}();return Ge.set(ve,le),le}!function De(de){ke=de(ke)}(de=>({...de,get:(ve,K,ee)=>se(ve,K)||de.get(ve,K,ee),has:(ve,K)=>!!se(ve,K)||de.has(ve,K)}))},5861:(ht,Se,F)=>{function l(O,oe,ue,ge,ae,fe,ye){try{var Z=O[fe](ye),z=Z.value}catch(X){return void ue(X)}Z.done?oe(z):Promise.resolve(z).then(ge,ae)}function j(O){return function(){var oe=this,ue=arguments;return new Promise(function(ge,ae){var fe=O.apply(oe,ue);function ye(z){l(fe,ge,ae,ye,Z,"next",z)}function Z(z){l(fe,ge,ae,ye,Z,"throw",z)}ye(void 0)})}}F.d(Se,{Z:()=>j})}},ht=>{ht(ht.s=4749)}]);